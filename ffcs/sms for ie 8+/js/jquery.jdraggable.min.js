(function(a){a.fn.jundraggable=function(b){a(document).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag");return a(this).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag")};a.fn.jdraggable=function(g){var f=this;g=a.extend(true,{},{context:a(window),handler:null,opacity:0.7,start:function(j){},drag:function(j){},stop:function(j){}},g);var e=false;var i,c=a(g.context).css("position","relative"),d=a(this).find(g.handler);if(a(this).css("position")=="fixed"){c=a(g.context)}var b=c.offset()||{left:0,top:0};d=d.length==0?a(this):d;function h(j){if(e){d.css("cursor","move");g.stop&&g.stop.call(f,j);e=false;a(f).css({transition:"",animation:"",opacity:""})}}d.css({"-moz-user-select":"none","-khtml-user-select":"none","user-select":"none"}).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag").on("mousedown.jdrag",function(j){j.preventDefault();j.stopPropagation();d.css("cursor","move");e=true;a(f).css({transition:"none",animation:"none",opacity:g.opacity});if(a(f).css("position")=="static"||a(f).css("position")=="relative"){a(f).css({position:"absolute",left:a(f).offset().left-b.left,top:a(f).offset().top-b.top})}g.start&&g.start.call(f,j);i={x:j.pageX,y:j.pageY};a(document).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag").on("mousemove.jdrag",function(m){m.preventDefault();if(e){var l=m.pageX-i.x,k=m.pageY-i.y;a(f).css({left:function(){var p=a(this).position().left+l,n=a(this).outerWidth();var o=0;if(a(this).css("position")=="fixed"){o=c.scrollLeft()}if(n+p>c.width()+c.scrollLeft()-o){p=c.width()+c.scrollLeft()-n-o}else{if(p<c.scrollLeft()-o){p=c.scrollLeft()-o}}return p},top:function(){var p=a(this).position().top+k,n=a(this).outerHeight();var o=0;if(a(this).css("position")=="fixed"){o=c.scrollTop()}if(n+p>c.height()+c.scrollTop()-o){p=c.height()+c.scrollTop()-n-o}else{if(p<c.scrollTop()-o){p=c.scrollTop()-o}}return p}});i={x:m.pageX,y:m.pageY};g.drag&&g.drag.call(f,m)}}).on("mouseup.jdrag",h)});return this}})(jQuery);