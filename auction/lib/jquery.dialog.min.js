!(function(a){a.fn.dialog=function(b){b=a.extend(true,{},{backdrop:true,resizable:false},b);if(b=="show"){a(this).trigger("show");return}else{if(b=="hide"){a(this).trigger("hide");return}}a(document).off("click.dialog").on("click.dialog",function(){a(this).trigger("hide")}).on("click.dialog",".dialog-wrap ,.dialog-mask",function(){b.backdrop&&a(".dialog-shown .dialog").trigger("hide")}).on("click.dialog","[dialog-trigger]",function(c){c.preventDefault();a(a(this).attr("dialog-trigger")).trigger("show")});a(window).off("resize.dialog").on("resize.dialog",function(){a(".dialog-mask").css({width:a(this).width(),height:a(this).height()});a(".dialog-shown .dialog").trigger("center")});!a(".dialog-mask").length&&a('<div class="dialog-mask"></div>').appendTo("body");return a(this).each(function(){var d="click.dialog",c=this;var e=a(this).show().wrap('<div class="dialog-wrap"></div>').parent().appendTo("body");a(this).off(d+" show hide toCenter").on(d,function(f){f.stopPropagation()}).on(d,"[data-hide]",function(){a(c).trigger("hide")}).on("show",function(){a(".dialog-mask").addClass("mask-shown");e.addClass("dialog-shown").trigger("shown").transitionEnd(function(){a("html").addClass("dialog-open")})}).on("hide",function(){a(".dialog-mask").removeClass("mask-shown");e.removeClass("dialog-shown").trigger("hidden").transitionEnd(function(){a("html").removeClass("dialog-open")})}).on("toCenter",function(k,h){var f=a(h||window);var m=h?f.offset():{left:0,top:0};var g={width:a(this).width(),height:a(this).height()};var j=(f.width()-g.width)/2;var i=(f.height()-g.height)/2;var l={};l.left=j+(m.left||0);l.top=i+(m.top||0);a(this).css(l);return l})})}})(window.jQuery||Zepto);