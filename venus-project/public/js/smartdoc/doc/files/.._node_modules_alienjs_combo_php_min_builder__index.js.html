<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>..\node_modules\alienjs\combo\php\min\builder\_index.js - SmartDoc</title>
  
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-smart">
 <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
               <a class="navbar-brand mainlogo" href="https://github.com/zhh77/smartdoc">
             
            <img alt="SmartDoc" src="../assets/css/logo.png" title="SmartDoc">
            
                SmartDoc
          </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                 <ul class="nav navbar-nav">
                    
                    <li><a href="https://github.com/zhh77/smartdoc">Home</a>
                    </li>
                    
                    <li><a href="/">Document</a>
                    </li>
                    
                    <li><a href="https://github.com/zhh77/smartdoc">About</a>
                    </li>
                    
                </ul>
               <div class="navbar-form navbar-right filterAPi" autocomplete="off">
                <input type="text" id='txtSearchAPI' class="form-control search-query" placeholder="Search for API" />
                 <ul id="filterList" class="filterItems dropdown-menu" role="menu"></ul>
                </div>
            </div>
        </div>
    </nav>
    <div id="sidebar">
    <h3>Modules/Classes</h3>
        <div id="api-tabview-filter">
            <input id='txtSearch' type="search" class="form-control" placeholder="Type to filter Modules/Classes">
        </div>
        <dl id="sidebar_list">
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/273.html">273</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/alienjs.html">alienjs</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/window.require.html">window.require</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Countdown.html">Countdown</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/Date.html">Date</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/jquery.html">jquery</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/jquery.transitionEnd.html">jquery.transitionEnd</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.support.transition.html">jquery.support.transition</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.animationEnd.html">jquery.animationEnd</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/jquery-ui.html">jquery-ui</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/jquery.ajaxPanel.html">jquery.ajaxPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.dialog.html">jquery.dialog</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Array.html">Array</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.browserLowVersion.html">jquery.browserLowVersion</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.confirm.html">jquery.confirm</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.alert.html">jquery.alert</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ng.html">ng</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/EventEmitter Manages event registering and emitting..html">EventEmitter Manages event registering and emitting.</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ngMock.html">ngMock</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ngMockE2E.html">ngMockE2E</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ui.html">ui</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/AjaxPanel.html">AjaxPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Date.Dialog.html">Date.Dialog</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/WebUploader.html">WebUploader</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Base.html">Base</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Mediator.html">Mediator</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/options.Uploader.html">options.Uploader</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/File.File.html">File.File</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/File.Queue.html">File.Queue</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Uploader.html">Uploader</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/window.html">window</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
        </dl>
</div>
   
    <div class="stdoc-content">
        <!--     <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>

 -->
        <div class="apidocs">
            <div id="docs-main">
                <div class="content">
                    <div class="page-header">
    <h1>..\node_modules\alienjs\combo\php\min\builder\_index.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums" id='src_code'>
/*!
 * Minify URI Builder
 */
var MUB = {
    _uid : 0,
    _minRoot : &#x27;/min/?&#x27;,
    checkRewrite : function () {
        var testUri = location.pathname.replace(/\/[^\/]*$/, &#x27;/rewriteTest.js&#x27;).substr(1);
        function fail() {
            $(&#x27;#minRewriteFailed&#x27;)[0].className = &#x27;topNote&#x27;;
        }
        $.ajax({
            url : &#x27;../f=&#x27; + testUri + &#x27;&amp;&#x27; + (new Date()).getTime(),
            success : function (data) {
                if (data === &#x27;1&#x27;) {
                    MUB._minRoot = &#x27;/min/&#x27;;
                    $(&#x27;span.minRoot&#x27;).html(&#x27;/min/&#x27;);
                } else
                    fail();                
            },
            error : fail
        });
    },
    /**
     * Get markup for new source LI element
     */
    newLi : function () {
        return &#x27;&lt;li id=&quot;li&#x27; + MUB._uid + &#x27;&quot;&gt;http://&#x27; + location.host + &#x27;/&lt;input type=text size=20&gt;&#x27; +
        &#x27; &lt;button title=&quot;Remove&quot;&gt;x&lt;/button&gt; &lt;button title=&quot;Include Earlier&quot;&gt;&amp;uarr;&lt;/button&gt;&#x27; +
        &#x27; &lt;button title=&quot;Include Later&quot;&gt;&amp;darr;&lt;/button&gt; &lt;span&gt;&lt;/span&gt;&lt;/li&gt;&#x27;;
    },
    /**
     * Add new empty source LI and attach handlers to buttons
     */
    addLi : function () {
        $(&#x27;#sources&#x27;).append(MUB.newLi());
        var li = $(&#x27;#li&#x27; + MUB._uid)[0];
        $(&#x27;button[title=Remove]&#x27;, li).click(function () {
            $(&#x27;#results&#x27;).hide();
            var hadValue = !!$(&#x27;input&#x27;, li)[0].value;
            $(li).remove();
        });
        $(&#x27;button[title$=Earlier]&#x27;, li).click(function () {
            $(li).prev(&#x27;li&#x27;).find(&#x27;input&#x27;).each(function () {
                $(&#x27;#results&#x27;).hide();
                // this = previous li input
                var tmp = this.value;
                this.value = $(&#x27;input&#x27;, li).val();
                $(&#x27;input&#x27;, li).val(tmp);
                MUB.updateAllTestLinks();
            });
        });
        $(&#x27;button[title$=Later]&#x27;, li).click(function () {
            $(li).next(&#x27;li&#x27;).find(&#x27;input&#x27;).each(function () {
                $(&#x27;#results&#x27;).hide();
                // this = next li input
                var tmp = this.value;
                this.value = $(&#x27;input&#x27;, li).val();
                $(&#x27;input&#x27;, li).val(tmp);
                MUB.updateAllTestLinks();
            });
        });
        ++MUB._uid;
    },
    /**
     * In the context of a source LI element, this will analyze the URI in
     * the INPUT and check the URL on the site.
     */
    liUpdateTestLink : function () { // call in context of li element
        if (! $(&#x27;input&#x27;, this)[0].value) 
            return;
        var li = this;
        $(&#x27;span&#x27;, this).html(&#x27;&#x27;);
        var url = location.protocol + &#x27;//&#x27; + location.host + &#x27;/&#x27; +
                $(&#x27;input&#x27;, this)[0].value.replace(/^\//, &#x27;&#x27;);
        $.ajax({
            url : url,
            complete : function (xhr, stat) {
                if (&#x27;success&#x27; === stat)
                    $(&#x27;span&#x27;, li).html(&#x27;&amp;#x2713;&#x27;);
                else {
                    $(&#x27;span&#x27;, li).html(&#x27;&lt;button&gt;&lt;b&gt;404! &lt;/b&gt; recheck&lt;/button&gt;&#x27;)
                        .find(&#x27;button&#x27;).click(function () {
                            MUB.liUpdateTestLink.call(li);
                        });
                }
            },
            dataType : &#x27;text&#x27;
        });
    },
    /**
     * Check all source URLs
     */
    updateAllTestLinks : function () {
        $(&#x27;#sources li&#x27;).each(MUB.liUpdateTestLink);
    },
    /**
     * In a given array of strings, find the character they all have at
     * a particular index
     * @param Array arr array of strings
     * @param Number pos index to check
     * @return mixed a common char or &#x27;&#x27; if any do not match
     */
    getCommonCharAtPos : function (arr, pos) {
        var i,
            l = arr.length,
            c = arr[0].charAt(pos);
        if (c === &#x27;&#x27; || l === 1)
            return c;
        for (i = 1; i &lt; l; ++i)
            if (arr[i].charAt(pos) !== c)
                return &#x27;&#x27;;
        return c;
    },
    /**
     * Get the shortest URI to minify the set of source files
     * @param Array sources URIs
     */
    getBestUri : function (sources) {
        var pos = 0,
            base = &#x27;&#x27;,
            c;
        while (true) {
            c = MUB.getCommonCharAtPos(sources, pos);
            if (c === &#x27;&#x27;)
                break;
            else
                base += c;
            ++pos;
        }
        base = base.replace(/[^\/]+$/, &#x27;&#x27;);
        var uri = MUB._minRoot + &#x27;f=&#x27; + sources.join(&#x27;,&#x27;);
        if (base.charAt(base.length - 1) === &#x27;/&#x27;) {
            // we have a base dir!
            var basedSources = sources,
                i,
                l = sources.length;
            for (i = 0; i &lt; l; ++i) {
                basedSources[i] = sources[i].substr(base.length);
            }
            base = base.substr(0, base.length - 1);
            var bUri = MUB._minRoot + &#x27;b=&#x27; + base + &#x27;&amp;f=&#x27; + basedSources.join(&#x27;,&#x27;);
            //window.console &amp;&amp; console.log([uri, bUri]);
            uri = uri.length &lt; bUri.length ? uri : bUri;
        }
        return uri;
    },
    /**
     * Create the Minify URI for the sources
     */
    update : function () {
        MUB.updateAllTestLinks();
        var sources = [],
            ext = false,
            fail = false,
            markup;
        $(&#x27;#sources input&#x27;).each(function () {
            var m, val;
            if (! fail &amp;&amp; this.value &amp;&amp; (m = this.value.match(/\.(css|js)$/))) {
                var thisExt = m[1];
                if (ext === false)
                    ext = thisExt; 
                else if (thisExt !== ext) {
                    fail = true;
                    return alert(&#x27;extensions must match!&#x27;);
                }
                this.value = this.value.replace(/^\//, &#x27;&#x27;);
                if (-1 !== $.inArray(this.value, sources)) {
                    fail = true;
                    return alert(&#x27;duplicate file!&#x27;);
                }
                sources.push(this.value);
            } 
        });
        if (fail || ! sources.length)
            return;
        $(&#x27;#groupConfig&#x27;).val(&quot;    &#x27;keyName&#x27; =&gt; array(&#x27;//&quot; + sources.join(&quot;&#x27;, &#x27;//&quot;) + &quot;&#x27;),&quot;);
        var uri = MUB.getBestUri(sources),
            uriH = uri.replace(/&lt;/, &#x27;&amp;lt;&#x27;).replace(/&gt;/, &#x27;&amp;gt;&#x27;).replace(/&amp;/, &#x27;&amp;amp;&#x27;);
        $(&#x27;#uriA&#x27;).html(uriH)[0].href = uri;
        if (ext === &#x27;js&#x27;) {
            markup = &#x27;&lt;script type=&quot;text/javascript&quot; src=&quot;&#x27; + uriH + &#x27;&quot;&gt;&lt;/script&gt;&#x27;;
        } else {
            markup = &#x27;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&#x27; + uriH + &#x27;&quot; /&gt;&#x27;;
        }
        $(&#x27;#uriHtml&#x27;).val(markup);
        $(&#x27;#results&#x27;).show();
    },
    /**
     * Handler for the &quot;Add file +&quot; button
     */
    addButtonClick : function () {
        $(&#x27;#results&#x27;).hide();
        MUB.addLi();
        MUB.updateAllTestLinks();
        $(&#x27;#update&#x27;).show().click(MUB.update);
        $(&#x27;#sources li:last input&#x27;)[0].focus();
    },
    /**
     * Runs on DOMready
     */
    init : function () {
        $(&#x27;#jsDidntLoad&#x27;).remove();
        $(&#x27;#app&#x27;).show();
        $(&#x27;#sources&#x27;).html(&#x27;&#x27;);
        $(&#x27;#add button&#x27;).click(MUB.addButtonClick);
        // make easier to copy text out of
        $(&#x27;#uriHtml, #groupConfig, #symlinkOpt&#x27;).click(function () {
            this.select();
        }).focus(function () {
            this.select();
        });
        $(&#x27;a.ext&#x27;).attr({target:&#x27;_blank&#x27;});
        if (location.hash) {
            // make links out of URIs from bookmarklet
            $(&#x27;#getBm&#x27;).hide();
            var i = 0, found = location.hash.substr(1).split(&#x27;,&#x27;), l = found.length;
            $(&#x27;#bmUris&#x27;).html(&#x27;&lt;p&gt;&lt;strong&gt;Found by bookmarklet:&lt;/strong&gt; /&lt;/p&gt;&#x27;);
            var $p = $(&#x27;#bmUris p&#x27;);
            for (; i &lt; l; i++) {
                $p.append($(&#x27;&lt;a href=#&gt;&lt;/a&gt;&#x27;).text(found[i])[0]);
                if (i &lt; (l - 1)) {
                    $p.append(&#x27;, /&#x27;);
                }
            }
            $(&#x27;#bmUris a&#x27;).click(function () {
                MUB.addButtonClick();
                $(&#x27;#sources li:last input&#x27;).val(this.innerHTML);
                MUB.liUpdateTestLink.call($(&#x27;#sources li:last&#x27;)[0]);
                $(&#x27;#results&#x27;).hide();
                return false;
            }).attr({title:&#x27;Add file +&#x27;});
        } else {
            // setup bookmarklet 1
            $.ajax({
                url : &#x27;../?f=&#x27; + location.pathname.replace(/\/[^\/]*$/, &#x27;/bm.js&#x27;).substr(1),
                success : function (code) {
                    $(&#x27;#bm&#x27;)[0].href = code
                        .replace(&#x27;%BUILDER_URL%&#x27;, location.href)
                        .replace(/\n/g, &#x27; &#x27;);
                },
                dataType : &#x27;text&#x27;
            });
            if ($.browser.msie) {
                $(&#x27;#getBm p:last&#x27;).append(&#x27; Sorry, not supported in MSIE!&#x27;);
            }
            MUB.addButtonClick();
        }
        // setup bookmarklet 2
        $.ajax({
            url : &#x27;../?f=&#x27; + location.pathname.replace(/\/[^\/]*$/, &#x27;/bm2.js&#x27;).substr(1),
            success : function (code) {
                $(&#x27;#bm2&#x27;)[0].href = code.replace(/\n/g, &#x27; &#x27;);
            },
            dataType : &#x27;text&#x27;
        });
        MUB.checkRewrite();
    }
};
$(MUB.init);

    </pre>
</div>

                </div>
            </div>
        </div>
    </div>
<a id="gotoTop" class='well well-small' href='#'>
    Top
</a>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/config.js"></script>
<script src="../assets/js/doc.js"></script>
</body>
</html>
