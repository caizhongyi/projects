<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>..\node_modules\backbone\backbone_demo\scripts\libs\camera\camera.js - SmartDoc</title>
  
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-smart">
 <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
               <a class="navbar-brand mainlogo" href="https://github.com/zhh77/smartdoc">
             
            <img alt="SmartDoc" src="../assets/css/logo.png" title="SmartDoc">
            
                SmartDoc
          </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                 <ul class="nav navbar-nav">
                    
                    <li><a href="https://github.com/zhh77/smartdoc">Home</a>
                    </li>
                    
                    <li><a href="/">Document</a>
                    </li>
                    
                    <li><a href="https://github.com/zhh77/smartdoc">About</a>
                    </li>
                    
                </ul>
               <div class="navbar-form navbar-right filterAPi" autocomplete="off">
                <input type="text" id='txtSearchAPI' class="form-control search-query" placeholder="Search for API" />
                 <ul id="filterList" class="filterItems dropdown-menu" role="menu"></ul>
                </div>
            </div>
        </div>
    </nav>
    <div id="sidebar">
    <h3>Modules/Classes</h3>
        <div id="api-tabview-filter">
            <input id='txtSearch' type="search" class="form-control" placeholder="Type to filter Modules/Classes">
        </div>
        <dl id="sidebar_list">
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/273.html">273</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/alienjs.html">alienjs</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/window.require.html">window.require</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Countdown.html">Countdown</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/Date.html">Date</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/jquery.html">jquery</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/jquery.transitionEnd.html">jquery.transitionEnd</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.support.transition.html">jquery.support.transition</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.animationEnd.html">jquery.animationEnd</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/jquery-ui.html">jquery-ui</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/jquery.ajaxPanel.html">jquery.ajaxPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.dialog.html">jquery.dialog</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Array.html">Array</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.browserLowVersion.html">jquery.browserLowVersion</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.confirm.html">jquery.confirm</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/jquery.alert.html">jquery.alert</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ng.html">ng</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/EventEmitter Manages event registering and emitting..html">EventEmitter Manages event registering and emitting.</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ngMock.html">ngMock</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ngMockE2E.html">ngMockE2E</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/ui.html">ui</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/AjaxPanel.html">AjaxPanel</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Date.Dialog.html">Date.Dialog</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/WebUploader.html">WebUploader</a>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Base.html">Base</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Mediator.html">Mediator</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/options.Uploader.html">options.Uploader</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/File.File.html">File.File</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/File.Queue.html">File.Queue</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Uploader.html">Uploader</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <a href="../modules/window.html">window</a>
                </dt>
                <dd>
                    <ul>
                   
                    </ul>
                </dd>
             
        </dl>
</div>
   
    <div class="stdoc-content">
        <!--     <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>

 -->
        <div class="apidocs">
            <div id="docs-main">
                <div class="content">
                    <div class="page-header">
    <h1>..\node_modules\backbone\backbone_demo\scripts\libs\camera\camera.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums" id='src_code'>
// Camera slideshow v1.3.3 - a jQuery slideshow with many effects, transitions, easy to customize, using canvas and mobile ready, based on jQuery 1.4+
// Copyright (c) 2012 by Manuel Masia - www.pixedelic.com
// Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
;(function($){$.fn.camera = function(opts, callback) {
	
	var defaults = {
		alignment			: &#x27;center&#x27;, //topLeft, topCenter, topRight, centerLeft, center, centerRight, bottomLeft, bottomCenter, bottomRight
		
		autoAdvance			: true,	//true, false
		
		mobileAutoAdvance	: true, //true, false. Auto-advancing for mobile devices
		
		barDirection		: &#x27;leftToRight&#x27;,	//&#x27;leftToRight&#x27;, &#x27;rightToLeft&#x27;, &#x27;topToBottom&#x27;, &#x27;bottomToTop&#x27;
		
		barPosition			: &#x27;bottom&#x27;,	//&#x27;bottom&#x27;, &#x27;left&#x27;, &#x27;top&#x27;, &#x27;right&#x27;
		
		cols				: 6,
		
		easing				: &#x27;easeInOutExpo&#x27;,	//for the complete list http://jqueryui.com/demos/effect/easing.html
		
		mobileEasing		: &#x27;&#x27;,	//leave empty if you want to display the same easing on mobile devices and on desktop etc.
		
		fx					: &#x27;random&#x27;,	//&#x27;random&#x27;,&#x27;simpleFade&#x27;, &#x27;curtainTopLeft&#x27;, &#x27;curtainTopRight&#x27;, &#x27;curtainBottomLeft&#x27;, &#x27;curtainBottomRight&#x27;, &#x27;curtainSliceLeft&#x27;, &#x27;curtainSliceRight&#x27;, &#x27;blindCurtainTopLeft&#x27;, &#x27;blindCurtainTopRight&#x27;, &#x27;blindCurtainBottomLeft&#x27;, &#x27;blindCurtainBottomRight&#x27;, &#x27;blindCurtainSliceBottom&#x27;, &#x27;blindCurtainSliceTop&#x27;, &#x27;stampede&#x27;, &#x27;mosaic&#x27;, &#x27;mosaicReverse&#x27;, &#x27;mosaicRandom&#x27;, &#x27;mosaicSpiral&#x27;, &#x27;mosaicSpiralReverse&#x27;, &#x27;topLeftBottomRight&#x27;, &#x27;bottomRightTopLeft&#x27;, &#x27;bottomLeftTopRight&#x27;, &#x27;bottomLeftTopRight&#x27;
										//you can also use more than one effect, just separate them with commas: &#x27;simpleFade, scrollRight, scrollBottom&#x27;

		mobileFx			: &#x27;&#x27;,	//leave empty if you want to display the same effect on mobile devices and on desktop etc.

		gridDifference		: 250,	//to make the grid blocks slower than the slices, this value must be smaller than transPeriod
		
		height				: &#x27;50%&#x27;,	//here you can type pixels (for instance &#x27;300px&#x27;), a percentage (relative to the width of the slideshow, for instance &#x27;50%&#x27;) or &#x27;auto&#x27;
		
		imagePath			: &#x27;images/&#x27;,	//he path to the image folder (it serves for the blank.gif, when you want to display videos)
		
		hover				: true,	//true, false. Puase on state hover. Not available for mobile devices
				
		loader				: &#x27;pie&#x27;,	//pie, bar, none (even if you choose &quot;pie&quot;, old browsers like IE8- can&#x27;t display it... they will display always a loading bar)
		
		loaderColor			: &#x27;#eeeeee&#x27;, 
		
		loaderBgColor		: &#x27;#222222&#x27;, 
		
		loaderOpacity		: .8,	//0, .1, .2, .3, .4, .5, .6, .7, .8, .9, 1
		
		loaderPadding		: 2,	//how many empty pixels you want to display between the loader and its background
		
		loaderStroke		: 7,	//the thickness both of the pie loader and of the bar loader. Remember: for the pie, the loader thickness must be less than a half of the pie diameter
				
		minHeight			: &#x27;200px&#x27;,	//you can also leave it blank
		
		navigation			: true,	//true or false, to display or not the navigation buttons
		
		navigationHover		: true,	//if true the navigation button (prev, next and play/stop buttons) will be visible on hover state only, if false they will be visible always
		
		mobileNavHover		: true,	//same as above, but only for mobile devices
		
		opacityOnGrid		: false,	//true, false. Decide to apply a fade effect to blocks and slices: if your slideshow is fullscreen or simply big, I recommend to set it false to have a smoother effect 
		
		overlayer			: true,	//a layer on the images to prevent the users grab them simply by clicking the right button of their mouse (.camera_overlayer)
		
		pagination			: true,
		
		playPause			: true,	//true or false, to display or not the play/pause buttons
		
		pauseOnClick		: true,	//true, false. It stops the slideshow when you click the sliders.
		
		pieDiameter			: 38,
		
		piePosition			: &#x27;rightTop&#x27;,	//&#x27;rightTop&#x27;, &#x27;leftTop&#x27;, &#x27;leftBottom&#x27;, &#x27;rightBottom&#x27;
		
		portrait			: false, //true, false. Select true if you don&#x27;t want that your images are cropped
		
		rows				: 4,
		
		slicedCols			: 12,	//if 0 the same value of cols
		
		slicedRows			: 8,	//if 0 the same value of rows
		
		slideOn				: &#x27;random&#x27;,	//next, prev, random: decide if the transition effect will be applied to the current (prev) or the next slide
		
		thumbnails			: false,
		
		time				: 7000,	//milliseconds between the end of the sliding effect and the start of the nex one
		
		transPeriod			: 1500,	//lenght of the sliding effect in milliseconds
		
////////callbacks

		onEndTransition		: function() {  },	//this callback is invoked when the transition effect ends

		onLoaded			: function() {  },	//this callback is invoked when the image on a slide has completely loaded
		
		onStartLoading		: function() {  },	//this callback is invoked when the image on a slide start loading
		
		onStartTransition	: function() {  }	//this callback is invoked when the transition effect starts

    };
	
	
	function isMobile() {
		if( navigator.userAgent.match(/Android/i) ||
			navigator.userAgent.match(/webOS/i) ||
			navigator.userAgent.match(/iPad/i) ||
			navigator.userAgent.match(/iPhone/i) ||
			navigator.userAgent.match(/iPod/i)
			){
				return true;
		}
	}

	var opts = $.extend({}, defaults, opts);
	
	var wrap = $(this).addClass(&#x27;camera_wrap&#x27;);
	
	wrap.wrapInner(
        &#x27;&lt;div class=&quot;camera_src&quot; /&gt;&#x27;
		).wrapInner(
	    &#x27;&lt;div class=&quot;camera_fakehover&quot; /&gt;&#x27;
		);
		
	var fakeHover = $(&#x27;.camera_fakehover&#x27;,wrap);
	
	fakeHover.append(
		&#x27;&lt;div class=&quot;camera_target&quot;&gt;&lt;/div&gt;&#x27;
		);
	if(opts.overlayer == true){
		fakeHover.append(
			&#x27;&lt;div class=&quot;camera_overlayer&quot;&gt;&lt;/div&gt;&#x27;
			)
	}
		fakeHover.append(
        &#x27;&lt;div class=&quot;camera_target_content&quot;&gt;&lt;/div&gt;&#x27;
		);
		
	var loader;
	
	if(opts.loader==&#x27;pie&#x27; &amp;&amp; $.browser.msie &amp;&amp; $.browser.version &lt; 9){
		loader = &#x27;bar&#x27;;
	} else {
		loader = opts.loader;
	}
	
	if(loader == &#x27;pie&#x27;){
		fakeHover.append(
			&#x27;&lt;div class=&quot;camera_pie&quot;&gt;&lt;/div&gt;&#x27;
			)
	} else if (loader == &#x27;bar&#x27;) {
		fakeHover.append(
			&#x27;&lt;div class=&quot;camera_bar&quot;&gt;&lt;/div&gt;&#x27;
			)
	} else {
		fakeHover.append(
			&#x27;&lt;div class=&quot;camera_bar&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;&#x27;
			)
	}
	
	if(opts.playPause==true){
		fakeHover.append(
        &#x27;&lt;div class=&quot;camera_commands&quot;&gt;&lt;/div&gt;&#x27;
		)
	}
		
	if(opts.navigation==true){
		fakeHover.append(
			&#x27;&lt;div class=&quot;camera_prev&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&#x27;
			).append(
			&#x27;&lt;div class=&quot;camera_next&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&#x27;
			);
	}
		
	if(opts.thumbnails==true){
		wrap.append(
			&#x27;&lt;div class=&quot;camera_thumbs_cont&quot; /&gt;&#x27;
			);
	}
	
	if(opts.thumbnails==true &amp;&amp; opts.pagination!=true){
		$(&#x27;.camera_thumbs_cont&#x27;,wrap).wrap(
			&#x27;&lt;div /&gt;&#x27;
			).wrap(
				&#x27;&lt;div class=&quot;camera_thumbs&quot; /&gt;&#x27;
			).wrap(
				&#x27;&lt;div /&gt;&#x27;
			).wrap(
				&#x27;&lt;div class=&quot;camera_command_wrap&quot; /&gt;&#x27;
			);
	}
		
	if(opts.pagination==true){
		wrap.append(
			&#x27;&lt;div class=&quot;camera_pag&quot;&gt;&lt;/div&gt;&#x27;
			);
	}
		
	wrap.append(
		&#x27;&lt;div class=&quot;camera_loader&quot;&gt;&lt;/div&gt;&#x27;
		);
		
	$(&#x27;.camera_caption&#x27;,wrap).each(function(){
		$(this).wrapInner(&#x27;&lt;div /&gt;&#x27;);
	});
		
                
	var pieID = &#x27;pie_&#x27;+wrap.index(),
		elem = $(&#x27;.camera_src&#x27;,wrap),
		target = $(&#x27;.camera_target&#x27;,wrap),
		content = $(&#x27;.camera_target_content&#x27;,wrap),
		pieContainer = $(&#x27;.camera_pie&#x27;,wrap),
		barContainer = $(&#x27;.camera_bar&#x27;,wrap),
		prevNav = $(&#x27;.camera_prev&#x27;,wrap),
		nextNav = $(&#x27;.camera_next&#x27;,wrap),
		commands = $(&#x27;.camera_commands&#x27;,wrap),
		pagination = $(&#x27;.camera_pag&#x27;,wrap),
		thumbs = $(&#x27;.camera_thumbs_cont&#x27;,wrap);	

	
	var w,
		h;


	var allImg = new Array();
	$(&#x27;&gt; div&#x27;, elem).each( function() { 
		allImg.push($(this).attr(&#x27;data-src&#x27;));
	});
	
	var allLinks = new Array();
	$(&#x27;&gt; div&#x27;, elem).each( function() {
		if($(this).attr(&#x27;data-link&#x27;)){
			allLinks.push($(this).attr(&#x27;data-link&#x27;));
		} else {
			allLinks.push(&#x27;&#x27;);
		}
	});
	
	var allTargets = new Array();
	$(&#x27;&gt; div&#x27;, elem).each( function() {
		if($(this).attr(&#x27;data-target&#x27;)){
			allTargets.push($(this).attr(&#x27;data-target&#x27;));
		} else {
			allTargets.push(&#x27;&#x27;);
		}
	});
	
	var allPor = new Array();
	$(&#x27;&gt; div&#x27;, elem).each( function() {
		if($(this).attr(&#x27;data-portrait&#x27;)){
			allPor.push($(this).attr(&#x27;data-portrait&#x27;));
		} else {
			allPor.push(&#x27;&#x27;);
		}
	});
	
	var allAlign= new Array();
	$(&#x27;&gt; div&#x27;, elem).each( function() { 
		if($(this).attr(&#x27;data-alignment&#x27;)){
			allAlign.push($(this).attr(&#x27;data-alignment&#x27;));
		} else {
			allAlign.push(&#x27;&#x27;);
		}
	});
	
		
	var allThumbs = new Array();
	$(&#x27;&gt; div&#x27;, elem).each( function() { 
		if($(this).attr(&#x27;data-thumb&#x27;)){
			allThumbs.push($(this).attr(&#x27;data-thumb&#x27;));
		} else {
			allThumbs.push(&#x27;&#x27;);
		}
	});
	
	var amountSlide = allImg.length;

	$(content).append(&#x27;&lt;div class=&quot;cameraContents&quot; /&gt;&#x27;);
	var loopMove;
	for (loopMove=0;loopMove&lt;amountSlide;loopMove++)
	{
		$(&#x27;.cameraContents&#x27;,content).append(&#x27;&lt;div class=&quot;cameraContent&quot; /&gt;&#x27;);
		if(allLinks[loopMove]!=&#x27;&#x27;){
			//only for Wordpress plugin
			var dataBox = $(&#x27;&gt; div &#x27;,elem).eq(loopMove).attr(&#x27;data-box&#x27;);
			if(typeof dataBox !== &#x27;undefined&#x27; &amp;&amp; dataBox !== false &amp;&amp; dataBox != &#x27;&#x27;) {
				dataBox = &#x27;data-box=&quot;&#x27;+$(&#x27;&gt; div &#x27;,elem).eq(loopMove).attr(&#x27;data-box&#x27;)+&#x27;&quot;&#x27;;
			} else {
				dataBox = &#x27;&#x27;;
			}
			//
			$(&#x27;.camera_target_content .cameraContent:eq(&#x27;+loopMove+&#x27;)&#x27;,wrap).append(&#x27;&lt;a class=&quot;camera_link&quot; href=&quot;&#x27;+allLinks[loopMove]+&#x27;&quot; &#x27;+dataBox+&#x27; target=&quot;&#x27;+allTargets[loopMove]+&#x27;&quot;&gt;&lt;/a&gt;&#x27;);
		}

	}
	$(&#x27;.camera_caption&#x27;,wrap).each(function(){
		var ind = $(this).parent().index(),
			cont = wrap.find(&#x27;.cameraContent&#x27;).eq(ind);
		$(this).appendTo(cont);
	});
	
	target.append(&#x27;&lt;div class=&quot;cameraCont&quot; /&gt;&#x27;);
	var cameraCont = $(&#x27;.cameraCont&#x27;,wrap);
	

	
	var loop;
	for (loop=0;loop&lt;amountSlide;loop++)
	{
		cameraCont.append(&#x27;&lt;div class=&quot;cameraSlide cameraSlide_&#x27;+loop+&#x27;&quot; /&gt;&#x27;);
		var div = $(&#x27;&gt; div:eq(&#x27;+loop+&#x27;)&#x27;,elem);
		target.find(&#x27;.cameraSlide_&#x27;+loop).clone(div);
	}
	
	
	function thumbnailVisible() {
		var wTh = $(thumbs).width();
		$(&#x27;li&#x27;, thumbs).removeClass(&#x27;camera_visThumb&#x27;);
		$(&#x27;li&#x27;, thumbs).each(function(){
			var pos = $(this).position(),
				ulW = $(&#x27;ul&#x27;, thumbs).outerWidth(),
				offUl = $(&#x27;ul&#x27;, thumbs).offset().left,
				offDiv = $(&#x27;&gt; div&#x27;,thumbs).offset().left,
				ulLeft = offDiv-offUl;
				if(ulLeft&gt;0){
					$(&#x27;.camera_prevThumbs&#x27;,camera_thumbs_wrap).removeClass(&#x27;hideNav&#x27;);
				} else {
					$(&#x27;.camera_prevThumbs&#x27;,camera_thumbs_wrap).addClass(&#x27;hideNav&#x27;);
				}
				if((ulW-ulLeft)&gt;wTh){
					$(&#x27;.camera_nextThumbs&#x27;,camera_thumbs_wrap).removeClass(&#x27;hideNav&#x27;);
				} else {
					$(&#x27;.camera_nextThumbs&#x27;,camera_thumbs_wrap).addClass(&#x27;hideNav&#x27;);
				}
				var left = pos.left,
					right = pos.left+($(this).width());
				if(right-ulLeft&lt;=wTh &amp;&amp; left-ulLeft&gt;=0){
					$(this).addClass(&#x27;camera_visThumb&#x27;);
				}
		});
	}
	
	$(window).bind(&#x27;load resize pageshow&#x27;,function(){
		thumbnailPos();
		thumbnailVisible();
	});


	cameraCont.append(&#x27;&lt;div class=&quot;cameraSlide cameraSlide_&#x27;+loop+&#x27;&quot; /&gt;&#x27;);
	
	
	var started;
	
	wrap.show();
	var w = target.width();
	var h = target.height();
	
	var setPause;
		
	$(window).bind(&#x27;resize pageshow&#x27;,function(){
		if(started == true) {
			resizeImage();
		}
		$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-top&#x27;:0},0,thumbnailPos);
		if(!elem.hasClass(&#x27;paused&#x27;)){
			elem.addClass(&#x27;paused&#x27;);
			if($(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).length){
				$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).hide()
				$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).show();
				if(loader!=&#x27;none&#x27;){
					$(&#x27;#&#x27;+pieID).hide();
				}
			} else {
				if(loader!=&#x27;none&#x27;){
					$(&#x27;#&#x27;+pieID).hide();
				}
			}
			clearTimeout(setPause);
			setPause = setTimeout(function(){
				elem.removeClass(&#x27;paused&#x27;);
				if($(&#x27;.camera_play&#x27;,camera_thumbs_wrap).length){
					$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).hide();
					$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).show();
					if(loader!=&#x27;none&#x27;){
						$(&#x27;#&#x27;+pieID).fadeIn();
					}
				} else {
					if(loader!=&#x27;none&#x27;){
						$(&#x27;#&#x27;+pieID).fadeIn();
					}
				}
			},1500);
		}
	});
	
	function resizeImage(){	
		var res;
		function resizeImageWork(){
			w = wrap.width();
			if(opts.height.indexOf(&#x27;%&#x27;)!=-1) {
				var startH = Math.round(w / (100/parseFloat(opts.height)));
				if(opts.minHeight != &#x27;&#x27; &amp;&amp; startH &lt; parseFloat(opts.minHeight)){
					h = parseFloat(opts.minHeight);
				} else {
					h = startH;
				}
				wrap.css({height:h});
			} else if (opts.height==&#x27;auto&#x27;) {
				h = wrap.height();
			} else {
				h = parseFloat(opts.height);
				wrap.css({height:h});
			}
			$(&#x27;.camerarelative&#x27;,target).css({&#x27;width&#x27;:w,&#x27;height&#x27;:h});
			$(&#x27;.imgLoaded&#x27;,target).each(function(){
				var t = $(this),
					wT = t.attr(&#x27;width&#x27;),
					hT = t.attr(&#x27;height&#x27;),
					imgLoadIn = t.index(),
					mTop,
					mLeft,
					alignment = t.attr(&#x27;data-alignment&#x27;),
					portrait =  t.attr(&#x27;data-portrait&#x27;);
					
					if(typeof alignment === &#x27;undefined&#x27; || alignment === false || alignment === &#x27;&#x27;){
						alignment = opts.alignment;
					}
					
					if(typeof portrait === &#x27;undefined&#x27; || portrait === false || portrait === &#x27;&#x27;){
						portrait = opts.portrait;
					}
										
					if(portrait==false||portrait==&#x27;false&#x27;){
						if((wT/hT)&lt;(w/h)) {
							var r = w / wT;
							var d = (Math.abs(h - (hT*r)))*0.5;
							switch(alignment){
								case &#x27;topLeft&#x27;:
									mTop = 0;
									break;
								case &#x27;topCenter&#x27;:
									mTop = 0;
									break;
								case &#x27;topRight&#x27;:
									mTop = 0;
									break;
								case &#x27;centerLeft&#x27;:
									mTop = &#x27;-&#x27;+d+&#x27;px&#x27;;
									break;
								case &#x27;center&#x27;:
									mTop = &#x27;-&#x27;+d+&#x27;px&#x27;;
									break;
								case &#x27;centerRight&#x27;:
									mTop = &#x27;-&#x27;+d+&#x27;px&#x27;;
									break;
								case &#x27;bottomLeft&#x27;:
									mTop = &#x27;-&#x27;+d*2+&#x27;px&#x27;;
									break;
								case &#x27;bottomCenter&#x27;:
									mTop = &#x27;-&#x27;+d*2+&#x27;px&#x27;;
									break;
								case &#x27;bottomRight&#x27;:
									mTop = &#x27;-&#x27;+d*2+&#x27;px&#x27;;
									break;
							}
							t.css({
								&#x27;height&#x27; : hT*r,
								&#x27;margin-left&#x27; : 0,
								&#x27;margin-top&#x27; : mTop,
								&#x27;position&#x27; : &#x27;absolute&#x27;,
								&#x27;visibility&#x27; : &#x27;visible&#x27;,
								&#x27;width&#x27; : w
							});
						}
						else {
							var r = h / hT;
							var d = (Math.abs(w - (wT*r)))*0.5;
							switch(alignment){
								case &#x27;topLeft&#x27;:
									mLeft = 0;
									break;
								case &#x27;topCenter&#x27;:
									mLeft = &#x27;-&#x27;+d+&#x27;px&#x27;;
									break;
								case &#x27;topRight&#x27;:
									mLeft = &#x27;-&#x27;+d*2+&#x27;px&#x27;;
									break;
								case &#x27;centerLeft&#x27;:
									mLeft = 0;
									break;
								case &#x27;center&#x27;:
									mLeft = &#x27;-&#x27;+d+&#x27;px&#x27;;
									break;
								case &#x27;centerRight&#x27;:
									mLeft = &#x27;-&#x27;+d*2+&#x27;px&#x27;;
									break;
								case &#x27;bottomLeft&#x27;:
									mLeft = 0;
									break;
								case &#x27;bottomCenter&#x27;:
									mLeft = &#x27;-&#x27;+d+&#x27;px&#x27;;
									break;
								case &#x27;bottomRight&#x27;:
									mLeft = &#x27;-&#x27;+d*2+&#x27;px&#x27;;
									break;
							}
							t.css({
								&#x27;height&#x27; : h,
								&#x27;margin-left&#x27; : mLeft,
								&#x27;margin-top&#x27; : 0,
								&#x27;position&#x27; : &#x27;absolute&#x27;,
								&#x27;visibility&#x27; : &#x27;visible&#x27;,
								&#x27;width&#x27; : wT*r
							});
						}
					} else {
						if((wT/hT)&lt;(w/h)) {
							var r = h / hT;
							var d = (Math.abs(w - (wT*r)))*0.5;
							switch(alignment){
								case &#x27;topLeft&#x27;:
									mLeft = 0;
									break;
								case &#x27;topCenter&#x27;:
									mLeft = d+&#x27;px&#x27;;
									break;
								case &#x27;topRight&#x27;:
									mLeft = d*2+&#x27;px&#x27;;
									break;
								case &#x27;centerLeft&#x27;:
									mLeft = 0;
									break;
								case &#x27;center&#x27;:
									mLeft = d+&#x27;px&#x27;;
									break;
								case &#x27;centerRight&#x27;:
									mLeft = d*2+&#x27;px&#x27;;
									break;
								case &#x27;bottomLeft&#x27;:
									mLeft = 0;
									break;
								case &#x27;bottomCenter&#x27;:
									mLeft = d+&#x27;px&#x27;;
									break;
								case &#x27;bottomRight&#x27;:
									mLeft = d*2+&#x27;px&#x27;;
									break;
							}
							t.css({
								&#x27;height&#x27; : h,
								&#x27;margin-left&#x27; : mLeft,
								&#x27;margin-top&#x27; : 0,
								&#x27;position&#x27; : &#x27;absolute&#x27;,
								&#x27;visibility&#x27; : &#x27;visible&#x27;,
								&#x27;width&#x27; : wT*r
							});
						}
						else {
							var r = w / wT;
							var d = (Math.abs(h - (hT*r)))*0.5;
							switch(alignment){
								case &#x27;topLeft&#x27;:
									mTop = 0;
									break;
								case &#x27;topCenter&#x27;:
									mTop = 0;
									break;
								case &#x27;topRight&#x27;:
									mTop = 0;
									break;
								case &#x27;centerLeft&#x27;:
									mTop = d+&#x27;px&#x27;;
									break;
								case &#x27;center&#x27;:
									mTop = d+&#x27;px&#x27;;
									break;
								case &#x27;centerRight&#x27;:
									mTop = d+&#x27;px&#x27;;
									break;
								case &#x27;bottomLeft&#x27;:
									mTop = d*2+&#x27;px&#x27;;
									break;
								case &#x27;bottomCenter&#x27;:
									mTop = d*2+&#x27;px&#x27;;
									break;
								case &#x27;bottomRight&#x27;:
									mTop = d*2+&#x27;px&#x27;;
									break;
							}
							t.css({
								&#x27;height&#x27; : hT*r,
								&#x27;margin-left&#x27; : 0,
								&#x27;margin-top&#x27; : mTop,
								&#x27;position&#x27; : &#x27;absolute&#x27;,
								&#x27;visibility&#x27; : &#x27;visible&#x27;,
								&#x27;width&#x27; : w
							});
						}
					}
			});
		}
		if (started == true) {
			clearTimeout(res);
			res = setTimeout(resizeImageWork,200);
		} else {
			resizeImageWork();
		}
		
		started = true;
	}
	
	
	var u,
		setT;

	var clickEv,
		autoAdv,
		navHover,
		commands,
		pagination;

	var videoHover,
		videoPresent;
		
	if(isMobile() &amp;&amp; opts.mobileAutoAdvance!=&#x27;&#x27;){
		autoAdv = opts.mobileAutoAdvance;
	} else {
		autoAdv = opts.autoAdvance;
	}
	
	if(autoAdv==false){
		elem.addClass(&#x27;paused&#x27;);
	}

	if(isMobile() &amp;&amp; opts.mobileNavHover!=&#x27;&#x27;){
		navHover = opts.mobileNavHover;
	} else {
		navHover = opts.navigationHover;
	}

	if(elem.length!=0){
			
		var selector = $(&#x27;.cameraSlide&#x27;,target);
		selector.wrapInner(&#x27;&lt;div class=&quot;camerarelative&quot; /&gt;&#x27;);
		
		var navSlide;
			
		var barDirection = opts.barDirection;
	
		var camera_thumbs_wrap = wrap;


		$(&#x27;iframe&#x27;,fakeHover).each(function(){
			var t = $(this);
			var src = t.attr(&#x27;src&#x27;);
			t.attr(&#x27;data-src&#x27;,src);
			var divInd = t.parent().index(&#x27;.camera_src &gt; div&#x27;);
			$(&#x27;.camera_target_content .cameraContent:eq(&#x27;+divInd+&#x27;)&#x27;,wrap).append(t);
		});
		function imgFake() {
				$(&#x27;iframe&#x27;,fakeHover).each(function(){
					$(&#x27;.camera_caption&#x27;,fakeHover).show();
					var t = $(this);
					var cloneSrc = t.attr(&#x27;data-src&#x27;);
					t.attr(&#x27;src&#x27;,cloneSrc);
					var imgFakeUrl = opts.imagePath+&#x27;blank.gif&#x27;;
					var imgFake = new Image();
					imgFake.src = imgFakeUrl;
					if(opts.height.indexOf(&#x27;%&#x27;)!=-1) {
						var startH = Math.round(w / (100/parseFloat(opts.height)));
						if(opts.minHeight != &#x27;&#x27; &amp;&amp; startH &lt; parseFloat(opts.minHeight)){
							h = parseFloat(opts.minHeight);
						} else {
							h = startH;
						}
					} else if (opts.height==&#x27;auto&#x27;) {
						h = wrap.height();
					} else {
						h = parseFloat(opts.height);
					}
					t.after($(imgFake).attr({&#x27;class&#x27;:&#x27;imgFake&#x27;,&#x27;width&#x27;:w,&#x27;height&#x27;:h}));
					var clone = t.clone();
					t.remove();
					$(imgFake).bind(&#x27;click&#x27;,function(){
						if($(this).css(&#x27;position&#x27;)==&#x27;absolute&#x27;) {
							$(this).remove();
							if(cloneSrc.indexOf(&#x27;vimeo&#x27;) != -1 || cloneSrc.indexOf(&#x27;youtube&#x27;) != -1) {
								if(cloneSrc.indexOf(&#x27;?&#x27;) != -1){
									autoplay = &#x27;&amp;autoplay=1&#x27;;
								} else {
									autoplay = &#x27;?autoplay=1&#x27;;
								}
							} else if(cloneSrc.indexOf(&#x27;dailymotion&#x27;) != -1) {
								if(cloneSrc.indexOf(&#x27;?&#x27;) != -1){
									autoplay = &#x27;&amp;autoPlay=1&#x27;;
								} else {
									autoplay = &#x27;?autoPlay=1&#x27;;
								}
							}
							clone.attr(&#x27;src&#x27;,cloneSrc+autoplay);
							videoPresent = true;
						} else {
							$(this).css({position:&#x27;absolute&#x27;,top:0,left:0,zIndex:10}).after(clone);
							clone.css({position:&#x27;absolute&#x27;,top:0,left:0,zIndex:9});
						}
					});
				});
		}
		
		imgFake();
		
		
		if(opts.hover==true){
			if(!isMobile()){
				fakeHover.hover(function(){
					elem.addClass(&#x27;hovered&#x27;);
				},function(){
					elem.removeClass(&#x27;hovered&#x27;);
				});
			}
		}

		if(navHover==true){
			$(prevNav,wrap).animate({opacity:0},0);
			$(nextNav,wrap).animate({opacity:0},0);
			$(commands,wrap).animate({opacity:0},0);
			if(isMobile()){
				fakeHover.live(&#x27;vmouseover&#x27;,function(){
					$(prevNav,wrap).animate({opacity:1},200);
					$(nextNav,wrap).animate({opacity:1},200);
					$(commands,wrap).animate({opacity:1},200);
				});
				fakeHover.live(&#x27;vmouseout&#x27;,function(){
					$(prevNav,wrap).delay(500).animate({opacity:0},200);
					$(nextNav,wrap).delay(500).animate({opacity:0},200);
					$(commands,wrap).delay(500).animate({opacity:0},200);
				});
			} else {
				fakeHover.hover(function(){
					$(prevNav,wrap).animate({opacity:1},200);
					$(nextNav,wrap).animate({opacity:1},200);
					$(commands,wrap).animate({opacity:1},200);
				},function(){
					$(prevNav,wrap).animate({opacity:0},200);
					$(nextNav,wrap).animate({opacity:0},200);
					$(commands,wrap).animate({opacity:0},200);
				});
			}
		}
		
	
		$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).live(&#x27;click&#x27;,function(){
			autoAdv = false;
			elem.addClass(&#x27;paused&#x27;);
			if($(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).length){
				$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).hide()
				$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).show();
				if(loader!=&#x27;none&#x27;){
					$(&#x27;#&#x27;+pieID).hide();
				}
			} else {
				if(loader!=&#x27;none&#x27;){
					$(&#x27;#&#x27;+pieID).hide();
				}
			}
		});
	
		$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).live(&#x27;click&#x27;,function(){
			autoAdv = true;
			elem.removeClass(&#x27;paused&#x27;);
			if($(&#x27;.camera_play&#x27;,camera_thumbs_wrap).length){
				$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).hide();
				$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).show();
				if(loader!=&#x27;none&#x27;){
					$(&#x27;#&#x27;+pieID).show();
				}
			} else {
				if(loader!=&#x27;none&#x27;){
					$(&#x27;#&#x27;+pieID).show();
				}
			}
		});
	
		if(opts.pauseOnClick==true){
			$(&#x27;.camera_target_content&#x27;,fakeHover).mouseup(function(){
				autoAdv = false;
				elem.addClass(&#x27;paused&#x27;);
				$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).hide()
				$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).show();
				$(&#x27;#&#x27;+pieID).hide();
			});
		}
		$(&#x27;.cameraContent, .imgFake&#x27;,fakeHover).hover(function(){
			videoHover = true;
		},function(){
			videoHover = false;
		});
		
		$(&#x27;.cameraContent, .imgFake&#x27;,fakeHover).bind(&#x27;click&#x27;,function(){
			if(videoPresent == true &amp;&amp; videoHover == true) {
				autoAdv = false;
				$(&#x27;.camera_caption&#x27;,fakeHover).hide();
				elem.addClass(&#x27;paused&#x27;);
				$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).hide()
				$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).show();
				$(&#x27;#&#x27;+pieID).hide();
			}
		});
		
		
	}
	
	
		function shuffle(arr) {
			for(
			  var j, x, i = arr.length; i;
			  j = parseInt(Math.random() * i),
			  x = arr[--i], arr[i] = arr[j], arr[j] = x
			);
			return arr;
		}
	
		function isInteger(s) {
			return Math.ceil(s) == Math.floor(s);
		}	
	
		if (loader != &#x27;pie&#x27;) {
			barContainer.append(&#x27;&lt;span class=&quot;camera_bar_cont&quot; /&gt;&#x27;);
			$(&#x27;.camera_bar_cont&#x27;,barContainer)
				.animate({opacity:opts.loaderOpacity},0)
				.css({&#x27;position&#x27;:&#x27;absolute&#x27;, &#x27;left&#x27;:0, &#x27;right&#x27;:0, &#x27;top&#x27;:0, &#x27;bottom&#x27;:0, &#x27;background-color&#x27;:opts.loaderBgColor})
				.append(&#x27;&lt;span id=&quot;&#x27;+pieID+&#x27;&quot; /&gt;&#x27;);
			$(&#x27;#&#x27;+pieID).animate({opacity:0},0);
			var canvas = $(&#x27;#&#x27;+pieID);
			canvas.css({&#x27;position&#x27;:&#x27;absolute&#x27;, &#x27;background-color&#x27;:opts.loaderColor});
			switch(opts.barPosition){
				case &#x27;left&#x27;:
					barContainer.css({right:&#x27;auto&#x27;,width:opts.loaderStroke});
					break;
				case &#x27;right&#x27;:
					barContainer.css({left:&#x27;auto&#x27;,width:opts.loaderStroke});
					break;
				case &#x27;top&#x27;:
					barContainer.css({bottom:&#x27;auto&#x27;,height:opts.loaderStroke});
					break;
				case &#x27;bottom&#x27;:
					barContainer.css({top:&#x27;auto&#x27;,height:opts.loaderStroke});
					break;
			}
			switch(barDirection){
				case &#x27;leftToRight&#x27;:
					canvas.css({&#x27;left&#x27;:0, &#x27;right&#x27;:0, &#x27;top&#x27;:opts.loaderPadding, &#x27;bottom&#x27;:opts.loaderPadding});
					break;
				case &#x27;rightToLeft&#x27;:
					canvas.css({&#x27;left&#x27;:0, &#x27;right&#x27;:0, &#x27;top&#x27;:opts.loaderPadding, &#x27;bottom&#x27;:opts.loaderPadding});
					break;
				case &#x27;topToBottom&#x27;:
					canvas.css({&#x27;left&#x27;:opts.loaderPadding, &#x27;right&#x27;:opts.loaderPadding, &#x27;top&#x27;:0, &#x27;bottom&#x27;:0});
					break;
				case &#x27;bottomToTop&#x27;:
					canvas.css({&#x27;left&#x27;:opts.loaderPadding, &#x27;right&#x27;:opts.loaderPadding, &#x27;top&#x27;:0, &#x27;bottom&#x27;:0});
					break;
			}
		} else {
			pieContainer.append(&#x27;&lt;canvas id=&quot;&#x27;+pieID+&#x27;&quot;&gt;&lt;/canvas&gt;&#x27;);
			var G_vmlCanvasManager;
			var canvas = document.getElementById(pieID);
			canvas.setAttribute(&quot;width&quot;, opts.pieDiameter);
			canvas.setAttribute(&quot;height&quot;, opts.pieDiameter);
			var piePosition;
			switch(opts.piePosition){
				case &#x27;leftTop&#x27; :
					piePosition = &#x27;left:0; top:0;&#x27;;
					break;
				case &#x27;rightTop&#x27; :
					piePosition = &#x27;right:0; top:0;&#x27;;
					break;
				case &#x27;leftBottom&#x27; :
					piePosition = &#x27;left:0; bottom:0;&#x27;;
					break;
				case &#x27;rightBottom&#x27; :
					piePosition = &#x27;right:0; bottom:0;&#x27;;
					break;
			}
			canvas.setAttribute(&quot;style&quot;, &quot;position:absolute; z-index:1002; &quot;+piePosition);
			var rad;
			var radNew;
	
			if (canvas &amp;&amp; canvas.getContext) {
				var ctx = canvas.getContext(&quot;2d&quot;);
				ctx.rotate(Math.PI*(3/2));
				ctx.translate(-opts.pieDiameter,0);
			}
		
		}
		if(loader==&#x27;none&#x27; || autoAdv==false) {
			$(&#x27;#&#x27;+pieID).hide();
			$(&#x27;.camera_canvas_wrap&#x27;,camera_thumbs_wrap).hide();
		}
		
		if($(pagination).length) {
			$(pagination).append(&#x27;&lt;ul class=&quot;camera_pag_ul&quot; /&gt;&#x27;);
			var li;
			for (li = 0; li &lt; amountSlide; li++){
				$(&#x27;.camera_pag_ul&#x27;,wrap).append(&#x27;&lt;li class=&quot;pag_nav_&#x27;+li+&#x27;&quot; style=&quot;position:relative; z-index:1002&quot;&gt;&lt;span&gt;&lt;span&gt;&#x27;+li+&#x27;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&#x27;);
			}
			$(&#x27;.camera_pag_ul li&#x27;,wrap).hover(function(){
				$(this).addClass(&#x27;camera_hover&#x27;);
				if($(&#x27;.camera_thumb&#x27;,this).length){
					var wTh = $(&#x27;.camera_thumb&#x27;,this).outerWidth(),
					hTh = $(&#x27;.camera_thumb&#x27;,this).outerHeight(),
					wTt = $(this).outerWidth();
					$(&#x27;.camera_thumb&#x27;,this).show().css({&#x27;top&#x27;:&#x27;-&#x27;+hTh+&#x27;px&#x27;,&#x27;left&#x27;:&#x27;-&#x27;+(wTh-wTt)/2+&#x27;px&#x27;}).animate({&#x27;opacity&#x27;:1,&#x27;margin-top&#x27;:&#x27;-3px&#x27;},200);
					$(&#x27;.thumb_arrow&#x27;,this).show().animate({&#x27;opacity&#x27;:1,&#x27;margin-top&#x27;:&#x27;-3px&#x27;},200);
				}
			},function(){
				$(this).removeClass(&#x27;camera_hover&#x27;);
				$(&#x27;.camera_thumb&#x27;,this).animate({&#x27;margin-top&#x27;:&#x27;-20px&#x27;,&#x27;opacity&#x27;:0},200,function(){
					$(this).css({marginTop:&#x27;5px&#x27;}).hide();
				});
				$(&#x27;.thumb_arrow&#x27;,this).animate({&#x27;margin-top&#x27;:&#x27;-20px&#x27;,&#x27;opacity&#x27;:0},200,function(){
					$(this).css({marginTop:&#x27;5px&#x27;}).hide();
				});
			});
		}
			
	
	
		if($(thumbs).length) {
			var thumbUrl;
			if(!$(pagination).length) {
				$(thumbs).append(&#x27;&lt;div /&gt;&#x27;);
				$(thumbs).before(&#x27;&lt;div class=&quot;camera_prevThumbs hideNav&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;).before(&#x27;&lt;div class=&quot;camera_nextThumbs hideNav&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;);
				$(&#x27;&gt; div&#x27;,thumbs).append(&#x27;&lt;ul /&gt;&#x27;);
				$.each(allThumbs, function(i, val) {
					if($(&#x27;&gt; div&#x27;, elem).eq(i).attr(&#x27;data-thumb&#x27;)!=&#x27;&#x27;) {
						var thumbUrl = $(&#x27;&gt; div&#x27;, elem).eq(i).attr(&#x27;data-thumb&#x27;),
							newImg = new Image();
						newImg.src = thumbUrl;
						$(&#x27;ul&#x27;,thumbs).append(&#x27;&lt;li class=&quot;pix_thumb pix_thumb_&#x27;+i+&#x27;&quot; /&gt;&#x27;);
						$(&#x27;li.pix_thumb_&#x27;+i,thumbs).append($(newImg).attr(&#x27;class&#x27;,&#x27;camera_thumb&#x27;));
					}
				});
			} else {
				$.each(allThumbs, function(i, val) {
					if($(&#x27;&gt; div&#x27;, elem).eq(i).attr(&#x27;data-thumb&#x27;)!=&#x27;&#x27;) {
						var thumbUrl = $(&#x27;&gt; div&#x27;, elem).eq(i).attr(&#x27;data-thumb&#x27;),
							newImg = new Image();
						newImg.src = thumbUrl;
						$(&#x27;li.pag_nav_&#x27;+i,pagination).append($(newImg).attr(&#x27;class&#x27;,&#x27;camera_thumb&#x27;).css({&#x27;position&#x27;:&#x27;absolute&#x27;}).animate({opacity:0},0));
						$(&#x27;li.pag_nav_&#x27;+i+&#x27; &gt; img&#x27;,pagination).after(&#x27;&lt;div class=&quot;thumb_arrow&quot; /&gt;&#x27;);
						$(&#x27;li.pag_nav_&#x27;+i+&#x27; &gt; .thumb_arrow&#x27;,pagination).animate({opacity:0},0);
					}
				});
				wrap.css({marginBottom:$(pagination).outerHeight()});
			}
		} else if(!$(thumbs).length &amp;&amp; $(pagination).length) {
			wrap.css({marginBottom:$(pagination).outerHeight()});
		}

	
		var firstPos = true;

		function thumbnailPos() {
			if($(thumbs).length &amp;&amp; !$(pagination).length) {
				var wTh = $(thumbs).outerWidth(),
					owTh = $(&#x27;ul &gt; li&#x27;,thumbs).outerWidth(),
					pos = $(&#x27;li.cameracurrent&#x27;, thumbs).length ? $(&#x27;li.cameracurrent&#x27;, thumbs).position() : &#x27;&#x27;,
					ulW = ($(&#x27;ul &gt; li&#x27;, thumbs).length * $(&#x27;ul &gt; li&#x27;, thumbs).outerWidth()),
					offUl = $(&#x27;ul&#x27;, thumbs).offset().left,
					offDiv = $(&#x27;&gt; div&#x27;, thumbs).offset().left,
					ulLeft;

					if(offUl&lt;0){
						ulLeft = &#x27;-&#x27;+ (offDiv-offUl);
					} else {
						ulLeft = offDiv-offUl;
					}
					
					
					
				if(firstPos == true) {
					$(&#x27;ul&#x27;, thumbs).width($(&#x27;ul &gt; li&#x27;, thumbs).length * $(&#x27;ul &gt; li&#x27;, thumbs).outerWidth());
					if($(thumbs).length &amp;&amp; !$(pagination).lenght) {
						wrap.css({marginBottom:$(thumbs).outerHeight()});
					}
					thumbnailVisible();
					/*I repeat this two lines because of a problem with iPhones*/
					$(&#x27;ul&#x27;, thumbs).width($(&#x27;ul &gt; li&#x27;, thumbs).length * $(&#x27;ul &gt; li&#x27;, thumbs).outerWidth());
					if($(thumbs).length &amp;&amp; !$(pagination).lenght) {
						wrap.css({marginBottom:$(thumbs).outerHeight()});
					}
					/*...*/
				}
				firstPos = false;
				
					var left = $(&#x27;li.cameracurrent&#x27;, thumbs).length ? pos.left : &#x27;&#x27;,
						right = $(&#x27;li.cameracurrent&#x27;, thumbs).length ? pos.left+($(&#x27;li.cameracurrent&#x27;, thumbs).outerWidth()) : &#x27;&#x27;;
					if(left&lt;$(&#x27;li.cameracurrent&#x27;, thumbs).outerWidth()) {
						left = 0;
					}
					if(right-ulLeft&gt;wTh){
						if((left+wTh)&lt;ulW){
							$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-left&#x27;:&#x27;-&#x27;+(left)+&#x27;px&#x27;},500,thumbnailVisible);
						} else {
							$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-left&#x27;:&#x27;-&#x27;+($(&#x27;ul&#x27;, thumbs).outerWidth()-wTh)+&#x27;px&#x27;},500,thumbnailVisible);
						}
					} else if(left-ulLeft&lt;0) {
						$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-left&#x27;:&#x27;-&#x27;+(left)+&#x27;px&#x27;},500,thumbnailVisible);
					} else {
						$(&#x27;ul&#x27;, thumbs).css({&#x27;margin-left&#x27;:&#x27;auto&#x27;, &#x27;margin-right&#x27;:&#x27;auto&#x27;});
						setTimeout(thumbnailVisible,100);
					}
					
			}
		}

		if($(commands).length) {
			$(commands).append(&#x27;&lt;div class=&quot;camera_play&quot;&gt;&lt;/div&gt;&#x27;).append(&#x27;&lt;div class=&quot;camera_stop&quot;&gt;&lt;/div&gt;&#x27;);
			if(autoAdv==true){
				$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).hide();
				$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).show();
			} else {
				$(&#x27;.camera_stop&#x27;,camera_thumbs_wrap).hide();
				$(&#x27;.camera_play&#x27;,camera_thumbs_wrap).show();
			}
			
		}
			
			
		function canvasLoader() {
			rad = 0;
			var barWidth = $(&#x27;.camera_bar_cont&#x27;,camera_thumbs_wrap).width(),
				barHeight = $(&#x27;.camera_bar_cont&#x27;,camera_thumbs_wrap).height();

			if (loader != &#x27;pie&#x27;) {
				switch(barDirection){
					case &#x27;leftToRight&#x27;:
						$(&#x27;#&#x27;+pieID).css({&#x27;right&#x27;:barWidth});
						break;
					case &#x27;rightToLeft&#x27;:
						$(&#x27;#&#x27;+pieID).css({&#x27;left&#x27;:barWidth});
						break;
					case &#x27;topToBottom&#x27;:
						$(&#x27;#&#x27;+pieID).css({&#x27;bottom&#x27;:barHeight});
						break;
					case &#x27;bottomToTop&#x27;:
						$(&#x27;#&#x27;+pieID).css({&#x27;top&#x27;:barHeight});
						break;
				}
			} else {
				ctx.clearRect(0,0,opts.pieDiameter,opts.pieDiameter); 
			}
		}
		
		
		canvasLoader();
		
		
		$(&#x27;.moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom&#x27;,fakeHover).each(function(){
			$(this).css(&#x27;visibility&#x27;,&#x27;hidden&#x27;);
		});
		
		opts.onStartLoading.call(this);
		
		nextSlide();
		
	
	/*************************** FUNCTION nextSlide() ***************************/
	
	function nextSlide(navSlide){ 
		elem.addClass(&#x27;camerasliding&#x27;);
		
		videoPresent = false;
		var vis = parseFloat($(&#x27;div.cameraSlide.cameracurrent&#x27;,target).index());

		if(navSlide&gt;0){ 
			var slideI = navSlide-1;
		} else if (vis == amountSlide-1) { 
			var slideI = 0;
		} else {
			var slideI = vis+1;
		}
		
				
		var slide = $(&#x27;.cameraSlide:eq(&#x27;+slideI+&#x27;)&#x27;,target);
		var slideNext = $(&#x27;.cameraSlide:eq(&#x27;+(slideI+1)+&#x27;)&#x27;,target).addClass(&#x27;cameranext&#x27;);
		if( vis != slideI+1 ) {
			slideNext.hide();
		}
		$(&#x27;.cameraContent&#x27;,fakeHover).fadeOut(600);
		$(&#x27;.camera_caption&#x27;,fakeHover).show();
		
		$(&#x27;.camerarelative&#x27;,slide).append($(&#x27;&gt; div &#x27;,elem).eq(slideI).find(&#x27;&gt; div.camera_effected&#x27;));

		$(&#x27;.camera_target_content .cameraContent:eq(&#x27;+slideI+&#x27;)&#x27;,wrap).append($(&#x27;&gt; div &#x27;,elem).eq(slideI).find(&#x27;&gt; div&#x27;));
		
		if(!$(&#x27;.imgLoaded&#x27;,slide).length){
			var imgUrl = allImg[slideI];
			var imgLoaded = new Image();
			imgLoaded.src = imgUrl +&quot;?&quot;+ new Date().getTime();
			slide.css(&#x27;visibility&#x27;,&#x27;hidden&#x27;);
			slide.prepend($(imgLoaded).attr(&#x27;class&#x27;,&#x27;imgLoaded&#x27;).css(&#x27;visibility&#x27;,&#x27;hidden&#x27;));
			var wT, hT;
			if (!$(imgLoaded).get(0).complete || wT == &#x27;0&#x27; || hT == &#x27;0&#x27; || typeof wT === &#x27;undefined&#x27; || wT === false || typeof hT === &#x27;undefined&#x27; || hT === false) {
				$(&#x27;.camera_loader&#x27;,wrap).delay(500).fadeIn(400);
				imgLoaded.onload = function() {
					wT = imgLoaded.naturalWidth;
					hT = imgLoaded.naturalHeight;
					$(imgLoaded).attr(&#x27;data-alignment&#x27;,allAlign[slideI]).attr(&#x27;data-portrait&#x27;,allPor[slideI]);
					$(imgLoaded).attr(&#x27;width&#x27;,wT);
					$(imgLoaded).attr(&#x27;height&#x27;,hT);
					target.find(&#x27;.cameraSlide_&#x27;+slideI).hide().css(&#x27;visibility&#x27;,&#x27;visible&#x27;);
					resizeImage();
					nextSlide(slideI+1);
				};
			}
		} else {
			if( allImg.length &gt; (slideI+1) &amp;&amp; !$(&#x27;.imgLoaded&#x27;,slideNext).length ){
				var imgUrl2 = allImg[(slideI+1)];
				var imgLoaded2 = new Image();
				imgLoaded2.src = imgUrl2 +&quot;?&quot;+ new Date().getTime();
				slideNext.prepend($(imgLoaded2).attr(&#x27;class&#x27;,&#x27;imgLoaded&#x27;).css(&#x27;visibility&#x27;,&#x27;hidden&#x27;));
				imgLoaded2.onload = function() {
					wT = imgLoaded2.naturalWidth;
					hT = imgLoaded2.naturalHeight;
					$(imgLoaded2).attr(&#x27;data-alignment&#x27;,allAlign[slideI+1]).attr(&#x27;data-portrait&#x27;,allPor[slideI+1]);
					$(imgLoaded2).attr(&#x27;width&#x27;,wT);
					$(imgLoaded2).attr(&#x27;height&#x27;,hT);
					resizeImage();
				};
			}
			opts.onLoaded.call(this);
			if($(&#x27;.camera_loader&#x27;,wrap).is(&#x27;:visible&#x27;)){
				$(&#x27;.camera_loader&#x27;,wrap).fadeOut(400);
			} else {
				$(&#x27;.camera_loader&#x27;,wrap).css({&#x27;visibility&#x27;:&#x27;hidden&#x27;});
				$(&#x27;.camera_loader&#x27;,wrap).fadeOut(400,function(){
					$(&#x27;.camera_loader&#x27;,wrap).css({&#x27;visibility&#x27;:&#x27;visible&#x27;});
				});
			}
			var rows = opts.rows,
				cols = opts.cols,
				couples = 1,
				difference = 0,
				dataSlideOn,
				time,
				transPeriod,
				fx,
				easing,
				randomFx = new Array(&#x27;simpleFade&#x27;,&#x27;curtainTopLeft&#x27;,&#x27;curtainTopRight&#x27;,&#x27;curtainBottomLeft&#x27;,&#x27;curtainBottomRight&#x27;,&#x27;curtainSliceLeft&#x27;,&#x27;curtainSliceRight&#x27;,&#x27;blindCurtainTopLeft&#x27;,&#x27;blindCurtainTopRight&#x27;,&#x27;blindCurtainBottomLeft&#x27;,&#x27;blindCurtainBottomRight&#x27;,&#x27;blindCurtainSliceBottom&#x27;,&#x27;blindCurtainSliceTop&#x27;,&#x27;stampede&#x27;,&#x27;mosaic&#x27;,&#x27;mosaicReverse&#x27;,&#x27;mosaicRandom&#x27;,&#x27;mosaicSpiral&#x27;,&#x27;mosaicSpiralReverse&#x27;,&#x27;topLeftBottomRight&#x27;,&#x27;bottomRightTopLeft&#x27;,&#x27;bottomLeftTopRight&#x27;,&#x27;topRightBottomLeft&#x27;,&#x27;scrollLeft&#x27;,&#x27;scrollRight&#x27;,&#x27;scrollTop&#x27;,&#x27;scrollBottom&#x27;,&#x27;scrollHorz&#x27;);
				marginLeft = 0,
				marginTop = 0,
				opacityOnGrid = 0;
				
				if(opts.opacityOnGrid==true){
					opacityOnGrid = 0;
				} else {
					opacityOnGrid = 1;
				}
 
			
			
			var dataFx = $(&#x27; &gt; div&#x27;,elem).eq(slideI).attr(&#x27;data-fx&#x27;);
				
			if(isMobile()&amp;&amp;opts.mobileFx!=&#x27;&#x27;&amp;&amp;opts.mobileFx!=&#x27;default&#x27;){
				fx = opts.mobileFx;
			} else {
				if(typeof dataFx !== &#x27;undefined&#x27; &amp;&amp; dataFx!== false &amp;&amp; dataFx!== &#x27;default&#x27;){
					fx = dataFx;
				} else {
					fx = opts.fx;
				}
			}
			
			if(fx==&#x27;random&#x27;) {
				fx = shuffle(randomFx);
				fx = fx[0];
			} else {
				fx = fx;
				if(fx.indexOf(&#x27;,&#x27;)&gt;0){
					fx = fx.replace(/ /g,&#x27;&#x27;);
					fx = fx.split(&#x27;,&#x27;);
					fx = shuffle(fx);
					fx = fx[0];
				}
			}
			
			dataEasing = $(&#x27; &gt; div&#x27;,elem).eq(slideI).attr(&#x27;data-easing&#x27;);
			mobileEasing = $(&#x27; &gt; div&#x27;,elem).eq(slideI).attr(&#x27;data-mobileEasing&#x27;);

			if(isMobile()&amp;&amp;opts.mobileEasing!=&#x27;&#x27;&amp;&amp;opts.mobileEasing!=&#x27;default&#x27;){
				if(typeof mobileEasing !== &#x27;undefined&#x27; &amp;&amp; mobileEasing!== false &amp;&amp; mobileEasing!== &#x27;default&#x27;) {
					easing = mobileEasing;
				} else {
					easing = opts.mobileEasing;
				}
			} else {
				if(typeof dataEasing !== &#x27;undefined&#x27; &amp;&amp; dataEasing!== false &amp;&amp; dataEasing!== &#x27;default&#x27;) {
					easing = dataEasing;
				} else {
					easing = opts.easing;
				}
			}
	
			dataSlideOn = $(&#x27; &gt; div&#x27;,elem).eq(slideI).attr(&#x27;data-slideOn&#x27;);
			if(typeof dataSlideOn !== &#x27;undefined&#x27; &amp;&amp; dataSlideOn!== false){
				slideOn = dataSlideOn;
			} else {
				if(opts.slideOn==&#x27;random&#x27;){
					var slideOn = new Array(&#x27;next&#x27;,&#x27;prev&#x27;);
					slideOn = shuffle(slideOn);
					slideOn = slideOn[0];
				} else {
					slideOn = opts.slideOn;
				}
			}
				
			var dataTime = $(&#x27; &gt; div&#x27;,elem).eq(slideI).attr(&#x27;data-time&#x27;);
			if(typeof dataTime !== &#x27;undefined&#x27; &amp;&amp; dataTime!== false &amp;&amp; dataTime!== &#x27;&#x27;){
				time = parseFloat(dataTime);
			} else {
				time = opts.time;
			}
				
			var dataTransPeriod = $(&#x27; &gt; div&#x27;,elem).eq(slideI).attr(&#x27;data-transPeriod&#x27;);
			if(typeof dataTransPeriod !== &#x27;undefined&#x27; &amp;&amp; dataTransPeriod!== false &amp;&amp; dataTransPeriod!== &#x27;&#x27;){
				transPeriod = parseFloat(dataTransPeriod);
			} else {
				transPeriod = opts.transPeriod;
			}
				
			if(!$(elem).hasClass(&#x27;camerastarted&#x27;)){
				fx = &#x27;simpleFade&#x27;;
				slideOn = &#x27;next&#x27;;
				easing = &#x27;&#x27;;
				transPeriod = 400;
				$(elem).addClass(&#x27;camerastarted&#x27;)
			}
	
			switch(fx){
				case &#x27;simpleFade&#x27;:
					cols = 1;
					rows = 1;
						break;
				case &#x27;curtainTopLeft&#x27;:
					if(opts.slicedCols == 0) {
						cols = opts.cols;
					} else {
						cols = opts.slicedCols;
					}
					rows = 1;
						break;
				case &#x27;curtainTopRight&#x27;:
					if(opts.slicedCols == 0) {
						cols = opts.cols;
					} else {
						cols = opts.slicedCols;
					}
					rows = 1;
						break;
				case &#x27;curtainBottomLeft&#x27;:
					if(opts.slicedCols == 0) {
						cols = opts.cols;
					} else {
						cols = opts.slicedCols;
					}
					rows = 1;
						break;
				case &#x27;curtainBottomRight&#x27;:
					if(opts.slicedCols == 0) {
						cols = opts.cols;
					} else {
						cols = opts.slicedCols;
					}
					rows = 1;
						break;
				case &#x27;curtainSliceLeft&#x27;:
					if(opts.slicedCols == 0) {
						cols = opts.cols;
					} else {
						cols = opts.slicedCols;
					}
					rows = 1;
						break;
				case &#x27;curtainSliceRight&#x27;:
					if(opts.slicedCols == 0) {
						cols = opts.cols;
					} else {
						cols = opts.slicedCols;
					}
					rows = 1;
						break;
				case &#x27;blindCurtainTopLeft&#x27;:
					if(opts.slicedRows == 0) {
						rows = opts.rows;
					} else {
						rows = opts.slicedRows;
					}
					cols = 1;
						break;
				case &#x27;blindCurtainTopRight&#x27;:
					if(opts.slicedRows == 0) {
						rows = opts.rows;
					} else {
						rows = opts.slicedRows;
					}
					cols = 1;
						break;
				case &#x27;blindCurtainBottomLeft&#x27;:
					if(opts.slicedRows == 0) {
						rows = opts.rows;
					} else {
						rows = opts.slicedRows;
					}
					cols = 1;
						break;
				case &#x27;blindCurtainBottomRight&#x27;:
					if(opts.slicedRows == 0) {
						rows = opts.rows;
					} else {
						rows = opts.slicedRows;
					}
					cols = 1;
						break;
				case &#x27;blindCurtainSliceTop&#x27;:
					if(opts.slicedRows == 0) {
						rows = opts.rows;
					} else {
						rows = opts.slicedRows;
					}
					cols = 1;
						break;
				case &#x27;blindCurtainSliceBottom&#x27;:
					if(opts.slicedRows == 0) {
						rows = opts.rows;
					} else {
						rows = opts.slicedRows;
					}
					cols = 1;
						break;
				case &#x27;stampede&#x27;:
					difference = &#x27;-&#x27;+transPeriod;
						break;
				case &#x27;mosaic&#x27;:
					difference = opts.gridDifference;
						break;
				case &#x27;mosaicReverse&#x27;:
					difference = opts.gridDifference;
						break;
				case &#x27;mosaicRandom&#x27;:
						break;
				case &#x27;mosaicSpiral&#x27;:
					difference = opts.gridDifference;
					couples = 1.7;
						break;
				case &#x27;mosaicSpiralReverse&#x27;:
					difference = opts.gridDifference;
					couples = 1.7;
						break;
				case &#x27;topLeftBottomRight&#x27;:
					difference = opts.gridDifference;
					couples = 6;
						break;
				case &#x27;bottomRightTopLeft&#x27;:
					difference = opts.gridDifference;
					couples = 6;
						break;
				case &#x27;bottomLeftTopRight&#x27;:
					difference = opts.gridDifference;
					couples = 6;
						break;
				case &#x27;topRightBottomLeft&#x27;:
					difference = opts.gridDifference;
					couples = 6;
						break;
				case &#x27;scrollLeft&#x27;:
					cols = 1;
					rows = 1;
						break;
				case &#x27;scrollRight&#x27;:
					cols = 1;
					rows = 1;
						break;
				case &#x27;scrollTop&#x27;:
					cols = 1;
					rows = 1;
						break;
				case &#x27;scrollBottom&#x27;:
					cols = 1;
					rows = 1;
						break;
				case &#x27;scrollHorz&#x27;:
					cols = 1;
					rows = 1;
						break;
			}
			
			var cycle = 0;
			var blocks = rows*cols;
			var leftScrap = w-(Math.floor(w/cols)*cols);
			var topScrap = h-(Math.floor(h/rows)*rows);
			var addLeft;
			var addTop;
			var tAppW = 0;	
			var tAppH = 0;
			var arr = new Array();
			var delay = new Array();
			var order = new Array();
			while(cycle &lt; blocks){
				arr.push(cycle);
				delay.push(cycle);
				cameraCont.append(&#x27;&lt;div class=&quot;cameraappended&quot; style=&quot;display:none; overflow:hidden; position:absolute; z-index:1000&quot; /&gt;&#x27;);
				var tApp = $(&#x27;.cameraappended:eq(&#x27;+cycle+&#x27;)&#x27;,target);
				if(fx==&#x27;scrollLeft&#x27; || fx==&#x27;scrollRight&#x27; || fx==&#x27;scrollTop&#x27; || fx==&#x27;scrollBottom&#x27; || fx==&#x27;scrollHorz&#x27;){
					selector.eq(slideI).clone().show().appendTo(tApp);
				} else {
					if(slideOn==&#x27;next&#x27;){
						selector.eq(slideI).clone().show().appendTo(tApp);
					} else {
						selector.eq(vis).clone().show().appendTo(tApp);
					}
				}

				if(cycle%cols&lt;leftScrap){
					addLeft = 1;
				} else {
					addLeft = 0;
				}
				if(cycle%cols==0){
					tAppW = 0;
				}
				if(Math.floor(cycle/cols)&lt;topScrap){
					addTop = 1;
				} else {
					addTop = 0;
				}
				tApp.css({
					&#x27;height&#x27;: Math.floor((h/rows)+addTop+1),
					&#x27;left&#x27;: tAppW,
					&#x27;top&#x27;: tAppH,
					&#x27;width&#x27;: Math.floor((w/cols)+addLeft+1)
				});
				$(&#x27;&gt; .cameraSlide&#x27;, tApp).css({
					&#x27;height&#x27;: h,
					&#x27;margin-left&#x27;: &#x27;-&#x27;+tAppW+&#x27;px&#x27;,
					&#x27;margin-top&#x27;: &#x27;-&#x27;+tAppH+&#x27;px&#x27;,
					&#x27;width&#x27;: w
				});
				tAppW = tAppW+tApp.width()-1;
				if(cycle%cols==cols-1){
					tAppH = tAppH + tApp.height() - 1;
				}
				cycle++;
			}
			

			
			switch(fx){
				case &#x27;curtainTopLeft&#x27;:
						break;
				case &#x27;curtainBottomLeft&#x27;:
						break;
				case &#x27;curtainSliceLeft&#x27;:
						break;
				case &#x27;curtainTopRight&#x27;:
					arr = arr.reverse();
						break;
				case &#x27;curtainBottomRight&#x27;:
					arr = arr.reverse();
						break;
				case &#x27;curtainSliceRight&#x27;:
					arr = arr.reverse();
						break;
				case &#x27;blindCurtainTopLeft&#x27;:
						break;
				case &#x27;blindCurtainBottomLeft&#x27;:
					arr = arr.reverse();
						break;
				case &#x27;blindCurtainSliceTop&#x27;:
						break;
				case &#x27;blindCurtainTopRight&#x27;:
						break;
				case &#x27;blindCurtainBottomRight&#x27;:
					arr = arr.reverse();
						break;
				case &#x27;blindCurtainSliceBottom&#x27;:
					arr = arr.reverse();
						break;
				case &#x27;stampede&#x27;:
					arr = shuffle(arr);
						break;
				case &#x27;mosaic&#x27;:
						break;
				case &#x27;mosaicReverse&#x27;:
					arr = arr.reverse();
						break;
				case &#x27;mosaicRandom&#x27;:
					arr = shuffle(arr);
						break;
				case &#x27;mosaicSpiral&#x27;:
					var rows2 = rows/2, x, y, z, n=0;
						for (z = 0; z &lt; rows2; z++){
							y = z;
							for (x = z; x &lt; cols - z - 1; x++) {
								order[n++] = y * cols + x;
							}
							x = cols - z - 1;
							for (y = z; y &lt; rows - z - 1; y++) {
								order[n++] = y * cols + x;
							}
							y = rows - z - 1;
							for (x = cols - z - 1; x &gt; z; x--) {
								order[n++] = y * cols + x;
							}
							x = z;
							for (y = rows - z - 1; y &gt; z; y--) {
								order[n++] = y * cols + x;
							}
						}
						
						arr = order;

						break;
				case &#x27;mosaicSpiralReverse&#x27;:
					var rows2 = rows/2, x, y, z, n=blocks-1;
						for (z = 0; z &lt; rows2; z++){
							y = z;
							for (x = z; x &lt; cols - z - 1; x++) {
								order[n--] = y * cols + x;
							}
							x = cols - z - 1;
							for (y = z; y &lt; rows - z - 1; y++) {
								order[n--] = y * cols + x;
							}
							y = rows - z - 1;
							for (x = cols - z - 1; x &gt; z; x--) {
								order[n--] = y * cols + x;
							}
							x = z;
							for (y = rows - z - 1; y &gt; z; y--) {
								order[n--] = y * cols + x;
							}
						}

						arr = order;
						
						break;
				case &#x27;topLeftBottomRight&#x27;:
					for (var y = 0; y &lt; rows; y++)
					for (var x = 0; x &lt; cols; x++) {
						order.push(x + y);
					}
						delay = order;
						break;
				case &#x27;bottomRightTopLeft&#x27;:
					for (var y = 0; y &lt; rows; y++)
					for (var x = 0; x &lt; cols; x++) {
						order.push(x + y);
					}
						delay = order.reverse();
						break;
				case &#x27;bottomLeftTopRight&#x27;:
					for (var y = rows; y &gt; 0; y--)
					for (var x = 0; x &lt; cols; x++) {
						order.push(x + y);
					}
						delay = order;
						break;
				case &#x27;topRightBottomLeft&#x27;:
					for (var y = 0; y &lt; rows; y++)
					for (var x = cols; x &gt; 0; x--) {
						order.push(x + y);
					}
						delay = order;
						break;
			}
			
			
						
			$.each(arr, function(index, value) {

				if(value%cols&lt;leftScrap){
					addLeft = 1;
				} else {
					addLeft = 0;
				}
				if(value%cols==0){
					tAppW = 0;
				}
				if(Math.floor(value/cols)&lt;topScrap){
					addTop = 1;
				} else {
					addTop = 0;
				}
							
				switch(fx){
					case &#x27;simpleFade&#x27;:
						height = h;
						width = w;
						opacityOnGrid = 0;
							break;
					case &#x27;curtainTopLeft&#x27;:
						height = 0,
						width = Math.floor((w/cols)+addLeft+1),
						marginTop = &#x27;-&#x27;+Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;
							break;
					case &#x27;curtainTopRight&#x27;:
						height = 0,
						width = Math.floor((w/cols)+addLeft+1),
						marginTop = &#x27;-&#x27;+Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;
							break;
					case &#x27;curtainBottomLeft&#x27;:
						height = 0,
						width = Math.floor((w/cols)+addLeft+1),
						marginTop = Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;
							break;
					case &#x27;curtainBottomRight&#x27;:
						height = 0,
						width = Math.floor((w/cols)+addLeft+1),
						marginTop = Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;
							break;
					case &#x27;curtainSliceLeft&#x27;:
						height = 0,
						width = Math.floor((w/cols)+addLeft+1);
						if(value%2==0){
							marginTop = Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;					
						} else {
							marginTop = &#x27;-&#x27;+Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;					
						}
							break;
					case &#x27;curtainSliceRight&#x27;:
						height = 0,
						width = Math.floor((w/cols)+addLeft+1);
						if(value%2==0){
							marginTop = Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;					
						} else {
							marginTop = &#x27;-&#x27;+Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;					
						}
							break;
					case &#x27;blindCurtainTopLeft&#x27;:
						height = Math.floor((h/rows)+addTop+1),
						width = 0,
						marginLeft = &#x27;-&#x27;+Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
							break;
					case &#x27;blindCurtainTopRight&#x27;:
						height = Math.floor((h/rows)+addTop+1),
						width = 0,
						marginLeft = Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
							break;
					case &#x27;blindCurtainBottomLeft&#x27;:
						height = Math.floor((h/rows)+addTop+1),
						width = 0,
						marginLeft = &#x27;-&#x27;+Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
							break;
					case &#x27;blindCurtainBottomRight&#x27;:
						height = Math.floor((h/rows)+addTop+1),
						width = 0,
						marginLeft = Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
							break;
					case &#x27;blindCurtainSliceBottom&#x27;:
						height = Math.floor((h/rows)+addTop+1),
						width = 0;
						if(value%2==0){
							marginLeft = &#x27;-&#x27;+Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
						} else {
							marginLeft = Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
						}
							break;
					case &#x27;blindCurtainSliceTop&#x27;:
						height = Math.floor((h/rows)+addTop+1),
						width = 0;
						if(value%2==0){
							marginLeft = &#x27;-&#x27;+Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
						} else {
							marginLeft = Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;
						}
							break;
					case &#x27;stampede&#x27;:
						height = 0;
						width = 0;					
						marginLeft = (w*0.2)*(((index)%cols)-(cols-(Math.floor(cols/2))))+&#x27;px&#x27;;					
						marginTop = (h*0.2)*((Math.floor(index/cols)+1)-(rows-(Math.floor(rows/2))))+&#x27;px&#x27;;	
							break;
					case &#x27;mosaic&#x27;:
						height = 0;
						width = 0;					
							break;
					case &#x27;mosaicReverse&#x27;:
						height = 0;
						width = 0;					
						marginLeft = Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;					
						marginTop = Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;					
							break;
					case &#x27;mosaicRandom&#x27;:
						height = 0;
						width = 0;					
						marginLeft = Math.floor((w/cols)+addLeft+1)*0.5+&#x27;px&#x27;;					
						marginTop = Math.floor((h/rows)+addTop+1)*0.5+&#x27;px&#x27;;					
							break;
					case &#x27;mosaicSpiral&#x27;:
						height = 0;
						width = 0;
						marginLeft = Math.floor((w/cols)+addLeft+1)*0.5+&#x27;px&#x27;;					
						marginTop = Math.floor((h/rows)+addTop+1)*0.5+&#x27;px&#x27;;					
							break;
					case &#x27;mosaicSpiralReverse&#x27;:
						height = 0;
						width = 0;
						marginLeft = Math.floor((w/cols)+addLeft+1)*0.5+&#x27;px&#x27;;					
						marginTop = Math.floor((h/rows)+addTop+1)*0.5+&#x27;px&#x27;;					
							break;
					case &#x27;topLeftBottomRight&#x27;:
						height = 0;
						width = 0;					
							break;
					case &#x27;bottomRightTopLeft&#x27;:
						height = 0;
						width = 0;					
						marginLeft = Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;					
						marginTop = Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;					
							break;
					case &#x27;bottomLeftTopRight&#x27;:
						height = 0;
						width = 0;					
						marginLeft = 0;					
						marginTop = Math.floor((h/rows)+addTop+1)+&#x27;px&#x27;;					
							break;
					case &#x27;topRightBottomLeft&#x27;:
						height = 0;
						width = 0;					
						marginLeft = Math.floor((w/cols)+addLeft+1)+&#x27;px&#x27;;					
						marginTop = 0;					
							break;
					case &#x27;scrollRight&#x27;:
						height = h;
						width = w;
						marginLeft = -w;					
							break;
					case &#x27;scrollLeft&#x27;:
						height = h;
						width = w;
						marginLeft = w;					
							break;
					case &#x27;scrollTop&#x27;:
						height = h;
						width = w;
						marginTop = h;					
							break;
					case &#x27;scrollBottom&#x27;:
						height = h;
						width = w;
						marginTop = -h;					
							break;
					case &#x27;scrollHorz&#x27;:
						height = h;
						width = w;
						if(vis==0 &amp;&amp; slideI==amountSlide-1) {
							marginLeft = -w;	
						} else if(vis&lt;slideI  || (vis==amountSlide-1 &amp;&amp; slideI==0)) {
							marginLeft = w;	
						} else {
							marginLeft = -w;	
						}
							break;
					}
					
			
				var tApp = $(&#x27;.cameraappended:eq(&#x27;+value+&#x27;)&#x27;,target);
								
				if(typeof u !== &#x27;undefined&#x27;){
					clearInterval(u);
					clearTimeout(setT);
					setT = setTimeout(canvasLoader,transPeriod+difference);
				}
				
				
				if($(pagination).length){
					$(&#x27;.camera_pag li&#x27;,wrap).removeClass(&#x27;cameracurrent&#x27;);
					$(&#x27;.camera_pag li&#x27;,wrap).eq(slideI).addClass(&#x27;cameracurrent&#x27;);
				}
						
				if($(thumbs).length){
					$(&#x27;li&#x27;, thumbs).removeClass(&#x27;cameracurrent&#x27;);
					$(&#x27;li&#x27;, thumbs).eq(slideI).addClass(&#x27;cameracurrent&#x27;);
					$(&#x27;li&#x27;, thumbs).not(&#x27;.cameracurrent&#x27;).find(&#x27;img&#x27;).animate({opacity:.5},0);
					$(&#x27;li.cameracurrent img&#x27;, thumbs).animate({opacity:1},0);
					$(&#x27;li&#x27;, thumbs).hover(function(){
						$(&#x27;img&#x27;,this).stop(true,false).animate({opacity:1},150);
					},function(){
						if(!$(this).hasClass(&#x27;cameracurrent&#x27;)){
							$(&#x27;img&#x27;,this).stop(true,false).animate({opacity:.5},150);
						}
					});
				}
								
						
				var easedTime = parseFloat(transPeriod)+parseFloat(difference);
				
				function cameraeased() {

					$(this).addClass(&#x27;cameraeased&#x27;);
					if($(&#x27;.cameraeased&#x27;,target).length&gt;=0){
						$(thumbs).css({visibility:&#x27;visible&#x27;});
					}
					if($(&#x27;.cameraeased&#x27;,target).length==blocks){
						
						thumbnailPos();
						
						$(&#x27;.moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom&#x27;,fakeHover).each(function(){
							$(this).css(&#x27;visibility&#x27;,&#x27;hidden&#x27;);
						});
		
						selector.eq(slideI).show().css(&#x27;z-index&#x27;,&#x27;999&#x27;).removeClass(&#x27;cameranext&#x27;).addClass(&#x27;cameracurrent&#x27;);
						selector.eq(vis).css(&#x27;z-index&#x27;,&#x27;1&#x27;).removeClass(&#x27;cameracurrent&#x27;);
						$(&#x27;.cameraContent&#x27;,fakeHover).eq(slideI).addClass(&#x27;cameracurrent&#x27;);
						if (vis &gt;= 0) {
							$(&#x27;.cameraContent&#x27;,fakeHover).eq(vis).removeClass(&#x27;cameracurrent&#x27;);
						}
						
						opts.onEndTransition.call(this);
						
						if($(&#x27;&gt; div&#x27;, elem).eq(slideI).attr(&#x27;data-video&#x27;)!=&#x27;hide&#x27; &amp;&amp; $(&#x27;.cameraContent.cameracurrent .imgFake&#x27;,fakeHover).length ){
							$(&#x27;.cameraContent.cameracurrent .imgFake&#x27;,fakeHover).click();
						}

						
						var lMoveIn = selector.eq(slideI).find(&#x27;.fadeIn&#x27;).length;
						var lMoveInContent = $(&#x27;.cameraContent&#x27;,fakeHover).eq(slideI).find(&#x27;.moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom&#x27;).length;
						
						if (lMoveIn!=0){
							$(&#x27;.cameraSlide.cameracurrent .fadeIn&#x27;,fakeHover).each(function(){
								if($(this).attr(&#x27;data-easing&#x27;)!=&#x27;&#x27;){
									var easeMove = $(this).attr(&#x27;data-easing&#x27;);
								} else {
									var easeMove = easing;
								}
								var t = $(this);
								if(typeof t.attr(&#x27;data-outerWidth&#x27;) === &#x27;undefined&#x27; || t.attr(&#x27;data-outerWidth&#x27;) === false || t.attr(&#x27;data-outerWidth&#x27;) === &#x27;&#x27;) {
									var wMoveIn = t.outerWidth();
									t.attr(&#x27;data-outerWidth&#x27;,wMoveIn);
								} else {
									var wMoveIn = t.attr(&#x27;data-outerWidth&#x27;);
								}
								if(typeof t.attr(&#x27;data-outerHeight&#x27;) === &#x27;undefined&#x27; || t.attr(&#x27;data-outerHeight&#x27;) === false || t.attr(&#x27;data-outerHeight&#x27;) === &#x27;&#x27;) {
									var hMoveIn = t.outerHeight();
									t.attr(&#x27;data-outerHeight&#x27;,hMoveIn);
								} else {
									var hMoveIn = t.attr(&#x27;data-outerHeight&#x27;);
								}
								//t.css(&#x27;width&#x27;,wMoveIn);
								var pos = t.position();
								var left = pos.left;
								var top = pos.top;
								var tClass = t.attr(&#x27;class&#x27;);
								var ind = t.index();
								var hRel = t.parents(&#x27;.camerarelative&#x27;).outerHeight();
								var wRel = t.parents(&#x27;.camerarelative&#x27;).outerWidth();
								if(tClass.indexOf(&quot;fadeIn&quot;) != -1) {
									t.animate({opacity:0},0).css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveIn)*(0.1*(ind-1))).animate({opacity:1},(time/lMoveIn)*0.15,easeMove);
								} else {
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;);
								}
							});
						}

						$(&#x27;.cameraContent.cameracurrent&#x27;,fakeHover).show();
						if (lMoveInContent!=0){
							
							$(&#x27;.cameraContent.cameracurrent .moveFromLeft, .cameraContent.cameracurrent .moveFromRight, .cameraContent.cameracurrent .moveFromTop, .cameraContent.cameracurrent .moveFromBottom, .cameraContent.cameracurrent .fadeIn, .cameraContent.cameracurrent .fadeFromLeft, .cameraContent.cameracurrent .fadeFromRight, .cameraContent.cameracurrent .fadeFromTop, .cameraContent.cameracurrent .fadeFromBottom&#x27;,fakeHover).each(function(){
								if($(this).attr(&#x27;data-easing&#x27;)!=&#x27;&#x27;){
									var easeMove = $(this).attr(&#x27;data-easing&#x27;);
								} else {
									var easeMove = easing;
								}
								var t = $(this);
								var pos = t.position();
								var left = pos.left;
								var top = pos.top;
								var tClass = t.attr(&#x27;class&#x27;);
								var ind = t.index();
								var thisH = t.outerHeight();
								if(tClass.indexOf(&quot;moveFromLeft&quot;) != -1) {
									t.css({&#x27;left&#x27;:&#x27;-&#x27;+(w)+&#x27;px&#x27;,&#x27;right&#x27;:&#x27;auto&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;left&#x27;:pos.left},(time/lMoveInContent)*0.15,easeMove);
								} else if(tClass.indexOf(&quot;moveFromRight&quot;) != -1) {
									t.css({&#x27;left&#x27;:w+&#x27;px&#x27;,&#x27;right&#x27;:&#x27;auto&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;left&#x27;:pos.left},(time/lMoveInContent)*0.15,easeMove);
								} else if(tClass.indexOf(&quot;moveFromTop&quot;) != -1) {
									t.css({&#x27;top&#x27;:&#x27;-&#x27;+h+&#x27;px&#x27;,&#x27;bottom&#x27;:&#x27;auto&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;top&#x27;:pos.top},(time/lMoveInContent)*0.15,easeMove,function(){
										t.css({top:&#x27;auto&#x27;,bottom:0});
									});
								} else if(tClass.indexOf(&quot;moveFromBottom&quot;) != -1) {
									t.css({&#x27;top&#x27;:h+&#x27;px&#x27;,&#x27;bottom&#x27;:&#x27;auto&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;top&#x27;:pos.top},(time/lMoveInContent)*0.15,easeMove);
								} else if(tClass.indexOf(&quot;fadeFromLeft&quot;) != -1) {
									t.animate({opacity:0},0).css({&#x27;left&#x27;:&#x27;-&#x27;+(w)+&#x27;px&#x27;,&#x27;right&#x27;:&#x27;auto&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;left&#x27;:pos.left,opacity:1},(time/lMoveInContent)*0.15,easeMove);
								} else if(tClass.indexOf(&quot;fadeFromRight&quot;) != -1) {
									t.animate({opacity:0},0).css({&#x27;left&#x27;:(w)+&#x27;px&#x27;,&#x27;right&#x27;:&#x27;auto&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;left&#x27;:pos.left,opacity:1},(time/lMoveInContent)*0.15,easeMove);
								} else if(tClass.indexOf(&quot;fadeFromTop&quot;) != -1) {
									t.animate({opacity:0},0).css({&#x27;top&#x27;:&#x27;-&#x27;+(h)+&#x27;px&#x27;,&#x27;bottom&#x27;:&#x27;auto&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;top&#x27;:pos.top,opacity:1},(time/lMoveInContent)*0.15,easeMove,function(){
										t.css({top:&#x27;auto&#x27;,bottom:0});
									});
								} else if(tClass.indexOf(&quot;fadeFromBottom&quot;) != -1) {
									t.animate({opacity:0},0).css({&#x27;bottom&#x27;:&#x27;-&#x27;+thisH+&#x27;px&#x27;});
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({&#x27;bottom&#x27;:&#x27;0&#x27;,opacity:1},(time/lMoveInContent)*0.15,easeMove);
								} else if(tClass.indexOf(&quot;fadeIn&quot;) != -1) {
									t.animate({opacity:0},0).css(&#x27;visibility&#x27;,&#x27;visible&#x27;).delay((time/lMoveInContent)*(0.1*(ind-1))).animate({opacity:1},(time/lMoveInContent)*0.15,easeMove);
								} else {
									t.css(&#x27;visibility&#x27;,&#x27;visible&#x27;);
								}
							});
						}

						
						$(&#x27;.cameraappended&#x27;,target).remove();
						elem.removeClass(&#x27;camerasliding&#x27;);	
							selector.eq(vis).hide();
							var barWidth = $(&#x27;.camera_bar_cont&#x27;,camera_thumbs_wrap).width(),
								barHeight = $(&#x27;.camera_bar_cont&#x27;,camera_thumbs_wrap).height(),
								radSum;
							if (loader != &#x27;pie&#x27;) {
								radSum = 0.05;
							} else {
								radSum = 0.005;
							}
							$(&#x27;#&#x27;+pieID).animate({opacity:opts.loaderOpacity},200);
							u = setInterval(
								function(){
									if(elem.hasClass(&#x27;stopped&#x27;)){
										clearInterval(u);
									}
									if (loader != &#x27;pie&#x27;) {
										if(rad&lt;=1.002 &amp;&amp; !elem.hasClass(&#x27;stopped&#x27;) &amp;&amp; !elem.hasClass(&#x27;paused&#x27;) &amp;&amp; !elem.hasClass(&#x27;hovered&#x27;)){
											rad = (rad+radSum);
										} else if (rad&lt;=1 &amp;&amp; (elem.hasClass(&#x27;stopped&#x27;) || elem.hasClass(&#x27;paused&#x27;) || elem.hasClass(&#x27;stopped&#x27;) || elem.hasClass(&#x27;hovered&#x27;))){
											rad = rad;
										} else {
											if(!elem.hasClass(&#x27;stopped&#x27;) &amp;&amp; !elem.hasClass(&#x27;paused&#x27;) &amp;&amp; !elem.hasClass(&#x27;hovered&#x27;)) {
												clearInterval(u);
												imgFake();
												$(&#x27;#&#x27;+pieID).animate({opacity:0},200,function(){
													clearTimeout(setT);
													setT = setTimeout(canvasLoader,easedTime);
													nextSlide();
													opts.onStartLoading.call(this);
												});
											}
										}
										switch(barDirection){
											case &#x27;leftToRight&#x27;:
												$(&#x27;#&#x27;+pieID).animate({&#x27;right&#x27;:barWidth-(barWidth*rad)},(time*radSum),&#x27;linear&#x27;);
												break;
											case &#x27;rightToLeft&#x27;:
												$(&#x27;#&#x27;+pieID).animate({&#x27;left&#x27;:barWidth-(barWidth*rad)},(time*radSum),&#x27;linear&#x27;);
												break;
											case &#x27;topToBottom&#x27;:
												$(&#x27;#&#x27;+pieID).animate({&#x27;bottom&#x27;:barHeight-(barHeight*rad)},(time*radSum),&#x27;linear&#x27;);
												break;
											case &#x27;bottomToTop&#x27;:
												$(&#x27;#&#x27;+pieID).animate({&#x27;bottom&#x27;:barHeight-(barHeight*rad)},(time*radSum),&#x27;linear&#x27;);
												break;
										}
										
									} else {
										radNew = rad;
										ctx.clearRect(0,0,opts.pieDiameter,opts.pieDiameter);
										ctx.globalCompositeOperation = &#x27;destination-over&#x27;;
										ctx.beginPath();
										ctx.arc((opts.pieDiameter)/2, (opts.pieDiameter)/2, (opts.pieDiameter)/2-opts.loaderStroke,0,Math.PI*2,false);
										ctx.lineWidth = opts.loaderStroke;
										ctx.strokeStyle = opts.loaderBgColor;
										ctx.stroke();
										ctx.closePath();
										ctx.globalCompositeOperation = &#x27;source-over&#x27;;
										ctx.beginPath();
										ctx.arc((opts.pieDiameter)/2, (opts.pieDiameter)/2, (opts.pieDiameter)/2-opts.loaderStroke,0,Math.PI*2*radNew,false);
										ctx.lineWidth = opts.loaderStroke-(opts.loaderPadding*2);
										ctx.strokeStyle = opts.loaderColor;
										ctx.stroke();
										ctx.closePath();
												
										if(rad&lt;=1.002 &amp;&amp; !elem.hasClass(&#x27;stopped&#x27;) &amp;&amp; !elem.hasClass(&#x27;paused&#x27;) &amp;&amp; !elem.hasClass(&#x27;hovered&#x27;)){
											rad = (rad+radSum);
										} else if (rad&lt;=1 &amp;&amp; (elem.hasClass(&#x27;stopped&#x27;) || elem.hasClass(&#x27;paused&#x27;) || elem.hasClass(&#x27;hovered&#x27;))){
											rad = rad;
										} else {
											if(!elem.hasClass(&#x27;stopped&#x27;) &amp;&amp; !elem.hasClass(&#x27;paused&#x27;) &amp;&amp; !elem.hasClass(&#x27;hovered&#x27;)) {
												clearInterval(u);
												imgFake();
												$(&#x27;#&#x27;+pieID+&#x27;, .camera_canvas_wrap&#x27;,camera_thumbs_wrap).animate({opacity:0},200,function(){
													clearTimeout(setT);
													setT = setTimeout(canvasLoader,easedTime);
													nextSlide();
													opts.onStartLoading.call(this);
												});
											}
										}
									}
								},time*radSum
							);
						}

				}


				
				if(fx==&#x27;scrollLeft&#x27; || fx==&#x27;scrollRight&#x27; || fx==&#x27;scrollTop&#x27; || fx==&#x27;scrollBottom&#x27; || fx==&#x27;scrollHorz&#x27;){
					opts.onStartTransition.call(this);
					easedTime = 0;
					tApp.delay((((transPeriod+difference)/blocks)*delay[index]*couples)*0.5).css({
							&#x27;display&#x27; : &#x27;block&#x27;,
							&#x27;height&#x27;: height,
							&#x27;margin-left&#x27;: marginLeft,
							&#x27;margin-top&#x27;: marginTop,
							&#x27;width&#x27;: width
						}).animate({
							&#x27;height&#x27;: Math.floor((h/rows)+addTop+1),
							&#x27;margin-top&#x27; : 0,
							&#x27;margin-left&#x27; : 0,
							&#x27;width&#x27; : Math.floor((w/cols)+addLeft+1)
						},(transPeriod-difference),easing,cameraeased);
					selector.eq(vis).delay((((transPeriod+difference)/blocks)*delay[index]*couples)*0.5).animate({
							&#x27;margin-left&#x27;: marginLeft*(-1),
							&#x27;margin-top&#x27;: marginTop*(-1)
						},(transPeriod-difference),easing,function(){
							$(this).css({&#x27;margin-top&#x27; : 0,&#x27;margin-left&#x27; : 0});
						});
				} else {
					opts.onStartTransition.call(this);
					easedTime = parseFloat(transPeriod)+parseFloat(difference);
					if(slideOn==&#x27;next&#x27;){
						tApp.delay((((transPeriod+difference)/blocks)*delay[index]*couples)*0.5).css({
								&#x27;display&#x27; : &#x27;block&#x27;,
								&#x27;height&#x27;: height,
								&#x27;margin-left&#x27;: marginLeft,
								&#x27;margin-top&#x27;: marginTop,
								&#x27;width&#x27;: width,
								&#x27;opacity&#x27; : opacityOnGrid
							}).animate({
								&#x27;height&#x27;: Math.floor((h/rows)+addTop+1),
								&#x27;margin-top&#x27; : 0,
								&#x27;margin-left&#x27; : 0,
								&#x27;opacity&#x27; : 1,
								&#x27;width&#x27; : Math.floor((w/cols)+addLeft+1)
							},(transPeriod-difference),easing,cameraeased);
					} else {
						selector.eq(slideI).show().css(&#x27;z-index&#x27;,&#x27;999&#x27;).addClass(&#x27;cameracurrent&#x27;);
						selector.eq(vis).css(&#x27;z-index&#x27;,&#x27;1&#x27;).removeClass(&#x27;cameracurrent&#x27;);
						$(&#x27;.cameraContent&#x27;,fakeHover).eq(slideI).addClass(&#x27;cameracurrent&#x27;);
						$(&#x27;.cameraContent&#x27;,fakeHover).eq(vis).removeClass(&#x27;cameracurrent&#x27;);
						tApp.delay((((transPeriod+difference)/blocks)*delay[index]*couples)*0.5).css({
								&#x27;display&#x27; : &#x27;block&#x27;,
								&#x27;height&#x27;: Math.floor((h/rows)+addTop+1),
								&#x27;margin-top&#x27; : 0,
								&#x27;margin-left&#x27; : 0,
								&#x27;opacity&#x27; : 1,
								&#x27;width&#x27; : Math.floor((w/cols)+addLeft+1)
							}).animate({
								&#x27;height&#x27;: height,
								&#x27;margin-left&#x27;: marginLeft,
								&#x27;margin-top&#x27;: marginTop,
								&#x27;width&#x27;: width,
								&#x27;opacity&#x27; : opacityOnGrid
							},(transPeriod-difference),easing,cameraeased);
					}
				}





			});
				
				
				
	 
		}
	}


				if($(prevNav).length){
					$(prevNav).click(function(){
						if(!elem.hasClass(&#x27;camerasliding&#x27;)){
							var idNum = parseFloat($(&#x27;.cameraSlide.cameracurrent&#x27;,target).index());
							clearInterval(u);
							imgFake();
							$(&#x27;#&#x27;+pieID+&#x27;, .camera_canvas_wrap&#x27;,wrap).animate({opacity:0},0);
							canvasLoader();
							if(idNum!=0){
								nextSlide(idNum);
							} else {
								nextSlide(amountSlide);
						   }
						   opts.onStartLoading.call(this);
						}
					});
				}
			
				if($(nextNav).length){
					$(nextNav).click(function(){
						if(!elem.hasClass(&#x27;camerasliding&#x27;)){
							var idNum = parseFloat($(&#x27;.cameraSlide.cameracurrent&#x27;,target).index()); 
							clearInterval(u);
							imgFake();
							$(&#x27;#&#x27;+pieID+&#x27;, .camera_canvas_wrap&#x27;,camera_thumbs_wrap).animate({opacity:0},0);
							canvasLoader();
							if(idNum==amountSlide-1){
								nextSlide(1);
							} else {
								nextSlide(idNum+2);
						   }
						   opts.onStartLoading.call(this);
						}
					});
				}


				if(isMobile()){
					fakeHover.bind(&#x27;swipeleft&#x27;,function(event){
						if(!elem.hasClass(&#x27;camerasliding&#x27;)){
							var idNum = parseFloat($(&#x27;.cameraSlide.cameracurrent&#x27;,target).index()); 
							clearInterval(u);
							imgFake();
							$(&#x27;#&#x27;+pieID+&#x27;, .camera_canvas_wrap&#x27;,camera_thumbs_wrap).animate({opacity:0},0);
							canvasLoader();
							if(idNum==amountSlide-1){
								nextSlide(1);
							} else {
								nextSlide(idNum+2);
						   }
						   opts.onStartLoading.call(this);
						}
					});
					fakeHover.bind(&#x27;swiperight&#x27;,function(event){
						if(!elem.hasClass(&#x27;camerasliding&#x27;)){
							var idNum = parseFloat($(&#x27;.cameraSlide.cameracurrent&#x27;,target).index());
							clearInterval(u);
							imgFake();
							$(&#x27;#&#x27;+pieID+&#x27;, .camera_canvas_wrap&#x27;,camera_thumbs_wrap).animate({opacity:0},0);
							canvasLoader();
							if(idNum!=0){
								nextSlide(idNum);
							} else {
								nextSlide(amountSlide);
						   }
						   opts.onStartLoading.call(this);
						}
					});
				}

				if($(pagination).length){
					$(&#x27;.camera_pag li&#x27;,wrap).click(function(){
						if(!elem.hasClass(&#x27;camerasliding&#x27;)){
							var idNum = parseFloat($(this).index());
							var curNum = parseFloat($(&#x27;.cameraSlide.cameracurrent&#x27;,target).index());
							if(idNum!=curNum) {
								clearInterval(u);
								imgFake();
								$(&#x27;#&#x27;+pieID+&#x27;, .camera_canvas_wrap&#x27;,camera_thumbs_wrap).animate({opacity:0},0);
								canvasLoader();
								nextSlide(idNum+1);
								opts.onStartLoading.call(this);
							}
						}
					});
				}

				if($(thumbs).length) {

					$(&#x27;.pix_thumb img&#x27;,thumbs).click(function(){
						if(!elem.hasClass(&#x27;camerasliding&#x27;)){
							var idNum = parseFloat($(this).parents(&#x27;li&#x27;).index());
							var curNum = parseFloat($(&#x27;.cameracurrent&#x27;,target).index());
							if(idNum!=curNum) {
								clearInterval(u);
								imgFake();
								$(&#x27;#&#x27;+pieID+&#x27;, .camera_canvas_wrap&#x27;,camera_thumbs_wrap).animate({opacity:0},0);
								$(&#x27;.pix_thumb&#x27;,thumbs).removeClass(&#x27;cameracurrent&#x27;);
								$(this).parents(&#x27;li&#x27;).addClass(&#x27;cameracurrent&#x27;);
								canvasLoader();
								nextSlide(idNum+1);
								thumbnailPos();
								opts.onStartLoading.call(this);
							}
						}
					});

					$(&#x27;.camera_thumbs_cont .camera_prevThumbs&#x27;,camera_thumbs_wrap).hover(function(){
						$(this).stop(true,false).animate({opacity:1},250);
					},function(){
						$(this).stop(true,false).animate({opacity:.7},250);
					});
					$(&#x27;.camera_prevThumbs&#x27;,camera_thumbs_wrap).click(function(){
						var sum = 0,
							wTh = $(thumbs).outerWidth(),
							offUl = $(&#x27;ul&#x27;, thumbs).offset().left,
							offDiv = $(&#x27;&gt; div&#x27;, thumbs).offset().left,
							ulLeft = offDiv-offUl;
							$(&#x27;.camera_visThumb&#x27;,thumbs).each(function(){
								var tW = $(this).outerWidth();
								sum = sum+tW;
							});
							if(ulLeft-sum&gt;0){
								$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-left&#x27;:&#x27;-&#x27;+(ulLeft-sum)+&#x27;px&#x27;},500,thumbnailVisible);
							} else {
								$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-left&#x27;:0},500,thumbnailVisible);
							}
					});

					$(&#x27;.camera_thumbs_cont .camera_nextThumbs&#x27;,camera_thumbs_wrap).hover(function(){
						$(this).stop(true,false).animate({opacity:1},250);
					},function(){
						$(this).stop(true,false).animate({opacity:.7},250);
					});
					$(&#x27;.camera_nextThumbs&#x27;,camera_thumbs_wrap).click(function(){
						var sum = 0,
							wTh = $(thumbs).outerWidth(),
							ulW = $(&#x27;ul&#x27;, thumbs).outerWidth(),
							offUl = $(&#x27;ul&#x27;, thumbs).offset().left,
							offDiv = $(&#x27;&gt; div&#x27;, thumbs).offset().left,
							ulLeft = offDiv-offUl;
							$(&#x27;.camera_visThumb&#x27;,thumbs).each(function(){
								var tW = $(this).outerWidth();
								sum = sum+tW;
							});
							if(ulLeft+sum+sum&lt;ulW){
								$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-left&#x27;:&#x27;-&#x27;+(ulLeft+sum)+&#x27;px&#x27;},500,thumbnailVisible);
							} else {
								$(&#x27;ul&#x27;, thumbs).animate({&#x27;margin-left&#x27;:&#x27;-&#x27;+(ulW-wTh)+&#x27;px&#x27;},500,thumbnailVisible);
							}
					});

				}
		
		
	
}

})(jQuery);

;(function($){$.fn.cameraStop = function() {
	var wrap = $(this),
		elem = $(&#x27;.camera_src&#x27;,wrap),
		pieID = &#x27;pie_&#x27;+wrap.index();
	elem.addClass(&#x27;stopped&#x27;);
	if($(&#x27;.camera_showcommands&#x27;).length) {
		var camera_thumbs_wrap = $(&#x27;.camera_thumbs_wrap&#x27;,wrap);
	} else {
		var camera_thumbs_wrap = wrap;
	}
}
})(jQuery);

;(function($){$.fn.cameraPause = function() {
	var wrap = $(this);
	var elem = $(&#x27;.camera_src&#x27;,wrap);
	elem.addClass(&#x27;paused&#x27;);
}
})(jQuery);

;(function($){$.fn.cameraResume = function() {
	var wrap = $(this);
	var elem = $(&#x27;.camera_src&#x27;,wrap);
	if(typeof autoAdv === &#x27;undefined&#x27; || autoAdv!==true){
		elem.removeClass(&#x27;paused&#x27;);
	}
}
})(jQuery);
    </pre>
</div>

                </div>
            </div>
        </div>
    </div>
<a id="gotoTop" class='well well-small' href='#'>
    Top
</a>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/config.js"></script>
<script src="../assets/js/doc.js"></script>
</body>
</html>
