!function($){var Slider=function(elem,options){this.options=$.extend({},Slider.DEFAULTS,options),this.$elem=$(elem);for(var i in this.options)this.options[i]=eval(this.$elem.data(i.replace(/[A-Z]+/g,"-$&").toLowerCase()))||this.options[i];this.index=this.options.index,this.init.call(this)};Slider.prototype={init:function(){var e=this;this.$list=this.$elem.find(this.options.list),this.$nav=this.$elem.find(this.options.nav);if(!this.$list.length){var t=$("<div>",{"class":this.$elem.attr("class")});t.insertBefore(this.$elem.removeAttr("class").addClass("list")).append(this.$elem),this.$list=this.$elem,this.$elem=t}this.$loading=$('<div class="slider-loading">loading...</div>').appendTo(t),this.$list.hide(),this.$canvas=$('<div class="clip"/>').appendTo(this.$elem),this.prop="left",this.supportCSS3=!1;var n={prev:"icon-chevron-left",next:"icon-chevron-right"};return e.$elem.hasClass("vertical")&&(this.prop="top",n={prev:"icon-chevron-up",next:"icon-chevron-down"}),$.browser&&$.browser.supportsTransitions&&(this.supportCSS3=!0),this.addElements(),this.createNavigation(),!this.$elem.find(this.options.prev).length&&this.$elem.prepend('<a class="prev" href="#" data-prev><i class="icon '+n.prev+'"></i></a>'),!this.$elem.find(this.options.next).length&&this.$elem.prepend('<a class="next" href="#" data-next><i class="icon '+n.next+'"></i></a>'),this.options.responsive!=0&&this.$elem.height("auto"),this.$elem.off("click.slider").on("click.slider",this.options.prev,function(t){t.preventDefault(),e.$target=$(this),e.prev()}).on("click.slider",this.options.next,function(t){t.preventDefault(),e.$target=$(this),e.next()}),this.touch(),this.options.auto&&this.autoplay(),e.$loading.fadeOut(),this},autoplay:function(){var e=this;return this.$elem.off("mouseenter.slider mouseleave.slider").on("mouseenter.slider",function(){e.stop()}).on("mouseleave.slider",function(){e.autoplay()}),this.timer=setInterval(function(){e.next()},this.options.interval),this},stop:function(){return this.timer&&clearInterval(this.timer),this},touch:function(){var e={},t={},n={},r=this.$canvas,i=this;r.off("touchstart.touch touchmove.touch touchend.touch").on("touchstart.touch",function(t){var n=t.originalEvent;if(n.targetTouches.length>=1){var r=n.targetTouches[0];e={left:r.pageX,top:r.pageY}}i.supportCSS3&&$(this).children().removeClass("slider-item-transition")}),r.on("touchmove.touch",function(r){var s=r.originalEvent;if(s.changedTouches.length>=1){var o=s.changedTouches[0];t={left:o.pageX,top:o.pageY},n.left=(e.left-t.left)/i.$canvas.width(),n.top=(e.top-t.top)/i.$canvas.height();function u(e){i.$items.each(function(t){var r=-n[e]*100;t==0?r-=100:t==2&&(r+=100),$(this).css(e,r+"%")})}u(i.prop)}}),r.on("touchend.touch",function(e){var t=e.originalEvent;if(t.changedTouches.length>=1){var r=t.changedTouches[0];i.supportCSS3&&$(this).children().addClass("slider-item-transition").removeAttr("style"),Math.abs(n[i.prop])>=.5?n[i.prop]>0?i.next():i.prev():i.change(i.index)}})},len:function(){return this.$list.children().length},createNavigation:function(){var e=this;if(!this.$nav.length){this.$nav=$('<ul class="slider-nav" data-nav></ul>');var t="";for(var n=0;n<this.len();n++)n==this.index?t+='<li class="active"></li>':t+="<li></li>";this.$nav.append(t).appendTo(this.$elem)}return this.$nav.off("click.slider").on("click.slider","li",function(){var t=e.index>$(this).index()?"prev":"next";e.change($(this).index(),t)}),this},addElements:function(e,t){e=e==null?this.index:e;var n=this.len(),r=["slider-left","","slider-right"];this.$items=$();for(var i=0;i<3;i++){var s=e,o="";i==2?s=s+1<n?s+1:0:i==0?s=s-1<0?n-1:s-1:o="slider-current";var u=$('<div class="slider-item '+o+'"/>').html(t?t[s]:this.$list.children().eq(s).html());this.supportCSS3?u.addClass("slider-item-transition").addClass(r[i]):u.css("left",(i-1)*100+"%"),this.$items=this.$items.add(u)}return this.$items.appendTo(this.$canvas.empty()),this},change:function(e,t){var n=this;if(n.supportCSS3){if(this.$items.is(":animated"))return this;if(this.$items.data("animated"))return this}return this.$nav.children().eq(e).addClass("active").siblings().removeClass("active"),this.$items.each(function(r){if(n.supportCSS3)$(this).addClass("active"),t=="prev"?$(this).addClass("slider-prev"):t=="next"&&$(this).addClass("slider-next"),n.$items.data("animated",!0),r==0&&$(this).transitionEnd(function(){n.$items.data("animated",!1),n.addElements(e)});else{var i=(r-1)*100+"%";t=="prev"?i=r*100+"%":t=="next"&&(i=(r-2)*100+"%");var s={};s[n.prop]=i,$(this).animate(s,function(){n.addElements(e)})}}),this.index=e,this},add:function(e){return this.$list.append(e),this.$nav.append("<li></li>"),this},remove:function(e){return this.$list.children(":eq("+e+")").remove(),this.$nav.children(":eq("+e+")").remove(),this},disabled:function(){},prev:function(){var e=this.len(),t=this.index-1<0?e-1:this.index-1;return this.change(t,"prev")},next:function(){var e=this.len(),t=this.index+1>=e?0:this.index+1;return this.change(t,"next")}},Slider.DEFAULTS={interval:5e3,auto:!0,easing:"linear",duration:"normal",index:0,responsive:!1,list:"[data-list]",nav:"[data-nav]",prev:"[data-prev]",next:"[data-next]"},$.fn.slider=function(e){var t=arguments;return $(this).each(function(){var n=$(this).data("slider");n||(n=new Slider(this,e),$(this).data("slider",n));var r=[];for(var i=1;i<t.length;i++)r.push(t[i]);var s=new Function("data","options","args","return data[ options ](args)");e&&n[e]&&s(n,e,r.join(","))})},$.fn.slider.Constructor=Slider,typeof module=="object"&&typeof module.exports=="object"&&(module.exports=Slider)}(window.jQuery||require("jquery"))
!function(e){var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$elem=e(n);for(var i in this.options)this.options[i]=this.$elem.data(i)||this.options[i];this.page=this.options.page,this.index=this.options.index,this.$target==e(),this.init.call(this)};t.prototype={init:function(){var t=this;this.$list=this.$elem.find(this.options.list),this.$elem.data("view")&&e.fn.slider&&(this.$slider=e(this.$elem.data("view")).slider({list:this.$list}).off("click.slider").on("click.slider",this.options.prev,function(){t.viewPrev()}).on("click.slider",this.options.next,function(){t.viewNext()}),this.slider=this.$slider.data("slider"));if(!this.$list.length){var n=e("<div>",{"class":"carousel"});n.insertBefore(this.$elem.removeClass("carousel").addClass("list")).append(this.$elem),this.$list=this.$elem.wrap('<div class="clip"></div>'),this.$elem=n}!this.$elem.find(this.options.prev).length&&this.$elem.prepend('<a class="prev" href="#" data-prev><i class="icon icon-chevron-left"></i></a>'),!this.$elem.find(this.options.next).length&&this.$elem.prepend('<a class="next" href="#" data-next><i class="icon icon-chevron-right"></i></a>'),this.$elem.off("click.carousel").on("click.carousel",this.options.prev,function(n){n.preventDefault(),t.$target=e(this),t.prev()}).on("click.carousel",this.options.next,function(n){n.preventDefault(),t.$target=e(this),t.next()}).on("click.carousel"," li",function(n){n.preventDefault(),t.index=e(this).index(),t.$slider&&t.$slider.change(t.index)}),this.resize()},addElements:function(e){var t=this.$list.children(),n='<img src="'+t.eq(e).find("a").attr("href");0/0;var r='<img src="'+t.eq(e).find("a").attr("href");0/0;var i='<img src="'+t.eq(e).find("a").attr("href");return 0/0,this.$slider.data("slider").addElements(e,["","",""]),this},resize:function(){var e=this.$list.children();return this.$list.width(e.length*e.width()),this},len:function(){var e=parseInt(this.$list.width()/this.$elem.width());return this.$list.width()%this.$elem.width()>0?e+1:e},move:function(t,n){var r=this;this.resize();var i=this.$elem,s={},o=this.$list;return t=="top"?s[t]=-n*i.outerHeight():s[t]=-n*i.outerWidth(),o.is(":animated")?this:(o.animate(s,i.data("duration")||this.options.duration,i.data("easing")||this.options.easing,function(){i.trigger(e.Event("changed"),{}),r.page=n}),this)},disabled:function(){},view:function(e){var t=this.$list.children(":eq("+e+")");return t.addClass("active").siblings().removeClass("active"),this.index=e,this},viewPrev:function(){var e=this.index-1<0?this.$list.children().length-1:this.index-1;return this.view(e)},viewNext:function(){var e=this.index+1>=this.$list.children().length?0:this.index+1;return this.view(e)},change:function(e){return this.move(this.$elem.data("prop")||this.options.prop,e)},prev:function(){var e=this.len(),t=this.page-1<0?e-1:this.page-1;return this.change(t)},next:function(){var e=this.len(),t=this.page+1>=e?0:this.page+1;return this.change(t)}},t.DEFAULTS={easing:"linear",duration:"normal",prop:"left",list:"[data-list]",prev:"[data-prev]",next:"[data-next]",page:0,index:0},e.fn.carousel=function(n,r){return e(this).each(function(){var i=e(this).data("carousel");i||(i=new t(this,n),e(this).data("carousel",i)),n&&i[n]&&i[n](r)})},e.fn.carousel.Constructor=t}(window.jQuery||require("jquery"))
