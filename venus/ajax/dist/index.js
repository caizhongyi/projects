!function(e){var t=function(){this.deferred=e.Deferred&&Deferred(),this.XMLHttpReq=null};t.prototype.createXMLHttpRequest=function(){try{this.XMLHttpReq=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.XMLHttpReq=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.XMLHttpReq=new XMLHttpRequest}}return this},t.prototype.get=function(e,t,n){return this.sendAjaxRequest(e,"get",t,n)},t.prototype.post=function(e,t,n){return this.sendAjaxRequest(e,"post",t,n)},t.prototype.sendAjaxRequest=function(e,t,n,r){typeof n=="function"?n.success=n:typeof n=="undefined"&&(n={});var i=this.createXMLHttpRequest(),s=this.XMLHttpReq;return s.open(t||"post",e,r==null?!0:r),s.onreadystatechange=function(){s.readyState==4?s.status==200?(n.success&&n.success.call(this,s.responseText),this.deferred?this.deferred.resolveWith(s.responseText):this):(n.error&&n.error.call(this,s,s.readyState,s.status),this.deferred?this.deferred.rejectWith(s,s.readyState,s.status):this):(n.error&&n.error.call(this,s,s.readyState),this.deferred?this.deferred.rejectWith(s,s.readyState):this)},s.send(null),this.deferred?this.deferred.promise():this},typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=t:e.Ajax=t}(window)
