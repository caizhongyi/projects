/*
 * jQuery.class.js
 * Copyirght (c) 2010, matsukaze.
 * Lisenced under the MIT license.
 * 
 * @version 1.2.3
 * @author mach3
 * @requires jQuery
 */
var Class=Class||{};$.extend(Class,{create:function(c){var d=c||{};return function(){var a,b;a={superclass:d.prototype,rebase:function(f){this[f]=$.extend(true,{},this[f])}};b=["unbind","bind","trigger","on","off"];$.each(b,function(g,h){if($.isFunction($.fn[h])){a[h]=function(){$.fn[h].apply($(this),arguments)}}});$.extend(true,a,d.prototype,this);$.extend(true,this,a);if($.isFunction(this.initialize)){this.initialize.apply(this,arguments)}}},get:function(f,d){var e=this.create(d);e.prototype=f;return e}});(function(a){a.fn.lazyload=function(b){var c={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};if(b){a.extend(c,b)}var d=this;if("scroll"==c.event){a(c.container).bind("scroll",function(g){var e=0;d.each(function(){if(!a.belowthefold(this,c)&&!a.rightoffold(this,c)){a(this).trigger("appear")}else{if(e++>c.failurelimit){return false}}});var f=a.grep(d,function(h){return !h.loaded});d=a(f)})}return this.each(function(){var e=this;a(e).attr("original",a(e).attr("src"));if("scroll"!=c.event||a.belowthefold(e,c)||a.rightoffold(e,c)){if(c.placeholder){a(e).attr("src",c.placeholder)}else{a(e).removeAttr("src")}e.loaded=false}else{e.loaded=true}a(e).one("appear",function(){if(!this.loaded){a("<img />").bind("load",function(){a(e).hide().attr("src",a(e).attr("original"))[c.effect](c.effectspeed);e.loaded=true}).attr("src",a(e).attr("original"))}});if("scroll"!=c.event){a(e).bind(c.event,function(f){if(!e.loaded){a(e).trigger("appear")}})}})};a.belowthefold=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).height()+a(window).scrollTop()}else{var b=a(d.container).offset().top+a(d.container).height()}return b<=a(c).offset().top-d.threshold};a.rightoffold=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).width()+a(window).scrollLeft()}else{var b=a(d.container).offset().left+a(d.container).width()}return b<=a(c).offset().left-d.threshold};a.extend(a.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})})(jQuery);(function(a){a.fn.marquee=function(e){var b={axis:"y",interval:3000,animate:{duration:500,easing:"linear"}};e=a.extend(true,{},b,e);var d=a(this).css("position","relative").children("ul").css("position","relative");a(this).css("overflow","hidden");var h=d.children();function c(i,j){d.stop().animate({left:i.left,top:i.top},e.animate.duration,e.animate.easing,function(){j()})}function f(){c({top:-h.outerHeight()},function(){d.css("top",0).children().eq(0).appendTo(d)})}function g(){c({left:-h.outerWidth()},function(){d.css("left",0).children().eq(0).appendTo(d)})}if(e.axis=="x"){var d=a(this).children("ul");d.css("width",d.children().css("float","left").outerWidth()*d.children().length)}if(h.length>1){setInterval(function(){if(e.axis=="y"){f()}else{g()}},e.interval)}}})(jQuery);(function(a){a.fn.seriesComboBoxs=function(d){d=a.extend(true,{},{data:[]},d);function f(k,j){var h=a([]);k.nextAll().empty().each(function(){a(this).append('<option value="-1">'+a(this).attr("default")+"</option>")});if(!j){k.append('<option value="-1">'+k.attr("default")+"</option>");return}for(var g=0;g<j.length;g++){h=h.add(a('<option value="'+j[g].id+'">'+j[g].name+"</option>").data("children",j[g].children))}k.append(h)}var c=a([]),b=a(this).getOptionsObjects();for(var e in b){c=c.add(b[e])}c.off("change.seriesComboBoxs").on("change.seriesComboBoxs",function(g){}).off("click.seriesComboBoxs").on("click.seriesComboBoxs","option",function(){var g=a(this).parent().next().empty();f(g,a(this).data("children"))}).each(function(){});f(c.eq(0).off("change.iseriesComboBoxs").on("change.iseriesComboBoxs",function(){a(this).children('[value="-1"]').remove()}).append(function(){return'<option value="-1">'+a(this).attr("default")+"</option>"}),d.data)}})(jQuery);(function(f){var c={speed:350,easing:"linear",padding:10,left:0,top:0,constrain:false},h=f(window),e=[],b={init:function(i){c=f.extend(c,i);return this.each(function(){var j=f(this);a(j);e[e.length]=j;g()})},remove:function(){return this.each(function(){var i=this;f.each(e,function(j,k){if(k.get(0)===i){d(null,k);e.splice(j,1);return false}})})},destroy:function(){f.each(e,function(j,k){d(null,k)});e=[];h.unbind("scroll",g);h.unbind("resize",d);return this}};var g=function(){f.each(e,function(m,p){var o=p,n=o.data("stickySB");if(n){var j=h.scrollTop()-n.offs.top,k=o.offset(),q=n.orig.offset.top-n.offs.top,l=q;if(q<j){if(j>n.offs.bottom){l=n.offs.bottom}else{l=j+c.padding}}o.stop().animate({top:l},c.speed,c.easing)}})};var a=function(o){if(o){var n=o,m=n.parent(),i=m.offset(),j=n.offset(),k=n.data("stickySB");if(!k){k={offs:{},orig:{top:n.css("top"),left:n.css("left"),position:n.css("position"),marginTop:n.css("marginTop"),marginLeft:n.css("marginLeft"),offset:n.offset()}}}while(i&&"top" in i&&m.css("position")=="static"){m=m.parent();i=m.offset()}if(i){var l=parseInt(m.css("paddingBottom"));l=isNaN(l)?0:l;k.offs=i;k.offs.bottom=c.constrain?Math.abs((m.innerHeight()-l)-n.outerHeight()):f(document).height()}else{k.offs={top:-c.top,left:-c.left,bottom:f(document).height()}}n.css({position:"absolute",top:Math.floor(j.top-k.offs.top)+"px",left:Math.floor(j.left-k.offs.left)+"px",margin:0,width:n.width()}).data("stickySB",k)}};var d=function(i,j){var k=e;if(j){k=[j]}f.each(k,function(l,n){var m=n.data("stickySB");if(m){n.css({position:m.orig.position,marginTop:m.orig.marginTop,marginLeft:m.orig.marginLeft,left:m.orig.left,top:m.orig.top});if(!j){a(n);g()}}})};h.bind("scroll",g);h.bind("resize",d);f.fn.stickyboxes=function(i){if(b[i]){return b[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(!i||typeof i=="object"){return b.init.apply(this,arguments)}}}})(jQuery);(function(a){a.fn.textarea=function(c){var d=a.extend(true,{},{maxheight:150,minheight:50},c);var b={max:a(this).css("maxheight")||c.maxheight,min:a(this).css("minheight")||c.minheight};a(this).data("height",b).on({focus:function(){a(this).stop().animate({height:a(this).data("height").max})},blur:function(){if(a(this).val()==""){a(this).stop().animate({height:a(this).data("height").min})}}})}})(jQuery);(function(g){var c,a,f={center:"center",left:"left",right:"right"},e={auto:"auto"};function b(h){this.$element=g(h);this.original_text=this.$element.html();this.settings=g.extend({},g.fn.trunk8.defaults)}b.prototype.updateSettings=function(h){this.settings=g.extend(this.settings,h)};function d(){var n=this.data("trunk8"),l=n.settings,h=l.width,p=l.side,t=l.fill,s=a.getLineHeight(this)*l.lines,q=n.original_text,i=q.length,j="",m,r,k,o;this.html(q);if(h===e.auto){if(this.height()<=s){return}m=0;r=i-1;while(m<=r){k=m+((r-m)>>1);o=a.eatStr(q,p,i-k,t);this.html(o);if(this.height()>s){r=k-1}else{m=k+1;j=(j.length>o.length)?j:o}}this.html("");this.html(j);if(l.tooltip){this.attr("title",q)}}else{if(!isNaN(h)){k=i-h;o=a.eatStr(q,p,k,t);this.html(o);if(l.tooltip){this.attr("title",q)}}else{g.error('Invalid width "'+h+'".')}}}c={init:function(h){return this.each(function(){var j=g(this),i=j.data("trunk8");if(!i){j.data("trunk8",(i=new b(this)))}i.updateSettings(h);d.call(j)})},update:function(h){return this.each(function(){var i=g(this);if(h){i.data("trunk8").original_text=h}d.call(i)})},revert:function(){return this.each(function(){var h=g(this).data("trunk8").original_text;g(this).html(h)})},getSettings:function(){return this.get(0).data("trunk8").settings}};a={eatStr:function(o,k,j,n){var m=o.length,i=a.eatStr.generateKey.apply(null,arguments),h,l;if(a.eatStr.cache[i]){return a.eatStr.cache[i]}if((typeof o!=="string")||(m===0)){g.error('Invalid source string "'+o+'".')}if((j<0)||(j>m)){g.error('Invalid bite size "'+j+'".')}else{if(j===0){return o}}if(typeof(n+"")!=="string"){g.error("Fill unable to be converted to a string.")}switch(k){case f.right:return a.eatStr.cache[i]=g.trim(o.substr(0,m-j))+n;case f.left:return a.eatStr.cache[i]=n+g.trim(o.substr(j));case f.center:h=m>>1;l=j>>1;return a.eatStr.cache[i]=g.trim(a.eatStr(o.substr(0,m-h),f.right,j-l,""))+n+g.trim(a.eatStr(o.substr(m-h),f.left,l,""));default:g.error('Invalid side "'+k+'".')}},getLineHeight:function(l){var i=g(l),n=i.css("float"),h=i.css("position"),j=i.html(),k="line-height-test",m;if(n!=="none"){i.css("float","none")}if(h==="absolute"){i.css("position","static")}i.html("i").wrap('<div id="'+k+'" />');m=g("#"+k).innerHeight();i.html(j).css({"float":n,position:h}).unwrap();return m}};a.eatStr.cache={};a.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")};g.fn.trunk8=function(h){if(c[h]){return c[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return c.init.apply(this,arguments)}else{g.error("Method "+h+" does not exist on jQuery.trunk8")}}};g.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:f.right,tooltip:true,width:e.auto}})(jQuery);(function(b){var a={height:function(){var d,c;if(b.browser.msie&&b.browser.version<7){d=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(d<c){return b(window).height()+"px"}else{return d+"px"}}else{return b(document).height()+"px"}},width:function(){var c,d;if(b.browser.msie&&b.browser.version<7){c=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(c<d){return b(window).width()+"px"}else{return c+"px"}}else{return b(document).width()+"px"}}};Class.dialog=Class.get({initialize:function(c,d){this.options=b.extend(true,{},{effect:"enlarge",easing:"easeOutElastic",duration:"normal",event:"click",context:b(window),layclick:false,hasIframe:true,target:".showdialog",overlay:".overlay"},d);var g=this;this.$=b(c);this.effects=Class.dialog.effects;this.$dialogbox=b(this.$);this.$dialogbox.data("size",{width:this.$dialogbox.width(),height:this.$dialogbox.height()});if(!this.$.attr("id")){this.$.attr("id","dialog_"+parseInt(Math.random()*10000))}this.id=this.$.attr("id");this.$overlay=null;if(this.$dialogbox.css("z-index")=="auto"||!this.$dialogbox.css("z-index")){this.$dialogbox.css("z-index",10)}if(this.options.overlay){Class.dialog.$overlay=this.$overlay=this._getOverLay()}else{this.$.attr("nolayer",true)}this.$dialogbox.fixed&&this.$dialogbox.fixed();var f=this.$dialogbox;this.$dialogbox.find("[data-options]").each(function(){if(Class.parse(this).region=="header"){f=b(this)}});if(this.$dialogbox.draggable){this.$dialogbox.draggable({handle:f,containment:"document",scroll:false,opacity:0.8,cursor:"move",drag:function(h,i){}})}else{new Class.dragbox(this.$,{handler:this.$.getRegion("header")})}this.$dialogbox.resizable&&this.$dialogbox.resizable();var e=this.options.event+".dialog";b(document).off(e+this.id).on(e+this.id,this.options.target,function(){g.show()});this.$dialogbox.off("click.dilaog").on("click.dilaog",function(j){var h=b(j.target),i=h.parseOptions();if(i.region=="hide"){g.hide()}});this.center();this._setOverlay();b(window).resize(function(){g.center();g._setOverlay()});if(this.options.layclick){this.$overlay&&this.$overlay.off("click.dilaog").on("click.dilaog",function(){for(var h=0;h<Class.dialog.items.length;h++){Class.dialog.items[h].hide()}})}this.options.overlay&&Class.dialog.items.push(this)},_getOverLay:function(){if(Class.dialog.$overlay&&Class.dialog.$overlay.length){return Class.dialog.$overlay}var c=b(this.options.overlay);if(b.ishtml(this.options.overlay)){c.appendTo(b("body"))}else{if(!c.length){c=b('.<div class="dialog-overlay" style="opacity: 0.5;filter:alpha(opacity = 50);background: #fff;"></div>').appendTo(b("body"))}}c.css({"z-index":parseInt(this.$dialogbox.css("z-index"))-1});if(this.options.hasIframe){c=c.add(b('<iframe scrolling="no" frameborder="0"></iframe>').appendTo("body").css({"z-index":parseInt(c.css("z-index"))-1}).hide())}c.fixed&&c.fixed();c.css({top:0,left:0}).attr("data-opacity",c.css("opacity")).hide();return c},_setOverlay:function(){if(!this.$overlay){return this}if(this.$overlay.fixed){this.$overlay.css({width:b(window).width(),height:b(window).height()})}else{this.$overlay.css({width:a.width(),height:a.height()})}return this},centerPos:function(d){var h=d.offset()||{};var c=this.$dialogbox.data("size");var f=(d.width()-c.width)/2+d.scrollLeft();var e=(d.height()-c.height)/2+d.scrollTop();var g={};g.left=f+(h.left||0);g.top=e+(h.top||0);return g},center:function(){this.$dialogbox.css(this.centerPos(b(this.options.context)));return this},show:function(){b.proxy(this.effects[this.options.effect].show,this)(this.centerPos(b(this.options.context)),this.$dialogbox);if(this.$overlay&&!this.$overlay.attr("data-lock")&&!this.$.attr("nolayer")){this.$overlay&&this.$overlay.stop(true,true).show().animate({opacity:this.$overlay.attr("opacity")})}return this},hide:function(){b.proxy(this.effects[this.options.effect].hide,this)(this.$dialogbox);if(this.$overlay&&!this.$overlay.attr("data-lock")&&!this.$.attr("nolayer")){this.$overlay&&this.$overlay.stop(true,true).fadeOut()}return this},html:function(c){return this.$.html(c)}});Class.dialog.items=[];Class.dialog.$overlay=null;Class.dialog.effects={enlarge:{show:function(g,c){var f=c;var e={left:b(window).scrollLeft()+b(window).width()/2,top:b(window).scrollTop()+b(window).height()/2};var d={width:f.width(),height:f.height()};f.css(e).css({width:0,height:0}).hide().stop(true,true).animate({opacity:"show",left:g.left,top:g.top,width:d.width,height:d.height},this.options.duration,this.options.easing,function(){b(this).height("auto")});return this},hide:function(c){var e=c;var d={left:b(window).scrollLeft()+e.width()/2+e.position().left,top:b(window).scrollTop()+e.height()/2+e.position().top};e.stop(true,true).animate({opacity:"hide",left:d.left,top:d.top,width:"hide",height:"hide"},this.options.duration,this.options.easing);return this}},fade:{show:function(c){b(this).stop(true,true).fadeIn(this.options.duration,this.options.easing);return this},hide:function(){b(this).stop(true,true).fadeOut(this.options.duration,this.options.easing);return this}}};Class.dialogs=Class.get({initialize:function(c,d){}})})(jQuery);(function(a){Class.accordion=Class.get({EVENT_CHANGE:"change",initialize:function(c,d){var f=a(this);var b={effect:"vertical",duration:"normal",easing:"easeInOutExpo",range:{min:"auto",max:"auto"},event:"click",selected:"selected",index:0,collapsible:false};this.effects=Class.accordion.effects;this.options=a.extend(true,{},b,d);var g=this;this.$=a(c);this.index=this.options.index;this.tempIndex=-1;var e=this.options.event+".accordion";this.update();a.proxy(Class.accordion.init[this.options.effect],this)();this.show(this.index);this.$.off(e).on(e,function(j){var h=a(j.target);var i=h.parseOptions();if(i&&i.region=="header"){g.show(parseInt(h.attr("data-index")))}else{if(i&&i.region=="prev"){g.prev()}else{if(i&&i.region=="next"){g.next()}}}})},update:function(){var c=this;c.$headers=a([]);c.$panels=a([]);c.$clip=a([]);var b=0;this.$region=a("[data-options]",this.$).each(function(){var d=a(this).parseOptions();switch(d.region){case"header":c.$headers=c.$headers.add(a(this).attr("data-index",b++));break;case"panel":c.$panels=c.$panels.add(this);break;case"clip":c.$clip=c.$clip.add(a(this));break}});this.$clip.width((this.$panels.outerWidth()+this.$headers.outerWidth())*this.$panels.length);return this},show:function(b){if(b<0){return this}if(b!=this.tempIndex){this.index=b;a.proxy(this.effects[this.options.effect].show,this)(this.index);this.$headers.eq(this.index).addClass(this.options.selected);this.tempIndex>=0&&this.hide(this.tempIndex);this.tempIndex=this.index}else{if(this.options.collapsible){this.index=b;this.toggle(this.index)}}return this},hide:function(b){a.proxy(this.effects[this.options.effect].hide,this)(b);this.$headers.eq(b).removeClass(this.options.selected);return this},toggle:function(b){if(this.$panels.eq(b).is(":hidden")){a.proxy(this.effects[this.options.effect].show,this)(b)}else{this.hide(b)}return this},next:function(){var b=this.index+1;if(b>=this.$panels.length){b=0}this.show(b);return this},prev:function(){var b=this.index-1;if(b<0){b=this.$panels.length-1}this.show(b);return this}});Class.accordion.init={horizontal:function(){if(this.options.range.min!="auto"){this.$panels.show()}else{this.$panels.hide()}},vertical:function(){if(this.options.range.min!="auto"){this.$panels.show()}else{this.$panels.hide()}},"default":function(){if(this.options.range.min!="auto"){this.$panels.show()}else{this.$panels.hide()}}},Class.accordion.effects={horizontal:{show:function(b){var c="show",d=this.$panels.stop(true).eq(b);if(this.options.range.max!="auto"){c=this.options.range.max}else{if(!d.is(":hidden")){c=d.width()}}d.animate({width:c},this.options.duration,this.options.easing);return this},hide:function(b){var c="hide";if(this.options.range.min!="auto"){c=this.options.range.min}this.$panels.not(":eq("+this.index+")").animate({width:c},this.options.duration,this.options.easing);return this}},vertical:{show:function(c){var b="show",d=this.$panels.eq(c);if(this.options.range.max!="auto"){b=this.options.range.max}else{if(!d.is(":hidden")){b=d.height()}}this.$panels.eq(c).stop(true).animate({height:b},this.options.duration,this.options.easing);return this},hide:function(c){var b="hide";if(this.options.range.min!="auto"){b=this.options.range.min}this.$panels.eq(c).stop(true).animate({height:b},this.options.duration,this.options.easing);return this}},"default":{show:function(b){this.$panels.eq(b).show();return this},hide:function(b){this.$panels.eq(b).hide();return this}}}})(jQuery);(function(a){Class.tabs=Class.get({EVENT_CHANGE:"change",initialize:function(c,e){var b={effect:"horizontal",easing:"easeInOutExpo",duration:"normal",offset:1,selected:"selected",navItem:"a,li",panelItem:"li",interval:3000,auto:false,disable:"disable",index:0,event:"click"},h=this;this.options=a.extend(true,{},b,e);this.$=a(c);this.effects=Class.tabs.effects;a("[data-options]",this.$).each(function(){var i=a(this).parseOptions();switch(i.region){case"nav":h.$nav=a(this);break;case"list":h.$panel=a(this);break;case"view":h.$view=a(this);break;case"clip":h.$clip=a(this);break}});h.$nav=h.$nav||a("");h.$panel=h.$panel||a("");this.init=Class.tabs.init[this.options.effect];this.update();this.index=0;this.tempIndex=-1;var d=(this.options.event=="hover"?"mouseenter":this.options.event)+".tabs",g={mouseenter:"mouseenter.tabs",mouseleave:"mouseleave.tabs"},h=this;this.$nav.off(d).on(d,this.options.navItem,function(i){i.preventDefault();h.page(a(this).index())});if(this.options.auto){this.$panel.off(g.mouseenter).on(g.mouseenter,this.options.panelItem,function(i){h.stop()}).off(g.mouseleave).on(g.mouseleave,this.options.panelItem,function(i){h.start()});this.$view.off(g.mouseenter).on(g.mouseenter,function(i){h.stop()}).off(g.mouseleave).on(g.mouseleave,function(i){h.start()})}var f="click.tabs";this.$.find(this.options.prev).off(d).on(d,function(i){h.prev()});this.$.find(this.options.next).off(d).on(d,function(i){h.next()});this.page(this.index=this.options.index);this.$panel.stop(true,true).fadeIn();this.start()},setClip:function(){if(!this.$clip.length){this.$clip=a("<div></div>").wrapAll(this.$panel).addClass("tabs-clip")}return this},update:function(){this.$navItems=this.$nav.children(this.options.navItem);this.$panelItems=this.$panel.children(this.options.panelItem);this.length=this.$panelItems.length||this.$navItems.length;this.init&&a.proxy(this.init,this)();return this},page:function(b){if(b<0&&this.tempIndex==b){return this}this.index=b;if(this.tempIndex>0){this.$navItems.eq(this.tempIndex).removeClass(this.options.selected)}this.$navItems.eq(this.index).addClass(this.options.selected);a.proxy(this.effects[this.options.effect],this)({current:this.index,temp:this.tempIndex},this.options.offset);this.view(this.index);this.tempIndex=this.index;this.trigger(this.EVENT_CHANGE,[this.index,this.count()]);return this},count:function(){var b=this.length;var c=parseInt(b/this.options.offset);return b%this.options.offset>0?c+1:c},next:function(){var b=this.index+1;if(b<this.count()){this.page(b)}else{if(this.options.disable){this.$.find(this.options.prev).addClass(this.options.disable);return this}this.page(0)}return this},prev:function(){var b=this.index-1;if(b>=0){this.page(b)}else{if(this.options.disable){this.$.find(this.options.prev).addClass(this.options.disable);return this}this.page(this.count()-1)}return this},view:function(e){var d=this.$navItems.eq(e),f=d.attr("title"),b=d.attr("rel"),c=d.attr("href");this.$.find(this.options.view).attr({src:c,title:f,alt:f}).hide().stop(true,false).fadeIn().parent("a").attr("href",b);return this},start:function(){var b=this;if(this.options.auto){this.autoPlay=setTimeout(function(){b.next();b.start()},this.options.interval)}return this},stop:function(){clearTimeout(this.autoPlay);return this}});Class.tabs.init={horizontal:function(){this.$panel.css({position:"absolute"}).parent().css("position","relative");this.$panelItems.css({"float":"left",width:this.$panel.parent().width()});var b=parseFloat(this.$navItems.css("margin-left")||0)+parseFloat(this.$navItems.css("margin-right")||0);this.$panel.width(this.$panelItems.outerWidth()*2*this.$panelItems.length+b);return this},horizontal_accordion:function(){var d=this;var c=this.$panel.width(),b=this.$panelItems.length;this.$panelItems.width(function(){return parseFloat(c/b)-parseFloat(d.$panelItems.css("border-left-width"))-parseFloat(d.$panelItems.css("border-right-width"))});this.$panel.css({"background-position":"0 0","background-repeat":"no-repeat"}).off("mouseover.tabs").on("mouseover.tabs",this.options.panelItem,function(f){d.page(a(this).index())});return this},vertical:function(){this.$panel.css("position","absolute").parent().css("position","relative");return this},"default":function(){return this},fade:function(){return this},swap:function(){}};Class.tabs.effects={horizontal:function(b,d){var c=this.$panelItems.outerWidth();this.$panel.stop(true).animate({left:-(b.current*c)*d},this.options.duration,this.options.easing);return this},horizontal_accordion:function(g,e){var f=this;var j=f.$panel.find(this.options.panelItem+":eq("+g.current+") :[data-options]");var b=j.parseOptions();switch(b.region){case"summary":if(this.$panel.data("summary")){this.$panel.data("summary").stop(true).fadeOut()}this.$panel.data("summary",j.stop(true).fadeIn());break}var d="url("+this.$navItems.eq(g.current).attr("href")+")";var c=this.$panel.width(),h=this.$panelItems.length;var i=this.$panelItems.width();f.$panelItems.css({"background-image":d,"background-repeat":"no-repeat","background-position":"0 0"});this.$panelItems.each(function(k){if(g.current>g.temp){a(this).css({"background-position":c+"px 0px"}).stop(true).animate({backgroundPosition:"(-"+(k*i)+" 0px)"},k*100+300,f.options.easing,function(){f.$panel.css({"background-image":d})})}else{a(this).css({"background-position":-c+"px 0px"}).stop(true).animate({backgroundPosition:"(-"+(k*i)+" 0px)"},(100*h-k*100)+300,f.options.easing,function(){f.$panel.css({"background-image":d})})}});return this},vertical:function(c,d){var b=this.$panelItems.outerHeight();this.$panel.stop(true).animate({top:-(c.current*b)*d},this.options.duration,this.options.easing);return this},"default":function(b,c){this.$panelItems.eq(b.current).show();this.$panelItems.eq(b.temp).hide();return this},fade:function(b,c){this.$panelItems.eq(b.current).stop(true,true).fadeIn(this.options.duration,this.options.easing);this.$panelItems.eq(b.temp).stop(true,true).hide();return this},swap:function(c,e){var b=this.$navItems.eq(c.current);var f=this.$.offset(),d=b.offset()||{};diff={left:f.left-d.left,top:f.top-d.top};b.stop(true).css("position","relative").find("img").stop(true).css("position","absolute").animate({width:this.$.width(),height:this.$.height(),left:diff.left,top:diff.top},this.options.duration,this.options.easing)}}})(jQuery);(function(b){function a(e,d){var c=parseInt(e.css(d));if(isNaN(c)){return false}return c}Class.dragbox=Class.get({EVENT_DRAGGING:"dragging",EVENT_BEFOREDRAG:"beforeDrag",EVENT_AFTERDRAG:"afterDrag",initialize:function(c,d){var e=this;this.opts=$.extend(true,{},{context:$(window),handler:null},d);this.$=$(c);this.$handler=$(this.opts.handler);this.$context=$(this.opts.context);this.isInHandler=false;this.drag(this.$.css({"-moz-user-select":"none","-khtml-user-select":"none","user-select":"none"}));return},drag:function(g,c){var f=this;var e=$.extend({zIndex:20,opacity:0.7,handler:this.opts.handler,context:this.opts.context,onMove:function(){},onDrop:function(){}},c);var d={drag:function(i){var h=i.data.dragData;var j={left:h.left+i.pageX-h.offLeft,top:h.top+i.pageY-h.offTop};if(j.left<0){return}if(j.top<0){return}if(j.left+f.$.outerWidth()>=f.$context.width()){return}if(j.top+f.$.outerHeight()>=f.$context.height()){return}h.target.css({left:j.left,top:j.top});h.handler.css({cursor:"move"});h.target.css({cursor:"move"});h.onMove(i)},drop:function(i){var h=i.data.dragData;h.target.css(h.oldCss);h.handler.css("cursor",h.oldCss.cursor);h.onDrop(i);$(document).unbind("mousemove.dragbox",d.drag).unbind("mouseup.dragbox",d.drop)}};return g.each(function(){var i=this;var h=null;if(typeof e.handler=="undefined"||e.handler==null){h=$(i)}else{h=(typeof e.handler=="string"?$(e.handler,this):e.handler)}h.bind("mousedown.dragbox",{e:i},function(k){var n=$(k.data.e);var m={};if(n.css("position")!="absolute"){try{n.position(m)}catch(j){}n.css("position","absolute")}m.cursor="move";m.opacity=a(n,"opacity")||1;var l={left:m.left||a(n,"left")||0,top:m.top||a(n,"top")||0,width:n.width()||a(n,"width"),height:n.height()||a(n,"height"),offLeft:k.pageX,offTop:k.pageY,oldCss:m,onMove:e.onMove,onDrop:e.onDrop,handler:h,target:n};n.css("opacity",e.opacity);n.css("cursor","move");$(document).bind("mousemove.dragbox",{dragData:l},d.drag).bind("mouseup.dragbox",{dragData:l},d.drop)})})}})})(jQuery);(function(a){Class.floatbox=Class.get({EVENT_SHOW:"show",EVENT_HIDE:"hide",initialize:function(c,d){var f=this;var b={effect:"default",easing:"linear",duration:"normal",context:a(window),target:null,event:"click",position:"bl",offset:{left:0,top:0}};this.effects=Class.floatbox.effects;this.options=a.extend(true,{},b,d);this.$=a(c).css("position","absolute");this.$context=a(this.options.context).css({position:"relative"});this.$target=a(this.options.target);if(!this.$.attr("id")){this.$.attr("id","floatbox_"+parseInt(Math.random()*10000))}this.id=this.$.attr("id");Class.floatbox.$items=Class.floatbox.$items.add(this.$);this.$.off("click.flaotbox").on("click.flaotbox",function(g){g.stopPropagation()});a(window).off("resize.flaotbox").on("resize.flaotbox",function(){f.show(Class.floatbox.$target)});var e=this.options.event+".floatbox"+this.id;if(typeof this.options.target=="object"){this.options.target.off(e).on(e,function(g){g.stopPropagation();f.hideAll();f.show(a(this))})}else{a(document).off(e).on(e,this.options.target,function(g){g.stopPropagation();f.hideAll();f.show(a(this))})}a(document).off(e+"doc").on(e+"doc",function(g){f.hideAll()});return this},getPos:function(c){var b=this.$context.offset()||{left:0,top:0},h={},f={},g=c.offset(),d=this.options.position.split("");d[0]=d[0]||"b";d[1]=d[1]||"l";var e={left:this.$context.width()/2+this.$context.scrollLeft(),top:this.$context.height()/2+this.$context.scrollTop()};if(g.left>e.left){if(d[0]=="b"||d[0]=="t"){h=this.targetPos(d[0]+"r",c)}else{h=this.targetPos("l"+d[1],c)}}else{if(d[0]=="b"||d[0]=="t"){h=this.targetPos(d[0]+"l",c)}else{h=this.targetPos("r"+d[1],c)}}if(g.top>e.top){if(d[0]=="b"||d[0]=="t"){f=this.targetPos("t"+d[1],c)}else{f=this.targetPos(d[0]+"b",c)}}else{if(d[0]=="b"||d[0]=="t"){f=this.targetPos("b"+d[1],c)}else{f=this.targetPos(d[0]+"t",c)}}g={left:h.left,top:f.top};return g},targetPos:function(f,c){var c=c||this.$target,e=c.offset()||{left:0,top:0},b=this.$context.offset()||{left:0,top:0},d={left:0,top:0};e.left=e.left;e.top=e.top;switch(f){case"lt":d={left:e.left-this.options.offset.left-this.$.outerWidth(),top:e.top+this.options.offset.top};break;case"tr":d={left:e.left-this.options.offset.left+c.outerWidth()-this.$.outerWidth(),top:e.top-this.options.offset.top-this.$.outerHeight()};break;case"br":d={left:e.left-this.options.offset.left+c.outerWidth()-this.$.outerWidth(),top:e.top+this.options.offset.top+c.outerHeight()};break;case"lb":d={left:e.left-this.options.offset.left-this.$.outerWidth(),top:e.top-this.options.offset.top-this.$.outerHeight()+c.outerHeight()};break;case"tl":d={left:e.left+this.options.offset.left,top:e.top-this.options.offset.top-this.$.outerHeight()};break;case"rt":d={left:e.left+this.options.offset.left+c.outerWidth(),top:e.top+this.options.offset.top};break;case"rb":d={left:e.left+this.options.offset.left+c.outerWidth(),top:e.top-this.options.offset.top-this.$.outerHeight()+c.outerHeight()};break;case"bl":d={left:e.left+this.options.offset.left,top:e.top+this.options.offset.top+c.outerHeight()};break}return d},show:function(b){b=b||this.$target;a.proxy(Class.floatbox.effects[this.options.effect].show,this)(b);Class.floatbox.$target=b;return this},hide:function(){a.proxy(Class.floatbox.effects[this.options.effect].hide,this)();return this},hideAll:function(){a.proxy(Class.floatbox.effects[this.options.effect].hide,this)(Class.floatbox.$items);return this},toggle:function(b){if(this.$panels.eq(b).is(":hidden")){a.proxy(this.effects[this.options.effect].show,this)(b)}else{this.hide(b)}return this}});Class.floatbox.$items=a([]);Class.floatbox.$target=a("");Class.floatbox.effects={"default":{show:function(b){var c=this.getPos(b);this.$.css(c);this.$.stop(true,true).fadeIn(this.options.duration,this.options.easing);return this},hide:function(b){b=b&&b.length?b:this.$;a(b).stop(true,true).fadeOut(this.options.duration,this.options.easing);return this}},slider:{show:function(b){var d=this.options.offset;if(this.options.position.indexOf("b")!=-1||this.options.position.indexOf("t")!=-1){this.options.offset.top+=100}else{this.options.offset.left+=100}var e=this.getPos(b);this.$.css(e);this.options.offset=d;var c=this.getPos(b);c.opacity="show";this.$.stop(true,true).animate(c,this.options.duration,this.options.easing);return this},hide:function(b){b=b.length?b:this.$;a(b).stop(true,true).fadeOut(this.options.duration,this.options.easing);return this}}}})(jQuery);(function(a){Class.nav=Class.get({initialize:function(b,c){this.options=a.extend(true,{},{effect:"default"},c);var e=this;this.effects=Class.nav.effects;this.$=a(b);this.$.attr("control","nav");var d=this.$.css("position","relative").find("li").css("position","relative");d.bind(this.event,function(){e.show(a(this).children("ul"))});d.hover(function(){if(this.event=="hover"||this.event=="moveover"){e.effects[e.options.effect].show(a(this).children("ul"))}},function(){e.effects[e.options.effect].hide(a(this).children("ul"))});d.end().find("ul").css({left:100,top:0,position:"absolute"}).hide().end().children("li").children("ul").css({top:function(){return a(this).parent().outerHeight()},left:0})}});Class.nav.effects={"default":{show:function(b){b.stop().animate({height:"show"});return this},hide:function(b){b.stop().animate({height:"show"});return this}}}})(jQuery);(function(a){Class.previewImage=Class.get({EVENT_CHANGE:"change",initialize:function(c,d){var e=a(this);var b={url:"",params:{},size:10,page:0};this.effects=Class.previewImage.effects;this.options=a.extend(true,{},b,d);var f=this;this.$=a(c).css({position:"relative"});this.index=0;this.tempIndex=0;this.$view=null;this.$prev=null;this.$next=null;this.page=this.options.page;this.size=this.options.size;this.total=0;this.$.find("[data-options]").each(function(){var g=a(this).parseOptions();switch(g.region){case"prev":f.$prev=a(this);break;case"next":f.$next=a(this);break;case"view":f.$view=a(this);break}});if(!this.$view||!this.$view.length){this.$view=a("<img/>").appendTo(this.$)}if(!this.$next||!this.$next.length){this.$next=a('<a href="javascript:void(0)" class="previewImage-next"/>').appendTo(this)}if(!this.$prev||!this.$prev.length){this.$prev=a('<a href="javascript:void(0)" class="previewImage-prev"/>').appendTo(this)}this.$view.wrap(a('<div class="previewImage-wrap"></div>')).css("position","absolute");this.$wrap=this.$view.parent();this.getData({page:this.options.page,size:this.options.size});this.$.off("click.previewImage").on("click.previewImage",function(k){var j=f.$view;var g=a(k.target),i=g.parseOptions();switch(i.region){case"prev":if(f.index!=0){var h=f.$.data("previewImage-data")[--f.index];j.attr({src:h.url,title:h.title}).hide()}break;case"next":if(f.index<f.$.data("previewImage-data").length-1){var h=f.$.data("previewImage-data")[++f.index];j.attr({src:h.url,title:h.title}).hide()}else{if(f.$.data("previewImage-data").length-1<=f.index<total-1){f.page++;f.getData({size:f.size,page:f.page})}}break}});this.$view.off("load.previewImage").on("load.previewImage",function(){f.loadImage()})},update:function(){var b=this;return this},getData:function(d){var b=this.options,e=this;if(d){for(var c in d){b.params[c]=d[c]}}if(typeof b.url=="string"){a.get(b.url,b.params,function(h){if(!e.$.data("previewImage-data")){e.$.data("previewImage-data",h.rows)}else{var g=e.$.data("previewImage-data");for(var f=0;f<h.rows.length;f++){g.push(h.rows[f])}e.$.data("previewImage-data",g)}total=h.total})}else{e.$.data("previewImage-data",b.url.rows);total=b.url.total}},prev:function(){},next:function(){},loadImage:function(){var f=this;var c=parseFloat(this.$view.outerWidth()/this.$view.outerHeight());this.$view.hide();var e=(this.$.width()-this.$view.outerWidth())/2-parseFloat(this.$wrap.css("padding-left"))+this.$.scrollLeft();var d=(this.$.height()-this.$view.outerHeight())/2-parseFloat(this.$wrap.css("padding-top"))+this.$.scrollTop();var b={width:this.$view.outerWidth(),height:this.$view.outerHeight()};if(this.$view.outerWidth()>this.$view.outerHeight()&&this.$view.outerWidth()>this.$.width()){b.width=this.$.width();b.height=b.width/c}if(this.$view.outerHeight()>this.$view.outerWidth()&&this.$view.outerHeight()>this.$.height()){b.height=this.$.height();b.width=b.height*c}this.$wrap.stop(true).animate({left:e,top:d,width:b.width+"px",height:b.height+"px"},function(){f.$view.stop(true).fadeIn()});return this}});Class.previewImage.effects={"default":{show:function(){this.show()},hide:function(){this.hide()}}}})(jQuery);(function(a){Class.track=Class.get({initialize:function(c,d){var b={position:{x:0,y:0},interval:100,effect:"round"},e=this;this.$=a(c);this.effects=Class.track.effects;this.options=a.extend(true,{},b,d);var e=this;this.index=0;this.tempIndex=0;this.$items=this.$.children().hover(function(){e.stop()},function(){e.start()});this.effects[this.options.effect].frame(this.$items);this.start();return this},duration:function(b){switch(b){case"fast":return 100;case"slow":return 700;case"normal":return 500;default:return b}},stop:function(){clearInterval(this.timer);this.timer=null;return this},start:function(){var b=this;if(!this.timer){this.timer=setInterval(function(){b.effects[b.options.effect].frame(b.$items)},this.duration(this.options.interval))}return this}});Class.track.effects={round:{_r:{x:500,y:100},_angleOffset:5,frame:function(d){var c=this,b=d.length;d.each(function(g,l){if(!a(l).attr("angle")){var e=g==0?1:360/(b)*g;a(l).attr("angle",e)}else{a(l).attr("angle",parseFloat(a(l).attr("angle"))+c._angleOffset)}var h=a(l).attr("angle");var k=c._pos(a(l),h),f=c._size(a(l),h),j=c._zIndex(d,h);k.width=f.width;k.height=f.height;k.zIndex=j;a(l).css(k)});return this},_pos:function(b,c){if(c>=360){c=c-360}return{left:this._r.x*Math.cos(c*Math.PI/180),top:this._r.y*Math.sin(c*Math.PI/180)}},_size:function(b,e){if(!b.data("size")){b.data("size",{width:b.outerWidth(),height:b.outerHeight()})}var d=Math.sin(e*Math.PI/180)*0.5+1;var c={width:b.data("size").width*d,height:b.data("size").height*d};return c},_zIndex:function(f,c){var e=Math.sin(c*Math.PI/180);var b=f.length.toString().length;var d=Math.pow(10,b);e=parseInt(e*d)+d;return e}}}})(jQuery);(function(a){Class.combo=Class.get({EVENT_SHOW:"show",EVENT_HIDE:"hide",EVENT_CHANGE:"change",initialize:function(e,f){var h=this;var d={defaultVal:"请选择",effect:"default",easing:"linear",duration:"normal"};this.effects=Class.combo.effects;this.options=a.extend(true,{},d,f);this.$=a(e);this.$list=a('<div class="combo-list"><ul></ul></div>').appendTo("body");var c=this.$.hide().children().each(function(){var i=a("<li></li>").text(a(this).text()).attr("value",a(this).val());h.$list.children("ul").append(i)});this.$list.appendTo("body");this.$control=a('<span class="combo"></span>').append('<input type="text" class="combo-input"/>').append('<a href="javascript:void(0)"  class="combo-icon"></a>').addClass(this.$.attr("class")).width(this.$.width()).insertAfter(this.$).off("click.combo").on("click.combo",function(){h.show()});this.$input=this.$control.find("input[type=text]");this.$list.off("click.combo").on("click.combo","li",function(){h.val(a(this).attr("value"));h.hide()});var b=this.$control.find("a"),g=this.$input.val(this.options.defaultVal).attr("disabled",true);g.width(this.$.width()-b.outerWidth()-parseFloat(g.css("padding-left"))-parseFloat(g.css("padding-right")));this.$list.width(this.$control.width()+parseFloat(this.$control.css("padding-left"))+parseFloat(this.$control.css("padding-right")));this.flatbox=new Class.floatbox(this.$list,{position:"bl",event:"click",context:a(window),target:this.$control,effect:this.options.effect,duration:this.options.duration,easing:this.options.easing});return this},bindEvents:function(){var c=["click","mouseover","mouseenter","mouseleave","dbclick","change","focus","blur"];for(var b=0;b<c.length;b++){if(c[b]=="change"){}this.$control.bind()}},val:function(b){if(b!=null){this.$input.attr("data-val",b);this.$input.val(this.$list.children("ul").find('li[value="'+b+'"]').text());this.$.val(b);this.trigger(this.EVENT_CHANGE,b);return this}return this.$input.attr("data-val")},show:function(){this.flatbox.show();return},hide:function(){this.flatbox.hide();return}})})(jQuery);(function(a){a.fn.getRegion=function(d){var c=a(this).find("[data-options]");if(d){var b=a([]);c.each(function(){var e=a(this).parseOptions();if(e.region==d){b=b.add(a(this))}});return b}else{var b={};c.each(function(){var e=a(this).parseOptions();if(!b[e.region]){b[e.region]=a([])}b[e.region]=b[e.region].add(a(this))});return b}};a.fn.getRegionArray=function(){return a("[data-options]",a(this))};a.fn.parseOptions=function(){var d=a(this);var e=a.trim(d.attr("data-options"));if(e){var b=e.substring(0,1);var c=e.substring(e.length-1,1);if(b!="{"){e="{"+e}if(c!="}"){e=e+"}"}}else{e="{}"}return(new Function("return "+e))()};a.console=function(b){console&&console.log(b)}})(jQuery);(function(b){var a={isloadscript:true,jpulgins:["lazyload","marquee","textarea","toTop","trunk8","trunk8plus","stickyboxes"],cpulgins:["accordion","nav","tabs","validate","previewImage","drag","floatbox","combo","dialog"],init:function(c){var d=this;this.cpulgins.each(function(f,g){var e=c?b(c).find(".class-"+g):".class-"+g;b(e).each(function(){d.loadClass(this,g)})});this.jpulgins.each(function(f,g){var e=c?b(c).find(".jquery-"+g):".jquery-"+g;b(e).each(function(){d.loadjQuery(this,g)})})},load:function(c,d){b('<script type="text/javascript" src="'+c+'"><\/script>').appendTo("head").load(function(){d&&b.proxy(d,this)(c)});return this},loadClass:function(c,d){var e=b(c);if(e.length){if(!Class[d]){console&&console.log("place require class."+d+".js !")}else{window[e.attr("id")]=new Class[d](e,e.parseOptions())}}return this},loadjQuery:function(c,d){var e=b(c);if(e.length){if(!e[d]){console&&console.log("place require jquery."+d+".js !")}else{e[d](e.parseOptions(e))}}return this}};b(function(){a.init()})})(jQuery);