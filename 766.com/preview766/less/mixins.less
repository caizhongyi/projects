@charset "utf-8";
/*
以_开头为函数 例如:_fn(){}
以_make开头的为生成-后面的类
例如:_make-flags(){ ... }
生成:.flags{
  ...
}
*/

._background-linear(@start,@end){
/*background:url(../images/buttons/button_1.png) no-repeat;*/
  filter:"alpha(opacity=100,finishopacity=50,style=1,startx=0,starty=0,finishx=0,finishy=150) progid:DXImageTransform.Microsoft.gradient(startcolorstr=@{start},endcolorstr=@{end},gradientType=0)";
  -ms-filter:"alpha(opacity=100,finishopacity=50,style=1,startx=0,starty=0,finishx=0,finishy=150) progid:DXImageTransform.Microsoft.gradient(startcolorstr=@{start},endcolorstr=@{end},gradientType=0)";/*IE8*/
  background:@end; /* 一些不支持背景渐变的浏览器 */
  background:"-ms-linear-gradient(top, @{start}, @{end} 50%, turquoise)";
  background:"-moz-linear-gradient(top, @{start}, @{end})";
  background:"-webkit-gradient(linear,0 0,0 bottom,from(@{start}), to(@{end}))";
  background:"-o-linear-gradient(top, @{start}, @{end})";
}
/*
~超过的字以...显示
~firefox only
~.ellip:not(p) {clear: both;}
~.ellip:not(p) a {max-width: 300px;float: left;}
~.ellip:not(p):after {content: "..."; float: left;width: 25px;padding-left: 1px;}
*/
._ellipsis(@width){
  width: @width;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

._clearfix(){
  zoom:1;
  &:after{
    content:".";height:1%;display:block;height:0;line-height:0;font-size:0;visibility:hidden;clear:both; *display:none;
  }
}

._min-height(@height){
  _height: @height;
  _overflow:"visible";
  min-height:@height;
}

._inline-block(){
  display:inline-block;
  *display:inline;
  zoom:1;
  vertical-align: middle;
}

._opacity(@val : 0.8){
  filter : alpha(opacity=@val);
  opacity : @val;
}

._block-center(){
  margin-left:auto;
  margin-right:auto;
}

._middle(@height){
  height: @height;
  line-height: @height;
}

/* -----------------------  make object  --------------------------------- */

/*
三角箭头
@param {string} color 颜色
@param {string} [@dir = 'down'] 方向
@param {px} [zoom = 5px ] 大小
*/
._arrowhead(@color : '#ddd', @dir : 'down',@zoom : 5px){
  font-size: 0;
  height: 0;
  width: 0;
  vertical-align: middle;
  line-height: 0;
  .bulid(@dir) when (@dir = 'up'){
    border-bottom:~"@{zoom} solid @{color}";
    margin-bottom: @zoom / 2;
  }
  .bulid(@dir) when (@dir = 'down'){
    border-top:~"@{zoom} solid @{color}";
    margin-top: @zoom / 2;
  }
  .bulid(@dir) when (@dir = 'left'){
    border-right:~"@{zoom} solid @{color}";
    margin-left: @zoom / 2;
  }
  .bulid(@dir) when (@dir = 'right'){
    border-left:~"@{zoom} solid @{color}";
    margin-right: @zoom / 2;
  }
  .bulid(@dir);
}

/*
背景定位，纵向排列的button图片
4种状态
default,hover,active,disabled
@params {string} background #fffff | url('')
@params {string} border
@params {number} border-radius
@params {px} height
@params {string} active-border 是否有active背景
*/
._button(@background,@width:'0 15px',@height:20px,@border-radius:5,@border: "1px solid #ddd",@hover-border:"none",@active-border:"none"){
  border: @border;
  height: @height;
  line-height: @height;
  border-radius:@border-radius;
  background: ~"@{background} repeat-x";
  display: inline-block;
  cursor: pointer;
  vertical-align: middle;
  padding : 0 15px;
  &,&:active{
    text-decoration:none;
  }
  &:active{
    .active(@active-border);
  }
  &:hover{
    .active(@hover-border);
  }
  .active(@active-border){
    background-position: 0 -@height*2 ;
    border: @active-border;
  }
  .active(@active-border) when (@active-border = ''),(@active-border = 'none'){}

  .hover(@hover-border){
    background-position: 0 -@height*1 ;
    border: @hover-border;
  }
  .hover(@hover-border) when (@hover-border = ''),(@hover-border = 'none'){}
}
._make-button(@name,@background,@width:'0 15px',@height:20px,@border-radius:5,@border:"1px solid #ddd",@hover-border:"none",@active-border:"none"){
  (~".@{name}"){
    ._button(@background,@width,@height,@border-radius,@border,@hover-border,@active-border);
  }
  (~".@{name}-disabled"){
    background-position: 0 (-@height*3) ;
  }
}
/*
hover效果 | 只有背景的两种状态
@params {string} background #fffff | url('')
@params {px} height
*/
._hover(@background,@height){
  background: @background 'repeat-x';
  &:hover{
    background-position: 0 (-@height) ;
  }
}
/*
图标
@params {string} background #fffff | url('')
@params {px} width
@params {px} height
@params {string} [dir = 'left' | dir ='right' | dir = 'none']
*/
._icon(@background,@width:15px,@height:15px,@dir:'left'){
  background: ~"@{background} no-repeat";
  vertical-align: middle;
  display: inline-block;
  .dir(@dir) when (@dir = 'left'){
    padding-left: @width + 5px;
  }
  .dir(@dir) when (@dir = 'right'){
    padding-right: @width + 5px;
  }
  .dir(@dir) when (@dir = 'none'),(@dir = ''){
    @width: @width;
  }
}
/*
一组图标
@params {string} 图标名称
@params {string} background #fffff | url('')
@params {px} width
@params {px} height
@params {number} row
@params {number} col
*/
._make-icon(@name,@background,@width:15px,@height:15px,@row:1,@col:5){
  @len : @row * @col;
  .icon(@num) when (@num < @len){
    (~".@{name}-@{num}"){
      ._icon(@background,@width,@height,'none');
    }
  @n : @num + 1;
    .icon(@n);
  }
  .icon(0);
}

/*
选择效果，适用于li,a等标签组。
@params {string} background #fffff | url('')
@params {px} height
@params {string} border
@params {string} selected-border
*/
._selected(@background,@height: 25px,@border:'1px solid #ddd',@selected-border:'none'){
  background : ~"@{background} repeat-x";
  padding:0 15px;
  line-height:  @height;
  height : @height;
  &.selected{
    background-position: 0 (-@height*1) ;
  }
}

/*
翻页
@params {string} background #fffff | url('')
@params {px} width
@params {px} height
@params {string} border
@params {string} disabled-border
*/
._page(@background,@width:15px,@height: 15px,@border:'',@disabled-border:'none'){
  a{
    background : ~"@{background} no-repeat";
    ._button(@background,@border,5,@height,"");
    width: @width;
    text-align: center;
    padding: 0;
  }
  a.next{
    background-position: 0 0;
  }
  a.next-disabled{
    background-position: 0 -@height;
    .disabled(@disabled-border);
  }
  a.prev{
    background-position: -@width 0;
  }
  a.prev-disabled{
    background-position: -@width -@height;
    .disabled(@disabled-border);
  }
  .disabled(@disabled-border) when (@disabled-border = 'none'),(@disabled-border = ''){}
  .disabled(@disabled-border){
    border:@disabled-border;
  }
}

/**
创建星星标识
@param width 单一宽度
@param height 单一高度
@param  url 背景图片地址
@param count 最大个数
*/
._make-flags(@url : '',@width : 15px ,@height : 15px ,@count : 5 ,@display:'inline-block'){
  .flag-item(@n) when (@n < @count){
    (~"i.count-@{n}"){
      width: @width * @n ;
    }
  //@m :`this.n + 1`;
    @m : @n + 1;
    .flag-item(@m);
  }

  .flags{
    display : @display;
    width: @width * @count;
    &,i{
      background:url("@{url}") no-repeat;
      height :@height;
    }
    i{
      background-position: 0 -@height;
    }
    .flag-item(0);
  }

}

/**
创建星星标识
@param width 图片宽度
@param height 图片高度
*/
._make-images(@width : 100px ,@height : 100px ){
  .images{
    .clearfix();
    .image,li{
      position: relative;
      &,li{
        width: @width;
      }
      &:hover{
        .summary{
          ._opacity(0.5);
          display: block;
        }
      }
      img{
        width: @width;
        height:@height;
      }
      .summary{
        transition: opacity 0.2s linear 0;
        position: absolute;
        left: 0;
        bottom: 0;
        background: #000;
        .opacity(0);
        height: @height / 4;
        line-height: @height / 4;
        display:block;
        ._ellipsis(@width);
        text-align: center;
        display:none;
        &,a{
          color:#fff;
        }
      }
    }
    li{
      float: left;
      margin:0 5px;
    }
  }
}

/* dialog */
._make-dialog(@width : 500px , @z-index : 10){
  .dialog {
    position: fixed;
    width: @width;
    padding: 5px;
    z-index: @z-index ;
    display: none;
    .content{
      position: relative;
      z-index: 1;
      background:#fff;
    }
    .bg{
      height:100%;
      ._opacity(0.5);
      width: 100%;
      position: absolute;
      _display:none;
      margin: -5px;
      box-shadow: 1px 1px 5px #000;
      background:#ddd;
    }
    .bg,.content{
      border: 1px solid #ddd;
      border-radius:5px;
    }
    .hd{
      padding: 10px;
      border-bottom: 1px solid #ddd;
      h3,.title{
        float: left;
        height: 100%;
      }
    }
    .hd,.bd,.ft{
      padding: 10px;
      .clearfix;
    }
    .ft{
      text-align: right;
      .button {
        margin-right: 10px;
      }
    }
  }

/* alert extend dialog */
  .alert-dialog{
    .dialog;
    .bd{
      text-align: center;
      .icon{
        margin-right: 10px;
      }
      .icon,.msg{
        ._inline-block();
      }
      .ft{
        text-align: center;
      }
    }
  }
  .dialog-overlay{
    z-index: @z-index - 1;
    position: fixed;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    ._opacity(0.8);
    background: #fff;
  }
}
/* topbar */
._make-topbar(@height:40px){
  .topbar{
    position: relative;
    height: @height;
    color: #fff;
    .bg{
      background: #000;
      ._opacity(0.5);
      height: 100%;
    }
    .left,.right{
      position: absolute;
      top:10px;
      float: none;
    }
    .left{left:10px;}
    .right{ right: 10px;}
  }
}

/* ----------------------- end  make object  --------------------------------- */