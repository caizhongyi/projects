<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>系统首页</title>

    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

  </head>

  <body>


  <table id="dg" toolbar="#tb"  pagination="true" sortName="id" sortOrder="desc" title="广告" fitColumns="true" class="datagrid">
      <thead>
      <tr>
          <th data-options="field:'ck',checkbox:true">删除</th>
          <th field="id" width="80">Item ID</th>
          <th field="name" width="100">Product ID</th>
          <th field="code" align="right" width="80">List Price</th>
          <!--<th field="addr" align="right" width="80">Unit Cost</th>-->
          <th field="addr" data-options="formatter:update" align="right" width="80">Unit Cost</th>
      </tr>
      </thead>
  </table>
  <a href="javascript:void(0);" class="easyui-linkbutton" >提交</a>
  <div id="tb" style="padding:5px; height:auto; display: none">
      <!--<a href="javascript:void(0);" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="User.showWindow();">添加</a>-->
      广告分类 -广告位置：<select class="easyui-combobox" name="" id=""></select> - <select class="easyui-combobox" name="" id=""></select>
      投放厂商：<select class="easyui-combobox" name="" id=""></select>
      投放时间：<input class="easyui-datebox easyui-validatebox" data-options="required:true,validType:'date'" name="" id=""/> - <input class="easyui-datebox easyui-validatebox" data-options="required:true,validType:'date'" name="" id=""/>
      广告ID：<input type="text"  class="">
      <a href="javascript:void(0);" class="easyui-linkbutton" iconCls="icon-search" plain="true" onclick="User.query();">查询</a>
  </div>

<!--  <div id="display-div" style="display: none">
      <div id="user-window" class="easyui-dialog" title="添加用户" style="padding:10px 20px;width:500px;" buttons="#user-buttons"
           iconCls="icon-add" modal="true" closed="true">

      </div>

      <div id="user-buttons">
          <a href="javascript:void(0);" class="easyui-linkbutton" iconCls="icon-ok" onclick="User.add();">确定</a>
          <a href="javascript:void(0);" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#user-window').dialog('close');">取消</a>
      </div>
  </div>-->


  <script type="text/javascript" src="common/easyui/datagrid-detailview.js"></script>
  <script type="text/javascript">

      $(function(){
          $('#dg').datagrid({
              url:'data/grid.json',
              view: detailview,
              singleSelect : 0,
              detailFormatter:function(index,row){
                  return '<div id="ddv-' + index + '" style="padding:5px 0"></div>';
              },

              onExpandRow: function(index,row){
                  $('#ddv-'+index).panel({
                      height:80,
                      border:false,
                      cache:false,
                      href:'datagrid21_getdetail.php?itemid='+row.itemid,
                      onLoad:function(){
                          $('#dg').datagrid('fixDetailRowHeight',index);
                      }
                  });
                  $('#dg').datagrid('fixDetailRowHeight',index);
              }
          });
      });

      var User = {
          showWindow: function() {
              $('#user-window').dialog('open');
          },

          add: function() {
              $.ajax({
                  url: 'action/add.jsp',
                  type: 'get',
                  success: function(data) {
                      $.messager.alert('操作提示', "添加成功", 'info');

                      $('#user-window').dialog('close');
                      $('#user-geid').datagrid("reload");
                      $.messager.alert('错误提示', "添加失败", 'error', function() {
                          alert("点击了失败后的按钮");
                      });
                  }
              });

              /*$('#user-form').form('submit', {
               url: 'action/add.jsp',
               onSubmit : function() {
               return $(this).form('validate');
               },
               success : function(data) {
               alert(data);
               }
               });*/
          },

          query: function() {
              $('#user-geid').datagrid("reload", {id: 1, name: "aaa"});
          }
      };

      function show(title, url) {
          $('.window').remove();
          $('.window-mask').remove();
          $('.window-shadow').remove();

          $('#main').panel({
              href : url,
              fit : true,
              title : title,
              onBeforeOpen: function() {
                  //$("#main").css("background-color", "#666").css("opacity", "0.3").show();
              },
              onLoad: function() {
                  //$("#main").css("opacity", "1").show();
              }
          });

          $('#main').panel('refresh');
      }
    function update(value,row){
                return '<a href="javascript:void(0)" onclick="show(\'xx\',baseurl+\'html/1.html\');">修改</a>';
    }

  </script>
  </body>
</html>
