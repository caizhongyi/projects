(function(a){a.isjQuery=function(b){if(b instanceof jQuery){return true}else{return false}};a.isObject=function(b){if(b instanceof Object){return true}else{return false}};a.ie6=function(){if(a.browser.msie&&(a.browser.version=="6.0")&&!a.support.style){return true}else{return false}};a.sum=function(){var c=0;for(var b=0;b<this.sum.arguments.length;b++){c+=sum.arguments[b]}return c};a.favorite=function(b,d){try{window.external.addFavorite(b,d)}catch(c){try{window.sidebar.addPanel(d,b,"")}catch(c){alert("加入收藏失败，请使用Ctrl+D进行添加")}}};a.mousePoint=function(d){var c=a.browser.msie?d.offsetX:d.layerX;var b=a.browser.msie?d.offsetY:d.layerY;return{left:c,top:b}};a.setHome=function(d,f){try{d.style.behavior="url(#default#homepage)";d.setHomePage(f)}catch(c){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(c){alert("此操作被浏览器拒绝！\n请在浏览器地址栏输入“about:config”并回车\n然后将 [signed.applets.codebase_principal_support]的值设置为'true',双击即可。")}var b=Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch);b.setCharPref("browser.startup.homepage",f)}}};a.getEvent=function(b,c){return{name:b,fn:c}};a.doEvent=function(c,f,e,b){for(var d in f){if(f[d].name==c){f[d].fn(e,b)}}};a.ellipses=function(b){var d={len:10,hasTitle:true,string:""};var b=a.extend(d,b);var c=b.string;if(c!=null){if(c.length>b.len){c=c.substring(0,b.len)+"..."}}return c};a.wsLoad=function(b,f,d,c,e){c=c||"post";d=d||"";a.ajax({type:c,contentType:"application/json;utf-8",url:b+"/"+f,data:d,dataType:"json",success:function(g){var h=null;try{if(g){if(e){e(g)}}}catch(i){alert("错误>>"+i.message);return}},error:function(g){alert(g.status+">>> "+g.statusText)}})};a.toJSONString=function(f){switch(typeof(f)){case"object":var d=[];if(f instanceof Array){for(var e=0,b=f.length;e<b;e++){d.push(a.toJSONString(f[e]))}return"["+d.join(",")+"]"}else{if(f instanceof RegExp){return f.toString()}else{for(var c in f){d.push(c+":"+a.toJSONString(f[c]))}return"{"+d.join(",")+"}"}}case"function":return"function() {}";case"number":return f.toString();case"string":return'"'+f.replace(/(\\|\")/g,"\\$1").replace(/\n|\r|\t/g,function(g){return("\n"==g)?"\\n":("\r"==g)?"\\r":("\t"==g)?"\\t":""})+'"';case"boolean":return f.toString();default:return f.toString()}}})(jQuery);(function(a){a.fn.wsLoad=function(b,f,d,e){var c=a(this);a.wsLoad(b,f,d,function(g){if(!a.isObject(g)){c.append(g)}if(e){e(g)}})};a.fn.hasJQueryLink=function(b){var d=a(this);var c=d.find("script");a.each(c,function(e,f){if(a(f).attr("src").indexOf(b)==-1){return false}else{return true}})};a.fn.ellipses=function(b){var e=a(this);var d={len:10,hasTitle:true};var b=a.extend(d,b);var c=e.html();if(b.hasTitle){e.attr("title",c)}if(c!=null){if(c.length>b.len){c=c.substring(0,b.len)+"..."}}e.html(c)};a.fn.point=function(f,e){var d=a(this);if(!f&&!e){return{left:d.css("left"),top:d.css("top")}}else{var b=f?f:d.css("left");var c=e?e:d.css("top");d.css({left:b,top:c});return this}};a.fn.size=function(e,b){var f=a(this);if(!e&&!b){return{width:f.width(),height:f.height()}}else{var c=e?e:f.width();var d=b?b:f.height();f.width(c).height(d);return this}};a.fn.center=function(b){var g=this,f=a(this),e={animate:false,ainmateSpeed:"fast",type:"absolute",callback:function(){}};var b=a.extend(e,b);var d=(a(window).width()-a(this).outerWidth())/2+a(window).scrollLeft();var c=(a(window).height()-a(this).outerHeight())/2+a(window).scrollTop();switch(b.type){case"margin":if(b.animate){f.animate({"margin-top":c,"margin-left":d},b.ainmateSpeed,b.callback)}else{f.css({"margin-top":c,"margin-left":d});if(b.callback){b.callback()}}break;case"absolute":if(b.animate){f.animate({top:c,left:d},b.ainmateSpeed,b.callback)}else{f.css({top:c,left:d});if(b.callback){b.callback()}}break}return this};a.fn.docSize=function(){var b={width:0,height:0};var d=this;var c=a(this);switch(d.docSize.arguments.length){case 0:if(document.compatMode=="BackCompat"){b.width=document.body.scrollWidth;b.height=document.body.scrollHeight}else{b.width=document.documentElement.scrollWidth;b.height=document.documentElement.scrollHeight}return b;case 1:b=d.docSize.arguments[0];if(document.compatMode=="BackCompat"){document.body.scrollWidth=b.width;document.body.scrollHeight=b.height}else{document.documentElement.scrollWidth=b.width;document.documentElement.scrollHeight=b.height}return this}}})(jQuery);jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+m.path:"";var g=m.domain?"; domain="+m.domain:"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};(function(a){a.fn.background=function(b){var h=this,g=a(this),f={status:"hide",maxOpacity:0.5,color:"black",animateSpeed:"slow",animateEasing:"easeOutExpo",css:"dialog-background",width:"auto",height:"auto"};this.config=a.extend(f,b);this.lock=false;this.size={};var d=a("<iframe/>");var c=function(){var i=a(document).docSize().width;var j=a(document).docSize().height;i=h.config.width!="auto"?h.config.width:i;j=h.config.height!="auto"?h.config.height:j;g.size(i,j);return g.size()};h.size=c();var e=function(){d.css({width:"100%",height:"100%",opacity:0});if(g.css("z-index")){d.css("z-index",g.css("z-index"))}g.parent().append(d);g.css({position:"absolute",display:"none",opacity:0,background:h.config.color,left:0,top:0}).addClass(h.config.css);if(h.config.status=="show"){g.css({display:"block",opacity:h.config.maxOpacity})}a(window).bind("resize",function(){h.size=c()})};this.zIndex=function(i){if(index){return g.css("z-index")}else{g.css("z-index",i);d.css("z-index",i-1);return h}};this.show=function(){h.size=c();if(!h.lock){if(!(a.ie6())){g.show();h.config.status="running";g.stop();g.animate({opacity:h.config.maxOpacity},h.config.animateSpeed,h.config.animateEasing,function(){h.config.status="show"})}}return h};this.hide=function(){if(!h.lock){h.config.status="running";g.stop();g.animate({opacity:0},h.config.animateSpeed,h.config.animateEasing,function(){a(this).hide();h.config.status="hide"})}return h};e();return this}})(jQuery);(function(a){a.fn.easyBox=function(b){var j=this;var g=a(this);var f={status:"hide",property:"width,height,opacity,display,left,top",startValue:{},endValue:{},animateSpeed:"slow",animateEasing:"easeOutExpo"};var b=a.extend(f,b);this.status=b.status;this.propertys=b.property.split(",");for(var c in b.startValue){g.css(c,b.startValue[c])}for(var c in j.propertys){j[j.propertys[c]]=g.css(j.propertys[c])}var d=[];this.beginShow=function(i){d.push(a.getEvent("beginShow",i));return j};this.beginHide=function(i){d.push(a.getEvent("beginHide",i));return j};this.endShow=function(i){d.push(a.getEvent("endShow",i));return j};this.endHide=function(i){d.push(a.getEvent("endHide",i));return j};var h=function(){if(a.inArray("visibility",j.propertys)!=-1){g.css("visibility","hidden")}if(a.inArray("display",j.propertys)!=-1){g.css("display","none")}if(a.inArray("background-color",j.propertys)!=-1){g.css("background-color","transparent")}if(a.inArray("border-color",j.propertys)!=-1){g.css("background-color","transparent")}};var e=function(){if(j.status=="hide"){var l={};for(var k in j.propertys){l[j.propertys[k]]=b.endValue[j.propertys[k]]==null?0:b.endValue[j.propertys[k]]}g.css(l);h()}};this.show=function(){if(a.inArray("visibility",j.propertys)!=-1){g.css("visibility","visible")}if(a.inArray("display",j.propertys)!=-1){g.css("display","block")}a.doEvent("beginShow",d,{el:g,o:j},{});g.stop();var l={};for(var k=0;k<j.propertys.length;k++){if(j.propertys[k]!="visibility"&&j.propertys[k]!="display"){l[j.propertys[k]]=j[j.propertys[k]]=="auto"?0:j[j.propertys[k]]}}g.animate(l,b.animateSpeed,b.animateEasing,function(){a.doEvent("endShow",d,{el:g,o:j},{})});j.status="show"};this.hide=function(){a.doEvent("beginHide",d,{el:g,o:j},{});g.stop();var m={};for(var k in j.propertys){if(j.propertys[k]!="visibility"&&j.propertys[k]!="display"){var l=0;switch(j.propertys[k]){case"background-color":l="transparent";break;case"border-color":l="transparent";break;default:l=0;break}m[j.propertys[k]]=b.endValue[j.propertys[k]]==null?l:b.endValue[j.propertys[k]]}}g.animate(m,b.animateSpeed,b.animateEasing,function(){a.doEvent("endHide",d,{el:g,o:j},{});h()});j.status="hide"};this.toggle=function(){if(j.status=="show"){j.hide()}else{j.show()}};e();return this};a.fn.easyBoxs=function(b){_this=this;$this=a(this);var c={status:"hide",property:"width,height,opacity,visibility,left,top",startValue:{},endValue:{},animateSpeed:"slow",animateEasing:"easeOutExpo"};var b=a.extend(c,b);this.easyBoxs=[];a.each($this,function(d,e){_this.easyBoxs.push(a(e).easyBox(b))});return _this}})(jQuery);(function(a){a.fn.hoverEffect=function(n){var e=this,j=a(this);var l={font:"auto",width:"auto",height:"auto",color:"auto",background:"auto",animateSpeed:"slow",animateEasing:"easeOutElastic"};var n=a.extend(l,n);var c=j.css("font-size");var m=j.size();var d=j.css("color");var b=j.css("background-color");var i=j.css("margin-left");var g=j.css("margin-right");var f=i-(n.width-m.width)/2;var k=g-(n.height-m.height)/2;n.background=n.background=="auto"?b:n.background;n.color=n.color=="auto"?d:n.color;var h=function(){a.each(j,function(o,p){a(p).hover(function(){a(p).stop();a(p).animate({"font-size":n.font,width:n.width,height:n.height,background:n.background,color:n.color},n.animateSpeed,n.animateEasing)},function(){a(p).stop();a(p).animate({"font-size":c,width:m.width,height:m.height,background:b,color:d},n.animateSpeed,n.animateEasing)})})};h();return this};a.fn.hoverEffect.Info={name:"CZYA",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(b){var a=function(e,i){var j=this;var h=i;var c={height:"auto",width:"auto",status:"hide",trunRound:false,event:"hover",type:"normal",animateSpeed:"slow",animateEasing:"easeOutElastic",eTag:".accor-tag",eInner:".accor-inner",minHeight:0};var e=b.extend(c,e);this.el=h;this.status=e.status;this.inner=h.find(e.eInner);this.tag=h.find(e.eTag);var f=[];this.beginShow=function(k){f.push(b.getEvent("beginShow",k));return j};this.beginHide=function(k){f.push(b.getEvent("beginHide",k));return j};this.endShow=function(k){f.push(b.getEvent("endShow",k));return j};this.endHide=function(k){f.push(b.getEvent("endHide",k));return j};var d=0;var g=function(){if(e.type=="select"){j.inner.css({position:"absolute",left:0,top:j.tag.height()});if(e.width!="auto"){j.inner.css({width:e.width})}h.css("position","relative");e.trunRound=true}d=e.height=="auto"?j.inner.height():e.height;if(j.status=="hide"){j.inner.height(e.minHeight)}if(e.event=="hover"){j.tag.hover(function(){j.show()},function(){j.hide()})}else{j.tag.click(function(){j.toggle()})}if(e.trunRound){h.hover(function(){},function(){j.hide()})}};this.show=function(){b.doEvent("beginShow",f,{el:h,o:j},{});j.inner.show();j.inner.stop();j.inner.animate({height:d},e.animateSpeed,e.animateEasing,function(){j.status="show";b.doEvent("endShow",f,{el:h,o:j},{})});return j};this.hide=function(){b.doEvent("beginHide",f,{el:h,o:j},{});j.inner.stop();j.inner.animate({height:e.minHeight},e.animateSpeed,e.animateEasing,function(){j.status="hide";b.doEvent("endHide",f,{el:h,o:j},{})});return j};this.toggle=function(){if(j.status=="show"){j.hide()}else{if(j.status=="hide"){j.show()}}return j};g();return this};b.fn.accordion=function(d){var f=this;var e=b(this);var c={height:"auto",width:"auto",status:"hide",trunRound:false,event:"hover",type:"normal",animateSpeed:"slow",animateEasing:"easeOutElastic",eTag:".accor-tag",eInner:".accor-inner",minHeight:0};var d=b.extend(c,d);this.items=[];if(e.length>1){b.each(e,function(g,j){var h=new a(d,e);f.items.push(h)})}else{f=new a(d,e)}return f};b.fn.accordions=function(e){var j=this;var i=b(this);var c={autoShow:false,index:-1,backIndex:-1,autoHeight:true,allHide:false,showOne:true,eItem:".accor-item",minHeight:0};var e=b.extend(c,e);var g=i.find(e.eItem);this.items=[];this.index=e.index;this.backIndex=e.backIndex;var d=0;var f=[];var h=function(){e.type="normal";b.each(g,function(k,l){if(!e.autoHeight){if(k<g.length-1){d=b(g[k+1]).height()>b(g[k]).height()?b(g[k+1]).height():b(g[k]).height()}}else{d="auto"}});e.height=d;e.status="hide";b.each(g,function(k,m){var l=b(g[k]).accordion(e);l.index=k;if(e.event=="hover"){l.tag.unbind("mouseover");l.tag.unbind("mouseout");l.tag.bind("mouseover",function(){j.toggle(k)})}else{l.tag.unbind("click");l.tag.bind("click",function(){j.toggle(k)})}j.items.push(l)});if(e.autoOpen){b.each(j.items,function(k,l){if(k==j.index){j.show(k)}})}};this.show=function(k){var l=function(){j.index=k;j.items[k].show();if(e.showOne){if(j.items[j.backIndex]!=null){j.items[j.backIndex].hide()}}j.backIndex=j.index};if(j.items[j.backIndex]!="running"){if(j.backIndex!=k){l()}}return j};this.hide=function(k){if(j.items[k]!="running"){if(e.allHide){j.items[k].hide();j.backIndex=-1;j.index=-1}else{if(j.backIndex!=k){j.items[k].hide()}}}return j};this.toggle=function(k){if(j.items[k].status=="show"){j.hide(k)}else{if(j.items[k].status=="hide"){j.show(k)}}return j};h();return this};b.fn.select=function(d){var h=this;var g=b(this);var c={};var d=b.extend(c,d);this.selectIndex=-1;this.items=[];var e=[];this.selected=function(i){e.push(b.getEvent("selected",i));return h};var f=function(){d.type="select";b.each(g,function(k,m){var j=b(m).accordion(d);var l=j.inner.children();b.each(l,function(n,i){b(i).click(function(){if(h.selected){h.selectIndex=k;b.doEvent("selected",e,b(i),{index:k})}j.hide()})});h.items.push(j)})};f();return this};b.fn.accordion.info={name:"accordiion",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function($){$.fn.dataPager=function(options){var _this=this;var $this=$(this);var _options={count:4,recordCount:100,pageSize:10,currentPage:0,pageCount:0,fillTo:null,method:"get",url:"",params:"",fun:"",callback:function(){},cssCurrent:"current",cssNormal:"normal",cssPrev:"prev",cssNext:"next",cssDisable:"disable",langPrev:"上一页",langNext:"下一页"};var options=$.extend(_options,options);this.pageParams={pageSize:options.pageSize,recordCount:options.recordCount,pageCount:options.pageCount,currentPage:options.currentPage};var event=[];this.el=$this;this.changeIndex=function(fn){event.push($.getEvent("changeIndex",fn));return _this};var getPageCount=function(){_this.pageParams.pageCount=_this.pageParams.recordCount%_this.pageParams.pageSize>0?parseInt((_this.pageParams.recordCount/_this.pageParams.pageSize)+1):_this.pageParams.recordCount/_this.pageParams.pageSize};var addPage=function(count){_this.pageParams.currentPage=parseInt(_this.pageParams.currentPage);if(_this.pageParams.currentPage>=0&&_this.pageParams.currentPage<_this.pageParams.pageCount){_this.pageParams.currentPage+=count;_this.pageParams.currentPage=_this.pageParams.currentPage<0?0:_this.pageParams.currentPage;_this.pageParams.currentPage=_this.pageParams.currentPage>=_this.pageParams.pageCount?_this.pageParams.pageCount-1:_this.pageParams.currentPage}};var getDataCallBack=function(data){var json=options.fun==""?eval("("+data+")"):data.d;_this.pageParams.pageSize=json.pager.pageSize;_this.pageParams.recordCount=json.pager.recordCount;if(json.pager.currentPage!=null){_this.pageParams.currentPage=json.pager.currentPage}if(options.callback){options.callback(json)}$.doEvent("changeIndex",event,{el:$this,o:_this},_this.pageParams);_init()};var getData=function(){if(options.url!=""){var param;if(options.fun==""){param=options.params==""?"currentPage="+_this.pageParams.currentPage:options.params+"&currentPage="+_this.pageParams.currentPage}else{param=options.params;param.currentPage=_this.pageParams.currentPage}if(options.method=="post"){if(options.fun==""){$.post(options.url,param,function(data){getDataCallBack(data)})}else{$.wsLoad(options.url,options.fun,param,"post",function(data){getDataCallBack(data)})}}else{if(options.fun==""){$.get(options.url,param,function(data){getDataCallBack(data)})}else{$.wsLoad(options.url,options.fun,param,"get",function(data){getDataCallBack(data)})}}}else{_init();$.doEvent("changeIndex",event,_this,_this.pageParams)}};var numberButton=function(number,css){var self=this;this.element=$("<a/>");if(_this.pageParams.currentPage==number-1){self.element.html(number).addClass(options.cssCurrent)}else{self.element.html(number).addClass(options.cssNormal)}self.element.click(function(){_this.pageParams.currentPage=number-1;getData()});return this};var moreButton=function(){var self=this;this.element=$("<span/>").html("...");return this};var firstButton=function(){var self=this;this.element=$("<a/>").html(1).addClass(options.cssNormal).attr("href","javascript:;");self.element.click(function(){_this.pageParams.currentPage=0;getData()});return this};var lastButton=function(){var self=this;this.element=$("<a/>").html(_this.pageParams.pageCount).addClass(options.cssNormal).attr("href","javascript:;");self.element.click(function(){_this.pageParams.currentPage=_this.pageParams.pageCount-1;getData()});return this};var pageDownButton=function(count,text,css){var self=this;this.element=$("<a/>");if(_this.pageParams.currentPage>=_this.pageParams.pageCount-1){self.element.addClass(options.cssDisable)}else{self.element.addClass(options.cssPrev).attr("href","javascript:;")}self.element.html(text);self.element.click(function(){addPage(count);getData()});return this};var pageUpButton=function(count,text,css){var self=this;this.element=$("<a/>");if(_this.pageParams.currentPage<=0){self.element.addClass(options.cssDisable)}else{self.element.addClass(options.cssNext).attr("href","javascript:;")}self.element.html(text);self.element.click(function(){addPage(count);getData()});return this};var getStartNumber=function(){var start=0;if(_this.pageParams.currentPage<options.count){start=0}else{if(_this.pageParams.currentPage>_this.pageParams.pageCount-options.count*2+1){start=_this.pageParams.pageCount-options.count*2}else{start=_this.pageParams.currentPage-options.count}}return start};var getEndNumber=function(){var end=_this.pageParams.pageCount-1;if(_this.pageParams.currentPage<options.count&&options.count*2+1<_this.pageParams.pageCount){end=options.count*2+1}else{if(_this.pageParams.currentPage>_this.pageParams.pageCount-options.count*2+1){end=_this.pageParams.pageCount}else{end=_this.pageParams.currentPage+options.count+1}}return end};var getMidNumber=function(){return parseInt(options.count/2)+1};var create=function(){$this.empty();getPageCount();setCurrentPage(_this.pageParams.currentPage);var mNumber=getMidNumber();var start=getStartNumber();var end=getEndNumber();$this.append(new pageUpButton(-1,options.langPrev,options).element);if(start>0){$this.append(new firstButton().element);$this.append(new moreButton().element)}for(var i=start;i<end;i++){$this.append(new numberButton(i+1,options).element)}if(_this.pageParams.pageCount-end>0){$this.append(new moreButton().element);$this.append(new lastButton().element)}$this.append(new pageDownButton(1,options.langNext,options).element)};var _init=function(){create()};var setCurrentPage=function(currentPage){if(currentPage<0){currentPage=0}if(currentPage>=_this.pageParams.pageCount){currentPage=_this.pageParams.pageCount-1}_this.pageParams.currentPage=currentPage;return currentPage};this.currentPage=function(){switch(_this.currentPage.arguments.length){case 0:return _this.pageParams.currentPage;case 1:setCurrentPage(_this.currentPage.arguments[0]||0);create();return _this}};getData();return this};$.fn.dataPager.Info={name:"dataPager",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.dialog=function(k){var g=this,i=a(this);var j={status:"hide",animateType:"fade",animateSpeed:"slow",animateEasing:"easeOutExpo",resize:false,eDialogBar:".dialog-header",eDialogShow:".dialog-show",eDialogHide:".dialog-hide",eDialogFull:".dialog-full",eDialogNormal:".dialog-normal",eDialogNext:".dialog-next"};var k=a.extend(j,k);this.el=i;this.status="hide";this.minSize={width:i.width(),height:i.height()};this.maxSize={width:a(window).width()-100,height:a(window).height()-100};this.point=null;this.resizeStatus="normal";this.resize=k.resize;var c=[];this.beginShow=function(m){c.push(a.getEvent("beginShow",m));return g};this.beginHide=function(m){c.push(a.getEvent("beginHide",m));return g};this.beginFull=function(m){c.push(a.getEvent("beginFull",m));return g};this.endFull=function(m){c.push(a.getEvent("endFull",m));return g};this.beginNormal=function(m){c.push(a.getEvent("beginNormal",m));return g};this.endNormal=function(m){c.push(a.getEvent("endNormal",m));return g};this.endShow=function(m){c.push(a.getEvent("endShow",m));return g};this.endHide=function(m){c.push(a.getEvent("endHide",m));return g};var e=function(){var n=(a(window).width()-g.minSize.width)/2+a(window).scrollLeft();var m=(a(window).height()-g.minSize.height)/2+a(window).scrollTop();g.point={left:n,top:m}};var d=function(){if(a.dialog.background==null){var m=a("<div/>").appendTo(a("body"));a.dialog.background=a(m).background()}return a.dialog.background};var l=function(){i.css({position:"absolute",display:"none","z-index":999}).center();i.draggable({handle:i.find(k.eDialogBar),containment:"document",scroll:false,opacity:0.8,cursor:"move"})};var b=function(){i.stop();i.center({animate:true,callback:function(){e()}});if(g.point==null){e()}};var f=function(){var p=i.find(k.eDialogHide).css({cursor:"pointer"});var q=i.find(k.eDialogNext).css({cursor:"pointer"});var o=i.find(k.eDialogFull).css({cursor:"pointer"});var m=i.find(k.eDialogNormal).css({cursor:"pointer"});var n=i.find(k.eDialogBar);p.bind("click",function(){g.hide()});o.bind("click",function(){g.full()});m.bind("click",function(){g.normal()});q.bind("click",function(){a.dialog.background.lock=true;g.hide();a.dialog.background.lock=false})};var h=function(){new d();l();f();a(window).bind("resize",function(){b()});a(window).scroll(function(){b()});if(g.status=="show"){g.show()}else{i.hide()}if(g.resize){i.resizable({maxHeight:g.maxSize.height,maxWidth:g.maxSize.width,minHeight:g.minSize.height,minWidth:g.minSize.width})}i.blur(function(){i.css("z-index",1000)});i.focus(function(){i.css("z-index",999)})};this.show=function(){a.dialog.background.show();b();i.show();g.status="running";i.stop();a.doEvent("beginShow",c,{el:i,o:g},{});i.animate({opacity:1},k.animateSpeed,k.animateEasing,function(){k.status="show";a.doEvent("endShow",c,{el:i,o:g},{})});return g};this.next=function(m){a.dialog.background.lock=true;g.hide();m.show();a.dialog.background.lock=false;return g};this.hide=function(){a.dialog.background.hide();k.status="running";a.doEvent("beginHide",c,{el:i,o:g},{});if(jQuery.support.opacity){i.stop();switch(k.animateType){case"fade":i.animate({opacity:0},k.animateSpeed,k.animateEasing,function(){if(a(this)[0]!=null){a(this).hide()}a.doEvent("endHide",c,{el:i,o:g},{});g.status="hide"});break;case"puff":i.effect("puff",{},500,function(){g.status="hide";a.doEvent("endHide",c,{el:i,o:g},{})});break}}else{i.hide();g.status="hide";a.doEvent("endHide",c,{el:i,o:g},{})}return g};this.remove=function(){document.body.removeChild(i[0])};this.full=function(n){var m={width:a(window).width()-100,height:a(window).height()-100};var n=a.extend(m,n);var p=g.point.left-(n.width-g.minSize.width)/2;var o=g.point.top-(n.height-g.minSize.height)/2;a.doEvent("beginFull",c,{el:i,o:g},{point:g.point,size:g.minSize});i.animate({left:p,top:o,width:n.width,height:n.height},k.animateSpeed,k.animateEasing,function(){g.resizeStatus="max";a.doEvent("endFull",c,{el:i,o:g},{point:{left:p,top:o},size:g.maxSize})});return g};this.normal=function(){var n=g.point.left;var m=g.point.top;a.doEvent("beginNormal",c,{el:i,o:g},{point:{left:n,top:m},size:g.minSize});i.animate({left:n,top:m,width:g.minSize.width,height:g.minSize.height},k.animateSpeed,k.animateEasing,function(){g.resizeStatus="normal";a.doEvent("endNormal",c,{el:i,o:g},{point:{left:n,top:m},size:g.minSize})});return g};this.min=function(m){var p=a.docSize();var o=p.width-i.width();var n=p.height-m;a.doEvent("beginMin",c,{el:i,o:g},{point:{left:o,top:n},size:g.minSize});i.animate({left:o,top:n,width:g.minSize.width,height:g.minSize.height},k.animateSpeed,k.animateEasing,function(){g.resizeStatus="min";a.doEvent("endMin",c,{el:i,o:g},{point:{left:o,top:n},size:g.minSize})});return g};h();return this};a.fn.dialog.Info={name:"dialog",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"};a.dialog={background:null};a.fn.dialogs=function(b){var e=this,d=a(this);this.dialogs=[];this.index=0;this.backIndex=0;this.autoShow=false;var c=function(){for(var f=0;f<d.length;f++){e.dialogs.push(a(d[f]).dialog(b))}if(e.autoShow){e.dialogs[e.index].show()}};this.show=function(){if(e.show.arguments.length==1){e.index=e.show.arguments[0]}e.dialogs[e.index].show();e.backIndex=e.index;return e};this.hide=function(){if(e.hide.arguments.length==1){e.index=e.hide.arguments[0]}e.dialogs[e.index].hide();return e};this.next=function(){if((e.index+1)<d.length){++e.index;e.dialogs[e.backIndex].next(e.dialogs[e.index]);e.backIndex=e.index}return e};this.prev=function(){if((e.index-1)>=0){--e.index;e.dialogs[e.backIndex].next(e.dialogs[e.index]);e.backIndex=e.index}return e};this.back=function(){var f=e.index;e.dialogs[e.index].next(e.dialogs[e.backIndex]);e.index=e.backIndex;e.backIndex=f;return e};c();return this};a.dialog=function(c){var b={innerHTML:"",cssDialog:"dialog"};var c=a.extend(b,c);var e=a("<div/>").appendTo(a(document.body));e.append(c.innerHTML).addClass(c.cssDialog);var f=e.dialog(c).show();return f}})(jQuery);(function(a){a.fn.fixed=function(k){var g=this;var i=a(this);var c={left:"auto",right:"auto",bottom:"auto",top:"auto",direction:"left",status:"show",animateSpeed:"fast",minVal:200,eFixedBar:".fixbar"};this.config=a.extend(c,k);i.show();var f=a(this).children(k.eFixedBar).css("cursor","pointer");var j=i.height();var d=i.width();switch(g.config.direction){case"top":g.config.top=0;break;case"left":g.config.left=0;break;case"bottom":g.config.bottom=0;break;case"right":g.config.right=0;break;case"auto":break}if(g.config.top=="auto"&&g.config.bottom=="auto"){g.config.bottom=0}if(g.config.left=="auto"&&g.config.right=="auto"){g.config.right=0}var e=function(){a("body").css({"background-image":"url(about:blank)","background-attachment":"fixed"});var l=a(document).height();a(window).scroll(function(){a("body").height(l)});i.css({position:"absolute"});if(g.config.top!="auto"){i[0].style.setExpression("bottom","eval(document.documentElement.scrollTop"+(g.config.top)+")")}if(g.config.left!="auto"){i[0].style.setExpression("right","eval(document.documentElement.scrollLeft+document.documentElement.clientWidth-this.offsetWidth)-(parseInt(this.currentStyle.marginLeft,10)||0)-(parseInt(this.currentStyle.marginRight,10)||0"+(g.config.left)+")")}if(g.config.right!="auto"){i[0].style.setExpression("left","eval(document.documentElement.scrollLeft+document.documentElement.clientWidth-this.offsetWidth)-(parseInt(this.currentStyle.marginLeft,10)||0)-(parseInt(this.currentStyle.marginRight,10)||0"+(g.config.right)+")")}if(g.config.bottom!="auto"){i[0].style.setExpression("top","eval(document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0"+(g.config.bottom)+"))")}};var b=function(){i.css({position:"fixed"});i.css({top:g.config.top});i.css({left:g.config.left});i.css({right:g.config.right});i.css({bottom:g.config.bottom})};var h=function(){if(g.config.direction=="left"||g.config.direction=="right"){g.config.minVal=f[0]==null?g.config.minVal:f.width()}else{if(g.config.direction=="bottom"||g.config.direction=="top"){g.config.minVal=f[0]==null?g.config.minVal:f.height()}}if(a.browser.msie&&a.browser.version=="6.0"){e()}else{b()}f.click(function(){g.toggle()});if(g.config.status=="hide"){switch(g.config.direction){case"top":i.animate({height:g.config.minVal});break;case"left":i.animate({width:g.config.minVal});break;case"right":i.animate({width:g.config.minVal});break;case"bottom":i.animate({height:g.config.minVal});break}}};this.show=function(){switch(g.config.direction){case"top":i.animate({height:j});break;case"left":i.animate({width:d});break;case"right":i.animate({width:d});break;case"bottom":i.animate({height:j});break}g.config.status="show"};this.hide=function(){switch(g.config.direction){case"top":i.animate({height:g.config.minVal});break;case"left":i.animate({width:g.config.minVal});break;case"right":i.animate({width:g.config.minVal});break;case"bottom":i.animate({height:g.config.minVal});break}g.config.status="hide"};this.toggle=function(){if(g.config.status=="hide"){g.show()}else{g.hide()}};h()};a.fn.fixed.Info={name:"fixed",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.capacityFixed=function(c){var b=a.extend({},a.fn.capacityFixed.deflunt,c);var d=function(f){var g=b.top;var e=(a(window).width()-b.pageWidth)/2+b.right;f.css({right:e,top:g});a(window).resize(function(){var h=(a(window).width()-b.pageWidth)/2+b.right;f.css({right:h})});a(window).scroll(function(){var h=a(this).scrollTop();if(h>g){if(window.XMLHttpRequest){f.css({position:"fixed",top:0})}else{f.css({top:h})}}else{f.css({position:"absolute",top:g})}});f.find(".close-ico").click(function(h){f.remove();h.preventDefault()})};return a(this).each(function(){d(a(this))})};a.fn.capacityFixed.deflunt={right:100,top:100,pageWidth:960}})(jQuery);(function(a){a.fn.loading=function(b){var g=a(this);var h=this;var f={maxOpacity:0.7,color:"#fff",animateSpeed:"slow",animateEasing:"easeOutExpo",css:"load-background",full:false};this.config=a.extend(f,b);this.status="hide";var e=function(){return{width:g.width(),height:g.height()}};this.size=e();var c=a("<div/>").appendTo(g);(function(){if(h.config.full){h.size.width="auto";h.size.height="auto";g.css({left:0,top:0,"z-index":999,position:"absolute"})}else{g.css({position:"relative"})}})();this.background=a(c).background({maxOpacity:h.config.maxOpacity,color:h.config.color,animateSpeed:h.config.animateSpeed,animateEasing:h.config.animateEasing,css:h.config.css,width:h.size.width,height:h.size.height});var d=function(){a("<div/>").appendTo(c).addClass("load-ico").css({"background-position":"center","background-repeat":"no-repeat"}).width("100%").height("100%")};this.show=function(){h.background.size=e();h.background.show();h.status="show";return h};this.hide=function(){h.background.hide();h.status="hide";return h};this.toggle=function(){if(h.status=="show"){h.hide()}else{h.show()}return h};d();return this};a.fn.loading.Info={name:"loading",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.tab=function(m){var e=this,i=a(this),l={animateType:"fade",event:"hover",auto:false,index:0,backIndex:0,tag:".tab-tag",inner:".tab-inner",interval:2000,cssCurrent:"current",cssNormal:"normal"};var m=a.extend(l,m);this.el=i;this.index=m.index;this.backIndex=m.backIndex;this.status="stop";this.tags=i.find(m.tag).css({"z-index":9999}).children();this.inners=i.find(m.inner).children().show();var b=[];this.beginChange=function(n){b.push(a.getEvent("beginChange",n));return e};this.endChange=function(n){b.push(a.getEvent("endChange",n));return e};var c=null;var d=function(o,q){if(m.index<e.inners.length&&m.index>-e.inners.length){this.status="running";a.doEvent("beginChange",b,{el:i,o:e},{index:e.index,backIndex:e.backIndex});switch(m.animateType){case"fade":if(m.index!=m.backIndex){e.inners.stop(true,true);e.inners.eq(m.backIndex).fadeOut("slow");e.inners.eq(m.index).fadeIn("slow")}break;case"horizontal":e.inners.parent().stop().animate({left:-(e.inners.width()*m.index)},m.animateSpeed,m.animateEasing);break;case"vertical":e.inners.parent().stop().animate({top:-(e.inners.height()*m.index)},m.animateSpeed,m.animateEasing);break;default:if(m.index!=m.backIndex){e.inners.eq(m.backIndex).hide();e.inners.eq(m.index).show()}break}var p=q.eq(m.backIndex);p.removeClass(m.cssCurrent).addClass(m.cssNormal);var n=q.eq(m.index);n.addClass(m.cssCurrent).removeClass(m.cssNormal);p.stop();p.fadeTo("fast",0.7,null);n.stop();n.fadeTo("fast",1,null);a.doEvent("endChange",b,{el:i,o:e},{index:e.index,backIndex:e.backIndex});m.backIndex=m.index}return m.backIndex};var j=function(){if(c!=null){clearTimeout(c);this.status="stop";c=null}};var f=function(){if(c==null){c=setTimeout(g,m.interval)}};var k=function(){m.index=e.tags.index(a(this));m.backIndex=d(e.inners,e.tags);j()};var h=function(){if(m.event=="hover"){e.tags.bind("mouseover",k)}else{e.tags.bind("click",k)}if(m.auto){e.tags.bind("mouseout",function(){f()});e.inners.hover(function(){j()},function(){f()})}switch(m.animateType){case"fade":e.inners.parent().css("position","relative");e.inners.css({position:"absolute",left:0,top:0});break;case"horizontal":e.inners.parent().wrapAll("<div></div>").parent().css({position:"relative",overflow:"hidden",height:e.inners.height(),width:e.inners.width()});e.inners.css({"float":"left"}).parent().css({position:"absolute",left:0,top:0,width:e.inners.width()*e.inners.length,height:e.inners.height()});break;case"vertical":e.inners.parent().wrapAll("<div></div>").parent().css({position:"relative",overflow:"hidden",height:e.inners.height(),width:e.inners.width()});e.inners.parent().css({position:"absolute",left:0,top:0,height:e.inners.height()});break;default:break}if(m.animateType=="fade"||m.animateType=="normal"){a.each(e.inners,function(o,p){if(o==0){a(p).show()}else{a(p).hide()}})}a.each(e.tags,function(o,p){if(o==0){a(p).addClass(m.cssCurrent)}else{a(p).addClass(m.cssNormal)}})};this.destroy=function(){e.tags.unbind("click");e.tags.unbind("mouseover");e.tags.unbind("mouseout");e.tags.removeClass(m.cssCurrent);e.inners.unbind("mouseover");e.inners.unbind("mouseout");e.inners.parent().parent().css({position:"relative",overflow:"visiable",height:e.inners.height(),width:e.inners.width()});e.inners.css({"float":"none",position:"static"}).parent().css({position:"relative",width:e.inners.width()*e.inners.length,height:e.inners.height()});m.index=0;m.backIndex=0;e.current(0);j()};var g=function(){if(m.index>=e.tags.length){m.index=0}m.backIndex=d(e.inners,e.tags);m.index++;j();c=setTimeout(g,m.interval)};this.current=function(){switch(e.current.arguments.length){case 0:return m.index;case 1:m.index=e.current.arguments[0];m.backIndex=d(m,e.inners,e.tags);return e}};h();if(m.auto){f()}return this};a.fn.tab.Info={name:"tab",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){var b=function(c,g){var f=g,h=this,e={max:140,callback:function(){}};var c=a.extend(e,c);this.resoult=c.max;var d=function(){var i=f.val().length;if(i>c.max){f.val(f.val().substring(0,c.max));h.resoult=c.max-f.val().length;if(c.callback){c.callback(h.resoult)}return false}else{h.resoult=c.max-i;if(c.callback){c.callback(h.resoult)}return true}};f.bind("keypress",function(){d()});f.bind("keyup",function(){d()});return this};a.fn.textArea=function(c){var e=this,f=this,d={max:140,callback:function(){}};var c=a.extend(d,c);this.items=[];if(e.length>1){a.each(e,function(g,h){f.items.push(a(h).textArea(c))})}else{f=e.textArea(c)}return f};a.fn.textArea.info={name:"textArea",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.textBox=function(b){var f=this;var e=a(this);var d={value:"请输入"};this.config=a.extend(d,b);var c=function(h){var g=h.val();h.css("color","#999");h.focus(function(){if(a(this).val()==f.config.value){a(this).val("");h.css("color","black")}});h.blur(function(){if(a(this).val()==""){a(this).val(g);a(this).css("color","#999")}})};if(e.length>1){a.each(e,function(g,h){c(a(h))})}else{c(e)}return this};a.fn.textBox.Info={name:"textBox",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.tipBox=function(c){var g=a(this);var i=this;var f={status:"hide",property:"width,height,opacity,visibility,left,top",startValue:{},endValue:{},animateSpeed:"slow",animateEasing:"easeOutExpo",zIndex:1,mainBox:".mainbox",subBox:".subbox"};var c=a.extend(f,c);this.mainBox=g.find(c.mainBox);this.subBox=g.find(c.subBox);var d=g.easyBox({property:"background-color,border-color"});var b=i.mainBox.easyBox(c);var h=i.subBox.easyBox({property:"height,opacity,display"});var e=function(){g.css({position:"relative"});i.mainBox.css({position:"absolute","z-index":c.zIndex});i.subBox.css({position:"absolute","z-index":c.zIndex-1});i.mainBox.endShow(function(){h.show()});i.mainBox.beginHide(function(){h.hide()});g.hover(function(j){i.show();d.show()},function(j){i.hide();d.hide()})};this.show=function(){b.show()};this.hide=function(){b.hide()};this.toggle=function(){b.toggle()};e();return this};a.fn.tipBoxs=function(b){var d=a(this);var e=this;var c={status:"hide",property:"width,height,opacity,visibility,left,top",startValue:{},endValue:{},animateSpeed:"slow",animateEasing:"easeOutExpo",order:"ltor",mainBox:".mainbox",subBox:".subbox"};var b=a.extend(c,b);this.tipBoxs=[];a.each(d,function(f,g){if(b.order=="ltor"){b.zIndex=f}else{(b.order=="rtol")}b.zIndex=d.length-f;e.tipBoxs.push(a(g).tipBox(b))});return e};a.fn.tipBox.Info={name:"tipBox",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.navgation=function(b){var f=this,e=a(this),d={direction:"horizontal",elements:{}};this.config=a.extend(d,b);this.items=e.children();var c=function(){e.show();a.each(f.items,function(g,j){a(j).children("ul").children("li").css({opacity:0.7}).hover(function(){a(this).css({opacity:1})},function(){a(this).css({opacity:0.7})});a(j).children("a").css("display","block").addClass("tabelement-item");var h=a(j).CZYTabElement();if(f.config.direction=="horizontal"){a(j).CZYSelect({event:"hover",callback:{beginShow:function(){if(a(j).find(".accor-inner").length>0){h.lock=true}},hidden:function(){h.lock=false;h.start()}}})}else{a(j).CZYAccordion({event:"click",type:"normal",callback:{beginShow:function(){if(a(j).find(".accor-inner").length>0){h.lock=true}},hidden:function(){h.lock=false;h.start()}}})}})};this.show=function(){switch(f.show.arguments.length){case 0:return f;case 1:return f}};this.hide=function(){switch(f.show.arguments.length){case 0:return f;case 1:return f}};c();return this};a.fn.navgation.Info={name:"navgation",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"};a.fn.CZYTabElement=function(b){var f=this;var e=a(this);var d={auto:true,event:"hover",animateSpeed:"fast",elements:{item:".tabelement-item"}};this.config=a.extend(d,b);this.items=e.children(f.config.elements.item);this.length=f.items.length;this.lock=false;var c=function(){e.css({}).show();f.items.css({display:"block"});if(f.config.auto){if(f.config.event=="hover"){a(f.items[f.length-1]).bind("mouseout",function(){if(!f.lock){f.start()}});a(f.items[f.length-1]).bind("mouseover",function(){if(!f.lock){f.rebound()}})}else{a(f.items[f.length-1]).bind("mousedown",function(){if(!f.lock){f.rebound()}});a(f.items[f.length-1]).bind("mouseup",function(){if(!f.lock){f.start()}})}}a.each(f.items,function(g,h){if(g!=f.length-1){if(!(a.browser.msie&&(a.browser.version=="6.0")&&!a.support.style)){a(h).css({opacity:0})}else{}}a(h).css({"margin-top":-a(h).height()*g,position:"relative","z-index":g})})};this.index=f.items.length-1;this.start=function(){if(f.index<f.length-1){a(f.items[f.index]).stop();a(f.items[f.index]).animate({opacity:0},f.config.animateSpeed);a(f.items[++f.index]).animate({opacity:1},f.config.animateSpeed);f.start()}};this.rebound=function(){if(f.index>0){a(f.items[f.index]).stop();a(f.items[f.index]).animate({opacity:0},f.config.animateSpeed);a(f.items[--f.index]).animate({opacity:1},f.config.animateSpeed);f.rebound()}};c();return this}})(jQuery);(function(a){a.fn.listView=function(j){var d=this;var e=a(this);var h={animateType:"fade",aniamteSpeed:"fast",animateEasing:"easeOutExpo",isImage:false,columnCount:5,space:10,autoLoad:true,data:{},groupName:"g"};var j=a.extend(h,j);this.el=e;this.items=[];this.data={};this.point={left:0,top:0};this.index=-1;this.rowIndex=0;this.currentLeft=0;this.currentTop=0;var f=function(){var m=e.children();for(var k=0;k<m.length;k++){d.add(a(m[k]))}if(j.data!=null){var l=j.data;for(var k=0;k<l.length;k++){d.add(l[k])}}};var g=function(l){switch(j.animateType){case"fade":l.css({opacity:0});break;case"absolute":l.parent().css({position:"relative"});l.css({position:"absolute",right:0,top:0,opacity:1});break;default:break}var k=e.find("a[rel="+j.groupName+"]");if(j.isImage){k.fancybox({transitionIn:"none",transitionOut:"none",titlePosition:"over",titleFormat:function(p,o,m,n){return'<span id="fancybox-title-over">Image '+(m+1)+" / "+o.length+(p.length?" &nbsp; "+p:"")+"</span>"}})}};var i=function(n,q,o,p,m,k){var l=this;this.element=n;this.left=q;this.top=p;this.toLeft=o;this.toTop=m;this.height=k;this.move=function(s,r){s=s|l.toLeft;r=r|l.toTop;l.element.stop();l.element.animate({left:s,top:r},j.animateSpeed,j.animateEasing);l.left=s;l.top=r};this.fade=function(r,s){l.element.stop();l.element.animate({opacity:r,height:k},j.animateSpeed,j.animateEasing,s)}};var b=function(){for(var k=0;k<d.items.length;k++){d.items[k].element.stop()}};var c=function(k,m){g(m);var l=new i(m,null,d.currentLeft,null,d.currentTop,m.height());switch(j.animateType){case"fade":m.height(0);l.fade(1,null);break;case"absolute":l.move();break}d.index=k;d.currentLeft+=m.width()+j.space;if((k+1)%j.columnCount==0){d.rowIndex++;d.currentTop+=m.height()+j.space;d.currentLeft=0}d.items.push(l);return l};this.clear=function(){d.items=null;d.index=0;d.rowIndex=0;e.empty();return d};this.reshow=function(){d.index=0;switch(j.animateType){case"fade":d.rowList.children().css({opacity:0});break}d.show();return d};this.add=function(k){if(!d.items){d.items=[]}d.index++;var l=null;if(a.isjQuery(k)){l=k;e.append(l)}else{l=a("<div/>").appendTo(e);try{l.append(k)}catch(m){}}c(d.index,a(l));return d};f();return this};a.fn.listView.Info={name:"listView",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.dataGrid=function(m){a.fn.listView.call(this,{isImage:false,animateType:"normal"});var e=this;var g=a(this);var k={data:{},cssCells:"datacells",del:"删除"};var m=a.extend(k,m);var c=null;this.el=g;var d=[];this.beginUpdate=function(n){d.push(a.getEvent("beginUpdate",n));return e};this.beginDel=function(n){d.push(a.getEvent("beginDel",n));return e};this.endUpdate=function(n){d.push(a.getEvent("endUpdate",n));return e};this.endDel=function(n){d.push(a.getEvent("endDel",n));return e};var h=function(q){var o=this;o.element=a("<ul/>").addClass("clearfix").addClass(m.cssCells).css("display","table-row");for(var p in q){var n=a("<li/>").appendTo(o.element).css("display","table-cell");n.html("<span>"+q[p].name+"</span>")}i(o.element);return this};var l=function(r,q,p){var n=this;this.element=a("<ul/>").attr("data-index",p).addClass("clearfix").addClass(m.cssCells).css("display","table-row");this.index=p;for(var o in q){var s=new j(r[o],q[o],n.index,o);s.element.appendTo(n.element)}i(n.element,p,q);return this};var j=function(r,n,u,p){var o=this;this.element=a("<li/>").css("display","table-cell");this.label=a("<span/>").appendTo(o.element).css({display:"block",width:"100%",height:"100%"}).html(n);this.input=null;this.value=null;this.type=r.type;this.rowIndex=u;this.editor=null;var t=function(w){if(w!=null){for(var v=0;v<w.length;v++){o.input.append('<option value="'+w[v].value+'">'+w[v].text+"</option>")}}};var s=function(){if(data!=null){for(var v=0;v<data.length;v++){if(o.label.html()==data[v].text){o.input.find("option").eq(v).attr("selected","true")}}}};var q=function(){o.label.dblclick(function(y){o.edit(true,y)});switch(o.type){case"text":o.input=a("<input/>").attr("type","text");break;case"combox":o.input=a("<select/>");t(r.data);break;case"datetime":o.input=a("<input/>").attr("type","datetime");break;case"check":o.input=a("<input/>").attr("type","checkbox");break;case"editor":var w=a("<div/>").appendTo(a(document.body)).css("position","absolute");w.parent().css("position","relative");var v=a("<textarea/>").appendTo(w).ckeditor({width:600,height:100});o.input=w;var x=v.data("ckeditorInstance");x.on("blur",function(){w.hide();o.label.show();a.doEvent("beginUpdate",d,{el:g,o:e,trigger:o.label},{index:o.rowIndex,columnName:p,value:x.getData()});o.label.html(x.getData());a.doEvent("endUpdate",d,{el:g,o:e,trigger:x},{index:o.rowIndex,columnName:p,value:o.label.html()})});break;default:o.input=a("<input/>").attr("type","text");break}if(o.type!=v||o.type==null){o.input.width("90%").appendTo(o.element);o.input.hide();o.input.bind("blur",function(y){o.edit(false,y)})}};this.edit=function(w,x){if(w){switch(o.type){case"text":o.input.val(o.label.html());break;case"combox":s();break;case"datetime":o.input.val(o.label.html());break;case"check":o.input.val(o.label.html());break;case"editor":var v=o.input.find("textarea").data("ckeditorInstance");v.setData(o.label.html());v.focus();break;default:o.input.val(o.label.html());break}o.label.hide();o.input.show().focus()}else{a.doEvent("beginUpdate",d,{el:g,o:e,trigger:o.label},{index:o.rowIndex,columnName:p,value:o.input.val()});switch(o.type){case"text":o.label.html(o.input.val());break;case"combox":o.label.html(o.input.find("option:selected").text());break;case"datetime":o.label.html(o.input.val());break;case"check":o.label.html(o.input.val());break;case"editor":break;default:o.label.html(o.input.val());break}o.label.show();o.input.hide();a.doEvent("endUpdate",d,{el:g,o:e,trigger:o.input},{index:o.rowIndex,columnName:p,value:o.label.html()})}};q()};var i=function(q,p,r){if(p!=null){var n=a("<li/>").appendTo(q).css("display","table-cell");var o=a("<a/>");o.attr("href","javascript:;").html(m.del);o.appendTo(n);o.click(function(){a.doEvent("beginDel",d,{el:g,o:e,trigger:o},{index:p,record:r});a.doEvent("endDel",d,{el:g,o:e,trigger:o},{index:p,record:r})})}else{var n=a("<li/>").appendTo(q).css("display","table-cell").appendTo(n)}};var b=function(q,p){if(c==null){c=new h(q);e.add(c.element)}for(var n=0;n<p.length;n++){var o=new l(q,p[n],n);e.add(o.element)}return e};var f=function(){g.css({display:"table",width:"100%","border-collapse":"collapse"});if(m.data!=null){g.css({"margin-top":1,"margin-left":1});b(m.data.head,m.data.body)}};this.clear=function(){c=null;e.items=null;e.index=0;if(e.rowList){e.rowList.empty()}return e};this.load=function(n){b(n.head,n.body)};this.reLoad=function(n){e.clear();e.load(n)};return this};a.fn.dataGrid.Info={name:"dataGrid",author:"caizhongyi",ver:"1.0.0.0",date:"2011-05-17",email:"274142680@qq.com",copyright:"Copyright @ 2000-2011 Cai ZhongYi Software All Rights Reserved"}})(jQuery);(function(a){a.fn.lazyload=function(b){var c={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};if(b){a.extend(c,b)}var d=this;if("scroll"==c.event){a(c.container).bind("scroll",function(g){var e=0;d.each(function(){if(!a.belowthefold(this,c)&&!a.rightoffold(this,c)){a(this).trigger("appear")}else{if(e++>c.failurelimit){return false}}});var f=a.grep(d,function(h){return !h.loaded});d=a(f)})}return this.each(function(){var e=this;a(e).attr("original",a(e).attr("src"));if("scroll"!=c.event||a.belowthefold(e,c)||a.rightoffold(e,c)){if(c.placeholder){a(e).attr("src",c.placeholder)}else{a(e).removeAttr("src")}e.loaded=false}else{e.loaded=true}a(e).one("appear",function(){if(!this.loaded){a("<img />").bind("load",function(){a(e).hide().attr("src",a(e).attr("original"))[c.effect](c.effectspeed);e.loaded=true}).attr("src",a(e).attr("original"))}});if("scroll"!=c.event){a(e).bind(c.event,function(f){if(!e.loaded){a(e).trigger("appear")}})}})};a.belowthefold=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).height()+a(window).scrollTop()}else{var b=a(d.container).offset().top+a(d.container).height()}return b<=a(c).offset().top-d.threshold};a.rightoffold=function(c,d){if(d.container===undefined||d.container===window){var b=a(window).width()+a(window).scrollLeft()}else{var b=a(d.container).offset().left+a(d.container).width()}return b<=a(c).offset().left-d.threshold};a.extend(a.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})})(jQuery);(function(f){var c={speed:350,easing:"linear",padding:10,constrain:false},h=f(window),e=[],b={init:function(i){c=f.extend(c,i);return this.each(function(){var j=f(this);a(j);e[e.length]=j;g()})},remove:function(){return this.each(function(){var i=this;f.each(e,function(j,k){if(k.get(0)===i){d(null,k);e.splice(j,1);return false}})})},destroy:function(){f.each(e,function(j,k){d(null,k)});e=[];h.unbind("scroll",g);h.unbind("resize",d);return this}};var g=function(){f.each(e,function(m,p){var o=p,n=o.data("stickySB");if(n){var j=h.scrollTop()-n.offs.top,k=o.offset(),q=n.orig.offset.top-n.offs.top,l=q;if(q<j){if(j>n.offs.bottom){l=n.offs.bottom}else{l=j+c.padding}}o.stop().animate({top:l},c.speed,c.easing)}})};var a=function(o){if(o){var n=o,m=n.parent(),i=m.offset(),j=n.offset(),k=n.data("stickySB");if(!k){k={offs:{},orig:{top:n.css("top"),left:n.css("left"),position:n.css("position"),marginTop:n.css("marginTop"),marginLeft:n.css("marginLeft"),offset:n.offset()}}}while(i&&"top" in i&&m.css("position")=="static"){m=m.parent();i=m.offset()}if(i){var l=parseInt(m.css("paddingBottom"));l=isNaN(l)?0:l;k.offs=i;k.offs.bottom=c.constrain?Math.abs((m.innerHeight()-l)-n.outerHeight()):f(document).height()}else{k.offs={top:0,left:0,bottom:f(document).height()}}n.css({position:"absolute",top:Math.floor(j.top-k.offs.top)+"px",left:Math.floor(j.left-k.offs.left)+"px",margin:0,width:n.width()}).data("stickySB",k)}};var d=function(i,j){var k=e;if(j){k=[j]}f.each(k,function(l,n){var m=n.data("stickySB");if(m){n.css({position:m.orig.position,marginTop:m.orig.marginTop,marginLeft:m.orig.marginLeft,left:m.orig.left,top:m.orig.top});if(!j){a(n);g()}}})};h.bind("scroll",g);h.bind("resize",d);f.fn.stickySidebar=function(i){if(b[i]){return b[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(!i||typeof i=="object"){return b.init.apply(this,arguments)}}}})(jQuery);$.fn.extend({mousewheel:function(a){return this.each(function(){var b=this;b.D=0;if($.browser.msie||$.browser.safari){b.onmousewheel=function(){b.D=event.wheelDelta;event.returnValue=false;a&&a.call(b)}}else{b.addEventListener("DOMMouseScroll",function(c){b.D=c.detail>0?-1:1;c.preventDefault();a&&a.call(b)},false)}})}});$.fn.extend({jscroll:function(a){return this.each(function(){a=a||{};a.Bar=a.Bar||{};a.Btn=a.Btn||{};a.Bar.Bg=a.Bar.Bg||{};a.Bar.Bd=a.Bar.Bd||{};a.Btn.uBg=a.Btn.uBg||{};a.Btn.dBg=a.Btn.dBg||{};var d={W:"15px",BgUrl:"",Bg:"#efefef",Bar:{Pos:"up",Bd:{Out:"#b5b5b5",Hover:"#ccc"},Bg:{Out:"#fff",Hover:"#fff",Focus:"orange"}},Btn:{btn:true,uBg:{Out:"#ccc",Hover:"#fff",Focus:"orange"},dBg:{Out:"#ccc",Hover:"#fff",Focus:"orange"}},Fn:function(){}};a.W=a.W||d.W;a.BgUrl=a.BgUrl||d.BgUrl;a.Bg=a.Bg||d.Bg;a.Bar.Pos=a.Bar.Pos||d.Bar.Pos;a.Bar.Bd.Out=a.Bar.Bd.Out||d.Bar.Bd.Out;a.Bar.Bd.Hover=a.Bar.Bd.Hover||d.Bar.Bd.Hover;a.Bar.Bg.Out=a.Bar.Bg.Out||d.Bar.Bg.Out;a.Bar.Bg.Hover=a.Bar.Bg.Hover||d.Bar.Bg.Hover;a.Bar.Bg.Focus=a.Bar.Bg.Focus||d.Bar.Bg.Focus;a.Btn.btn=a.Btn.btn!=undefined?a.Btn.btn:d.Btn.btn;a.Btn.uBg.Out=a.Btn.uBg.Out||d.Btn.uBg.Out;a.Btn.uBg.Hover=a.Btn.uBg.Hover||d.Btn.uBg.Hover;a.Btn.uBg.Focus=a.Btn.uBg.Focus||d.Btn.uBg.Focus;a.Btn.dBg.Out=a.Btn.dBg.Out||d.Btn.dBg.Out;a.Btn.dBg.Hover=a.Btn.dBg.Hover||d.Btn.dBg.Hover;a.Btn.dBg.Focus=a.Btn.dBg.Focus||d.Btn.dBg.Focus;a.Fn=a.Fn||d.Fn;var e=this;var m,u=0,w=0;$(e).css({overflow:"hidden",position:"relative",padding:"0px"});var l=$(e).width(),s=$(e).height()-1;var o=a.W?parseInt(a.W):21;var t=l-o;var r=a.Btn.btn==true?o:0;if($(e).children(".jscroll-c").height()==null){$(e).wrapInner("<div class='jscroll-c' style='top:0px;z-index:9999;zoom:1;position:relative'></div>");$(e).children(".jscroll-c").prepend("<div style='height:0px;overflow:hidden'></div>");$(e).append("<div class='jscroll-e' unselectable='on' style=' height:100%;top:0px;right:0;-moz-user-select:none;position:absolute;overflow:hidden;z-index:10000;'><div class='jscroll-u' style='position:absolute;top:0px;width:100%;left:0;background:blue;overflow:hidden'></div><div class='jscroll-h'  unselectable='on' style='background:green;position:absolute;left:0;-moz-user-select:none;'></div><div class='jscroll-d' style='position:absolute;bottom:0px;width:100%;left:0;overflow:hidden;'></div></div>")}var j=$(e).children(".jscroll-c");var h=$(e).children(".jscroll-e");var g=h.children(".jscroll-h");var b=h.children(".jscroll-u");var i=h.children(".jscroll-d");if($.browser.msie){document.execCommand("BackgroundImageCache",false,true)}j.css({"padding-right":o});h.css({width:o,background:a.Bg,"background-image":a.BgUrl});g.css({top:r,background:a.Bar.Bg.Out,"background-image":a.BgUrl,"border-color":a.Bar.Bd.Out,width:o-2});b.css({height:r,background:a.Btn.uBg.Out,"background-image":a.BgUrl});i.css({height:r,background:a.Btn.dBg.Out,"background-image":a.BgUrl});g.hover(function(){if(w==0){$(this).css({background:a.Bar.Bg.Hover,"background-image":a.BgUrl,"border-color":a.Bar.Bd.Hover})}},function(){if(w==0){$(this).css({background:a.Bar.Bg.Out,"background-image":a.BgUrl,"border-color":a.Bar.Bd.Out})}});b.hover(function(){if(w==0){$(this).css({background:a.Btn.uBg.Hover,"background-image":a.BgUrl})}},function(){if(w==0){$(this).css({background:a.Btn.uBg.Out,"background-image":a.BgUrl})}});i.hover(function(){if(w==0){$(this).css({background:a.Btn.dBg.Hover,"background-image":a.BgUrl})}},function(){if(w==0){$(this).css({background:a.Btn.dBg.Out,"background-image":a.BgUrl})}});var c=j.height();var v=30;if(v<10){v=10}var f=v/6;var k=0,q=false;g.height(v);if(c<=s){j.css({padding:0});h.css({display:"none"})}else{q=true}if(a.Bar.Pos!="up"){k=s-v-r;p()}g.bind("mousedown",function(z){a.Fn&&a.Fn.call(e);w=1;g.css({background:a.Bar.Bg.Focus,"background-image":a.BgUrl});var y=z.pageY,x=parseInt($(this).css("top"));$(document).mousemove(function(A){k=x+A.pageY-y;p()});$(document).mouseup(function(){w=0;g.css({background:a.Bar.Bg.Out,"background-image":a.BgUrl,"border-color":a.Bar.Bd.Out});$(document).unbind()});return false});b.bind("mousedown",function(x){a.Fn&&a.Fn.call(e);w=1;b.css({background:a.Btn.uBg.Focus,"background-image":a.BgUrl});e.timeSetT("u");$(document).mouseup(function(){w=0;b.css({background:a.Btn.uBg.Out,"background-image":a.BgUrl});$(document).unbind();clearTimeout(m);u=0});return false});i.bind("mousedown",function(x){a.Fn&&a.Fn.call(e);w=1;i.css({background:a.Btn.dBg.Focus,"background-image":a.BgUrl});e.timeSetT("d");$(document).mouseup(function(){w=0;i.css({background:a.Btn.dBg.Out,"background-image":a.BgUrl});$(document).unbind();clearTimeout(m);u=0});return false});e.timeSetT=function(z){var x=this;if(z=="u"){k-=f}else{k+=f}p();u+=2;var y=500-u*50;if(y<=0){y=0}m=setTimeout(function(){x.timeSetT(z)},y)};h.bind("mousedown",function(x){a.Fn&&a.Fn.call(e);k=k+x.pageY-g.offset().top-v/2;n();return false});function n(){if(k<r){k=r}if(k>s-v-r){k=s-v-r}g.stop().animate({top:k},100);var x=-((k-r)*c/(s-2*r));j.stop().animate({top:x},1000)}function p(){if(k<r){k=r}if(k>s-v-r){k=s-v-r}g.css({top:k});var x=-((k-r)*c/(s-2*r));j.css({top:x})}$(e).mousewheel(function(){if(q!=true){return}a.Fn&&a.Fn.call(e);if(this.D>0){k-=f}else{k+=f}p()})})}});