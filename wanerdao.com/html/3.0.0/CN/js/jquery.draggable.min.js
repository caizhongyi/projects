(function(a){a.fn.undraggable=function(b){a(document).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag");return a(this).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag")};a.fn.draggable=function(c){var b=this;c=a.extend(true,{},{handler:null,opacity:0.5,axis:"",containment:window,start:function(d){},drag:function(d){},stop:function(d){}},c);return a(this).each(function(){var g=false;var i,e=(a(this).data("containment")||c.containment)=="parent"?a(this).parent():a(a(this).data("containment")||c.containment),f=a(this).find(a(this).data("handler")||c.handler),d=e.offset()||{left:0,top:0};c.axis=a(this).data("axis")||c.axis,c.start=window[a(this).data("start")]||c.start,c.drag=window[a(this).data("drag")]||c.drag,c.stop=window[a(this).data("stop")]||c.stop,f=f.length==0?a(this):f;e.css("position","relative");function h(j){if(g){f.removeClass("draggable");c.stop&&c.stop.call(b,j);g=false;a(b).css({transition:"",animation:""});(c.opacity!=1||c.opacity!="")&&a(b).css({opacity:""})}}f.css({"-moz-user-select":"none","-khtml-user-select":"none","user-select":"none"}).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag").on("mousedown.jdrag",function(j){j.preventDefault();j.stopPropagation();f.addClass("draggable");g=true;a(b).css({transition:"none",animation:"none",opacity:c.opacity});if(a(b).css("position")=="static"||a(b).css("position")=="relative"){a(b).css({position:"absolute",left:a(b).offset().left-d.left,top:a(b).offset().top-d.top})}c.start&&c.start.call(b,j);i={x:j.pageX,y:j.pageY};a(document).off("mousedown.jdrag mousemove.jdrag mouseup.jdrag").on("mousemove.jdrag",function(o){o.preventDefault();if(g){var m=o.pageX-i.x,l=o.pageY-i.y;function k(){var r=a(this).position().left+m,p=a(this).outerWidth();var q=0;if(a(this).css("position")=="fixed"){q=e.scrollLeft()}if(p+r>e.width()+e.scrollLeft()-q){r=e.width()+e.scrollLeft()-p-q}else{if(r<e.scrollLeft()-q){r=e.scrollLeft()-q}}return r}function n(){var r=a(this).position().top+l,p=a(this).outerHeight();var q=0;if(a(this).css("position")=="fixed"){q=e.scrollTop()}if(p+r>e.height()+e.scrollTop()-q){r=e.height()+e.scrollTop()-p-q}else{if(r<e.scrollTop()-q){r=e.scrollTop()-q}}return r}if(c.axis=="x"||c.axis=="X"){a(b).css("left",k)}else{if(c.axis=="y"||c.axis=="Y"){a(b).css("top",n)}else{a(b).css({left:k,top:n})}}i={x:o.pageX,y:o.pageY};c.drag&&c.drag.call(b,o)}}).on("mouseup.jdrag",h)})})}})(jQuery);