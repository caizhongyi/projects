!function(e){var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$elem=e(n);for(var i in this.options)this.options[i]=this.$elem.data(i)||this.options[i];this.index=this.options.index,this.init.call(this)};t.prototype={init:function(){var t=this;this.$list=this.$elem.find(this.options.list),this.$nav=this.$elem.find(this.options.nav);if(!this.$list.length){var n=e("<div>",{"class":this.$elem.attr("class")});n.insertBefore(this.$elem.removeAttr("class").addClass("list")).append(this.$elem),this.$list=this.$elem,this.$elem=n}this.$list.hide(),this.$canvas=e('<div class="clip"/>').appendTo(this.$elem),this.prop="left",this.supportCSS3=!1;var r={prev:"icon-chevron-left",next:"icon-chevron-right"};t.$elem.hasClass("vertical")&&(this.prop="top",r={prev:"icon-chevron-up",next:"icon-chevron-down"}),e.browser&&e.browser.supportsTransitions&&(this.supportCSS3=!0),this.addElements(),this.createNavigation(),!this.$elem.find(this.options.prev).length&&this.$elem.prepend('<a class="prev" href="#" data-prev><i class="icon '+r.prev+'"></i></a>'),!this.$elem.find(this.options.next).length&&this.$elem.prepend('<a class="next" href="#" data-next><i class="icon '+r.next+'"></i></a>'),this.$elem.off("click.slider").on("click.slider",this.options.prev,function(n){n.preventDefault(),t.$target=e(this),t.prev()}).on("click.slider",this.options.next,function(n){n.preventDefault(),t.$target=e(this),t.next()}),this.touch(),this.options.auto&&this.autoplay()},autoplay:function(){var e=this;return this.$elem.off("mouseenter.slider mouseleave.slider").on("mouseenter.slider",function(){e.stop()}).on("mouseleave.slider",function(){e.autoplay()}),this.timer=setInterval(function(){e.next()},this.options.interval),this},stop:function(){return this.timer&&clearInterval(this.timer),this},touch:function(){var t={},n={},r={},i=this.$canvas,s=this;i.off("touchstart.touch touchmove.touch touchend.touch").on("touchstart.touch",function(n){var r=n.originalEvent;if(r.targetTouches.length>=1){var i=r.targetTouches[0];t={left:i.pageX,top:i.pageY}}s.supportCSS3&&e(this).children().removeClass("slider-item-transition")}),i.on("touchmove.touch",function(i){var o=i.originalEvent;if(o.changedTouches.length>=1){var u=o.changedTouches[0];n={left:u.pageX,top:u.pageY},r.left=(t.left-n.left)/s.$canvas.width(),r.top=(t.top-n.top)/s.$canvas.height();function a(t){s.$items.each(function(n){var i=-r[t]*100;n==0?i-=100:n==2&&(i+=100),e(this).css(t,i+"%")})}a(s.prop)}}),i.on("touchend.touch",function(t){var n=t.originalEvent;if(n.changedTouches.length>=1){var i=n.changedTouches[0];s.supportCSS3&&e(this).children().addClass("slider-item-transition").removeAttr("style"),Math.abs(r[s.prop])>=.5?r[s.prop]>0?s.next():s.prev():s.change(s.index)}})},len:function(){return this.$list.children().length},createNavigation:function(){var t=this;if(!this.$nav.length){this.$nav=e('<ul class="slider-nav" data-nav></ul>');var n="";for(var r=0;r<this.len();r++)r==this.index?n+='<li class="active"></li>':n+="<li></li>";this.$nav.append(n).appendTo(this.$elem)}return this.$nav.off("click.slider").on("click.slider","li",function(){var n=t.index>e(this).index()?"prev":"next";t.change(e(this).index(),n)}),this},addElements:function(t,n){t=t==null?this.index:t;var r=this.len(),i=["slider-left","","slider-right"];this.$items=e();for(var s=0;s<3;s++){var o=t;s==2?o=o+1<r?o+1:0:s==0&&(o=o-1<0?r-1:o-1);var u=e('<div class="slider-item"/>').html(n?n[o]:this.$list.children().eq(o).html());this.supportCSS3?u.addClass("slider-item-transition").addClass(i[s]):u.css("left",(s-1)*100+"%"),this.$items=this.$items.add(u)}return this.$items.appendTo(this.$canvas.empty()),this},change:function(t,n){var r=this;if(r.supportCSS3){if(this.$items.is(":animated"))return this;if(this.$items.data("animated"))return this}return this.$nav.children().eq(t).addClass("active").siblings().removeClass("active"),this.$items.each(function(i){if(r.supportCSS3)e(this).addClass("active"),n=="prev"?e(this).addClass("slider-prev"):n=="next"&&e(this).addClass("slider-next"),r.$items.data("animated",!0),i==0&&e(this).transitionEnd(function(){r.$items.data("animated",!1),r.addElements(t)});else{var s=(i-1)*100+"%";n=="prev"?s=i*100+"%":n=="next"&&(s=(i-2)*100+"%");var o={};o[r.prop]=s,e(this).animate(o,function(){r.addElements(t)})}}),this.index=t,this},add:function(e){return this.$list.append(e),this.$nav.append("<li></li>"),this},remove:function(e){return this.$list.children(":eq("+e+")").remove(),this.$nav.children(":eq("+e+")").remove(),this},disabled:function(){},prev:function(){var e=this.len(),t=this.index-1<0?e-1:this.index-1;return this.change(t,"prev")},next:function(){var e=this.len(),t=this.index+1>=e?0:this.index+1;return this.change(t,"next")}},t.DEFAULTS={interval:5e3,auto:!0,easing:"linear",duration:"normal",page:0,index:0,list:"[data-list]",nav:"[data-nav]",prev:"[data-prev]",next:"[data-next]"},e.fn.slider=function(n){var r=arguments;return e(this).each(function(){var i=e(this).data("slider");i||(i=new t(this,n),e(this).data("slider",i));var s=[];for(var o=1;o<r.length;o++)s.push(r[o]);var u=new Function("data","options","return data[ options ]("+s.join(",")+")");n&&i[n]&&u(i,n)})},e.fn.slider.Constructor=t,typeof module=="object"&&typeof module.exports=="object"&&(module.exports=e)}(window.jQuery||require("jquery"))
!function(e){var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$elem=e(n);for(var i in this.options)this.options[i]=this.$elem.data(i)||this.options[i];this.page=this.options.page,this.index=this.options.index,this.$target==e(),this.init.call(this)};t.prototype={init:function(){var t=this;this.$list=this.$elem.find(this.options.list),this.$elem.data("view")&&e.fn.slider&&(this.$slider=e(this.$elem.data("view")).slider({list:this.$list}).off("click.slider").on("click.slider",this.options.prev,function(){t.viewPrev()}).on("click.slider",this.options.next,function(){t.viewNext()}),this.slider=this.$slider.data("slider"));if(!this.$list.length){var n=e("<div>",{"class":"carousel"});n.insertBefore(this.$elem.removeClass("carousel").addClass("list")).append(this.$elem),this.$list=this.$elem.wrap('<div class="clip"></div>'),this.$elem=n}!this.$elem.find(this.options.prev).length&&this.$elem.prepend('<a class="prev" href="#" data-prev><i class="icon icon-chevron-left"></i></a>'),!this.$elem.find(this.options.next).length&&this.$elem.prepend('<a class="next" href="#" data-next><i class="icon icon-chevron-right"></i></a>'),this.$elem.off("click.carousel").on("click.carousel",this.options.prev,function(n){n.preventDefault(),t.$target=e(this),t.prev()}).on("click.carousel",this.options.next,function(n){n.preventDefault(),t.$target=e(this),t.next()}).on("click.carousel"," li",function(n){n.preventDefault(),t.index=e(this).index(),t.$slider&&t.$slider.change(t.index)}),this.resize()},addElements:function(e){var t=this.$list.children(),n='<img src="'+t.eq(e).find("a").attr("href");0/0;var r='<img src="'+t.eq(e).find("a").attr("href");0/0;var i='<img src="'+t.eq(e).find("a").attr("href");return 0/0,this.$slider.data("slider").addElements(e,["","",""]),this},resize:function(){var e=this.$list.children();return this.$list.width(e.length*e.width()),this},len:function(){var e=parseInt(this.$list.width()/this.$elem.width());return this.$list.width()%this.$elem.width()>0?e+1:e},move:function(t,n){var r=this;this.resize();var i=this.$elem,s={},o=this.$list;return t=="top"?s[t]=-n*i.outerHeight():s[t]=-n*i.outerWidth(),o.is(":animated")?this:(o.animate(s,i.data("duration")||this.options.duration,i.data("easing")||this.options.easing,function(){i.trigger(e.Event("changed"),{}),r.page=n}),this)},disabled:function(){},view:function(e){var t=this.$list.children(":eq("+e+")");return t.addClass("active").siblings().removeClass("active"),this.index=e,this},viewPrev:function(){var e=this.index-1<0?this.$list.children().length-1:this.index-1;return this.view(e)},viewNext:function(){var e=this.index+1>=this.$list.children().length?0:this.index+1;return this.view(e)},change:function(e){return this.move(this.$elem.data("prop")||this.options.prop,e)},prev:function(){var e=this.len(),t=this.page-1<0?e-1:this.page-1;return this.change(t)},next:function(){var e=this.len(),t=this.page+1>=e?0:this.page+1;return this.change(t)}},t.DEFAULTS={easing:"linear",duration:"normal",prop:"left",list:"[data-list]",prev:"[data-prev]",next:"[data-next]",page:0,index:0},e.fn.carousel=function(n,r){return e(this).each(function(){var i=e(this).data("carousel");i||(i=new t(this,n),e(this).data("carousel",i)),n&&i[n]&&i[n](r)})},e.fn.carousel.Constructor=t}(window.jQuery||require("jquery"))
